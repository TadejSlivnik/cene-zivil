"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[524],{4028:(e,t,n)=>{n(1629),n(4423),n(6099),n(8459),n(3362),n(7495),n(1699),n(5440),n(8992),n(3949),n(3500),n(6031),n(2315);var a=n(6349),r=n(8289),c=n(6314),i=n.n(c);document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("product-list");if(e){new(i())(e);i().extend("text",(function(e){return!e.includes("€")&&!e.includes("%")}),(function(e,t){return e.localeCompare(t,"sl")})),i().extend("number",(function(e){return e.includes("€")||e.includes("%")}),(function(e,t){var n=parseFloat(e.replace(/[^\d.-]/g,""))||0;return(parseFloat(t.replace(/[^\d.-]/g,""))||0)-n})),e.addEventListener("afterSort",(function(){e.querySelectorAll("th").forEach((function(e){e.classList.remove("sorted-asc","sorted-desc")}));var t=e.querySelector("th.sortable.sorted");t&&(t.classList.contains("asc")?t.classList.add("sorted-asc"):t.classList.contains("desc")&&t.classList.add("sorted-desc"))}))}document.querySelectorAll(".fetch-button").forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("data-id");t&&fetch("pin/".concat(t)).then((function(t){var n=e.querySelector("svg");n.classList.contains("fill-red-700")?(n.classList.remove("fill-red-700"),n.setAttribute("stroke-width","1")):(n.classList.add("fill-red-700"),n.setAttribute("stroke-width","0"))})).catch((function(e){console.error("Error fetching pin:",e)}))}))}));var t=null;document.querySelectorAll(".open-chart").forEach((function(e){e.addEventListener("click",(function(){var n=e.getAttribute("data-id");fetch("/chart/".concat(n)).then((function(e){return e.json()})).then((function(e){var n=document.getElementById("myChart"),r=e.title+" - "+e.trgovina;t&&t.destroy(),t=new a.Ay(n,{type:"line",data:e,options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:r,font:{size:16,weight:"bold"},padding:{bottom:20}},legend:{position:"top"},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(e){var t=e.datasetIndex,n=e.dataIndex,a=e.chart.data.datasets[t];return a.formattedData&&a.formattedData[n]?a.label+": "+a.formattedData[n]:a.label+": "+e.parsed.y+" €"}}}},hover:{mode:"nearest",intersect:!0},scales:{y:{beginAtZero:!1}}}})}))}))}));var n=null;function c(e,t){document.getElementById("qrScannerModal")&&window.Flowbite&&window.Flowbite.Modal.getOrCreateInstance(document.getElementById("qrScannerModal")).hide(),s();var n=document.querySelector('input[name="q"]');if(n){n.value=e;var a=document.getElementById("search-form");a&&a.submit()}}var o=document.getElementById("qr-scan-button");o&&o.addEventListener("click",(function(){setTimeout((function(){if(!n){var e=document.getElementById("reader");e&&(e.innerHTML='<div class="text-center p-4">Zaganjam kamero...</div>');var t=e?e.clientWidth:300,a=Math.min(t-50,250);n=new r.j9("reader"),r.j9.getCameras().then((function(t){t&&t.length>0?(t[0].id,n.start({facingMode:"environment"},{fps:10,qrbox:a},c,(function(e){})).catch((function(t){e&&(e.innerHTML='<div class="text-center text-red-500 p-4">Napaka pri dostopu do kamere. Preverite dovoljenja.</div>')}))):e&&(e.innerHTML='<div class="text-center text-red-500 p-4">Ni razpoložljivih kamer.</div>')})).catch((function(t){e&&(e.innerHTML='<div class="text-center text-red-500 p-4">Napaka pri iskanju kamer.</div>')}))}}),300)}));var d=document.getElementById("qrScannerCloseBtn");function s(){n&&n.isScanning&&(n.stop(),n=null)}d&&d.addEventListener("click",s);var l=document.getElementById("cancelScanBtn");l&&l.addEventListener("click",s),document.addEventListener("hidden.bs.modal",(function(e){"qrScannerModal"===e.target.id&&s()}))}))}},e=>{e.O(0,[690],(()=>{return t=4028,e(e.s=t);var t}));e.O()}]);