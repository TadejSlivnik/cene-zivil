/*! For license information please see 690.76bc2fa5.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[690],{34:(t,e,i)=>{"use strict";var n=i(4901);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},81:(t,e,i)=>{"use strict";var n=i(9565),r=i(9306),o=i(8551),s=i(6823),a=i(851),c=TypeError;t.exports=function(t,e){var i=arguments.length<2?a(t):e;if(r(i))return o(n(i,t));throw new c(s(t)+" is not iterable")}},235:(t,e,i)=>{"use strict";var n=i(9213).forEach,r=i(4598)("forEach");t.exports=r?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},280:(t,e,i)=>{"use strict";var n=i(6518),r=i(7751),o=i(6395),s=i(550),a=i(916).CONSTRUCTOR,c=i(3438),l=r("Promise"),h=o&&!a;n({target:"Promise",stat:!0,forced:o||a},{resolve:function(t){return c(h&&this===l?s:this,t)}})},283:(t,e,i)=>{"use strict";var n=i(9504),r=i(9039),o=i(4901),s=i(9297),a=i(3724),c=i(350).CONFIGURABLE,l=i(3706),h=i(1181),d=h.enforce,u=h.get,f=String,g=Object.defineProperty,p=n("".slice),m=n("".replace),y=n([].join),w=a&&!r((function(){return 8!==g((function(){}),"length",{value:8}).length})),_=String(String).split("String"),b=t.exports=function(t,e,i){"Symbol("===p(f(e),0,7)&&(e="["+m(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),i&&i.getter&&(e="get "+e),i&&i.setter&&(e="set "+e),(!s(t,"name")||c&&t.name!==e)&&(a?g(t,"name",{value:e,configurable:!0}):t.name=e),w&&i&&s(i,"arity")&&t.length!==i.arity&&g(t,"length",{value:i.arity});try{i&&s(i,"constructor")&&i.constructor?a&&g(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=d(t);return s(n,"source")||(n.source=y(_,"string"==typeof e?e:"")),t};Function.prototype.toString=b((function(){return o(this)&&u(this).source||l(this)}),"toString")},350:(t,e,i)=>{"use strict";var n=i(3724),r=i(9297),o=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=r(o,"name"),c=a&&"something"===function(){}.name,l=a&&(!n||n&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},397:(t,e,i)=>{"use strict";var n=i(7751);t.exports=n("document","documentElement")},421:t=>{"use strict";t.exports={}},436:(t,e,i)=>{"use strict";var n,r,o,s=i(6518),a=i(6395),c=i(6193),l=i(4576),h=i(9565),d=i(6840),u=i(2967),f=i(687),g=i(7633),p=i(9306),m=i(4901),y=i(34),w=i(679),_=i(2293),b=i(9225).set,v=i(1955),E=i(3138),A=i(1103),C=i(8265),S=i(1181),I=i(550),x=i(916),T=i(6043),M="Promise",D=x.CONSTRUCTOR,O=x.REJECTION_EVENT,R=x.SUBCLASSING,N=S.getterFor(M),k=S.set,L=I&&I.prototype,P=I,B=L,F=l.TypeError,H=l.document,V=l.process,z=T.f,U=z,j=!!(H&&H.createEvent&&l.dispatchEvent),W="unhandledrejection",Y=function(t){var e;return!(!y(t)||!m(e=t.then))&&e},G=function(t,e){var i,n,r,o=e.value,s=1===e.state,a=s?t.ok:t.fail,c=t.resolve,l=t.reject,d=t.domain;try{a?(s||(2===e.rejection&&K(e),e.rejection=1),!0===a?i=o:(d&&d.enter(),i=a(o),d&&(d.exit(),r=!0)),i===t.promise?l(new F("Promise-chain cycle")):(n=Y(i))?h(n,i,c,l):c(i)):l(o)}catch(t){d&&!r&&d.exit(),l(t)}},X=function(t,e){t.notified||(t.notified=!0,v((function(){for(var i,n=t.reactions;i=n.get();)G(i,t);t.notified=!1,e&&!t.rejection&&q(t)})))},Z=function(t,e,i){var n,r;j?((n=H.createEvent("Event")).promise=e,n.reason=i,n.initEvent(t,!1,!0),l.dispatchEvent(n)):n={promise:e,reason:i},!O&&(r=l["on"+t])?r(n):t===W&&E("Unhandled promise rejection",i)},q=function(t){h(b,l,(function(){var e,i=t.facade,n=t.value;if(Q(t)&&(e=A((function(){c?V.emit("unhandledRejection",n,i):Z(W,i,n)})),t.rejection=c||Q(t)?2:1,e.error))throw e.value}))},Q=function(t){return 1!==t.rejection&&!t.parent},K=function(t){h(b,l,(function(){var e=t.facade;c?V.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)}))},$=function(t,e,i){return function(n){t(e,n,i)}},J=function(t,e,i){t.done||(t.done=!0,i&&(t=i),t.value=e,t.state=2,X(t,!0))},tt=function(t,e,i){if(!t.done){t.done=!0,i&&(t=i);try{if(t.facade===e)throw new F("Promise can't be resolved itself");var n=Y(e);n?v((function(){var i={done:!1};try{h(n,e,$(tt,i,t),$(J,i,t))}catch(e){J(i,e,t)}})):(t.value=e,t.state=1,X(t,!1))}catch(e){J({done:!1},e,t)}}};if(D&&(B=(P=function(t){w(this,B),p(t),h(n,this);var e=N(this);try{t($(tt,e),$(J,e))}catch(t){J(e,t)}}).prototype,(n=function(t){k(this,{type:M,done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:0,value:null})}).prototype=d(B,"then",(function(t,e){var i=N(this),n=z(_(this,P));return i.parent=!0,n.ok=!m(t)||t,n.fail=m(e)&&e,n.domain=c?V.domain:void 0,0===i.state?i.reactions.add(n):v((function(){G(n,i)})),n.promise})),r=function(){var t=new n,e=N(t);this.promise=t,this.resolve=$(tt,e),this.reject=$(J,e)},T.f=z=function(t){return t===P||undefined===t?new r(t):U(t)},!a&&m(I)&&L!==Object.prototype)){o=L.then,R||d(L,"then",(function(t,e){var i=this;return new P((function(t,e){h(o,i,t,e)})).then(t,e)}),{unsafe:!0});try{delete L.constructor}catch(t){}u&&u(L,B)}s({global:!0,constructor:!0,wrap:!0,forced:D},{Promise:P}),f(P,M,!1,!0),g(M)},511:(t,e,i)=>{"use strict";var n=i(788),r=TypeError;t.exports=function(t){if(n(t))throw new r("The method doesn't accept regular expressions");return t}},537:(t,e,i)=>{"use strict";var n=i(550),r=i(4428),o=i(916).CONSTRUCTOR;t.exports=o||!r((function(t){n.all(t).then(void 0,(function(){}))}))},550:(t,e,i)=>{"use strict";var n=i(4576);t.exports=n.Promise},616:(t,e,i)=>{"use strict";var n=i(9039);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},655:(t,e,i)=>{"use strict";var n=i(6955),r=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return r(t)}},679:(t,e,i)=>{"use strict";var n=i(1625),r=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw new r("Incorrect invocation")}},687:(t,e,i)=>{"use strict";var n=i(4913).f,r=i(9297),o=i(8227)("toStringTag");t.exports=function(t,e,i){t&&!i&&(t=t.prototype),t&&!r(t,o)&&n(t,o,{configurable:!0,value:e})}},741:t=>{"use strict";var e=Math.ceil,i=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?i:e)(n)}},757:(t,e,i)=>{"use strict";var n=i(7751),r=i(4901),o=i(1625),s=i(7040),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return r(e)&&o(e.prototype,a(t))}},788:(t,e,i)=>{"use strict";var n=i(34),r=i(2195),o=i(8227)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"===r(t))}},851:(t,e,i)=>{"use strict";var n=i(6955),r=i(5966),o=i(4117),s=i(6269),a=i(8227)("iterator");t.exports=function(t){if(!o(t))return r(t,a)||r(t,"@@iterator")||s[n(t)]}},916:(t,e,i)=>{"use strict";var n=i(4576),r=i(550),o=i(4901),s=i(2796),a=i(3706),c=i(8227),l=i(4215),h=i(6395),d=i(9519),u=r&&r.prototype,f=c("species"),g=!1,p=o(n.PromiseRejectionEvent),m=s("Promise",(function(){var t=a(r),e=t!==String(r);if(!e&&66===d)return!0;if(h&&(!u.catch||!u.finally))return!0;if(!d||d<51||!/native code/.test(t)){var i=new r((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((i.constructor={})[f]=n,!(g=i.then((function(){}))instanceof n))return!0}return!(e||"BROWSER"!==l&&"DENO"!==l||p)}));t.exports={CONSTRUCTOR:m,REJECTION_EVENT:p,SUBCLASSING:g}},1072:(t,e,i)=>{"use strict";var n=i(1828),r=i(8727);t.exports=Object.keys||function(t){return n(t,r)}},1103:t=>{"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},1181:(t,e,i)=>{"use strict";var n,r,o,s=i(8622),a=i(4576),c=i(34),l=i(6699),h=i(9297),d=i(7629),u=i(6119),f=i(421),g="Object already initialized",p=a.TypeError,m=a.WeakMap;if(s||d.state){var y=d.state||(d.state=new m);y.get=y.get,y.has=y.has,y.set=y.set,n=function(t,e){if(y.has(t))throw new p(g);return e.facade=t,y.set(t,e),e},r=function(t){return y.get(t)||{}},o=function(t){return y.has(t)}}else{var w=u("state");f[w]=!0,n=function(t,e){if(h(t,w))throw new p(g);return e.facade=t,l(t,w,e),e},r=function(t){return h(t,w)?t[w]:{}},o=function(t){return h(t,w)}}t.exports={set:n,get:r,has:o,enforce:function(t){return o(t)?r(t):n(t,{})},getterFor:function(t){return function(e){var i;if(!c(e)||(i=r(e)).type!==t)throw new p("Incompatible receiver, "+t+" required");return i}}}},1291:(t,e,i)=>{"use strict";var n=i(741);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},1436:(t,e,i)=>{"use strict";var n=i(8227)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},1469:(t,e,i)=>{"use strict";var n=i(7433);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},1481:(t,e,i)=>{"use strict";var n=i(6518),r=i(6043);n({target:"Promise",stat:!0,forced:i(916).CONSTRUCTOR},{reject:function(t){var e=r.f(this);return(0,e.reject)(t),e.promise}})},1625:(t,e,i)=>{"use strict";var n=i(9504);t.exports=n({}.isPrototypeOf)},1629:(t,e,i)=>{"use strict";var n=i(6518),r=i(235);n({target:"Array",proto:!0,forced:[].forEach!==r},{forEach:r})},1699:(t,e,i)=>{"use strict";var n=i(6518),r=i(9504),o=i(511),s=i(7750),a=i(655),c=i(1436),l=r("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~l(a(s(this)),a(o(t)),arguments.length>1?arguments[1]:void 0)}})},1767:t=>{"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},1828:(t,e,i)=>{"use strict";var n=i(9504),r=i(9297),o=i(5397),s=i(9617).indexOf,a=i(421),c=n([].push);t.exports=function(t,e){var i,n=o(t),l=0,h=[];for(i in n)!r(a,i)&&r(n,i)&&c(h,i);for(;e.length>l;)r(n,i=e[l++])&&(~s(h,i)||c(h,i));return h}},1955:(t,e,i)=>{"use strict";var n,r,o,s,a,c=i(4576),l=i(3389),h=i(6080),d=i(9225).set,u=i(8265),f=i(9544),g=i(4265),p=i(7860),m=i(6193),y=c.MutationObserver||c.WebKitMutationObserver,w=c.document,_=c.process,b=c.Promise,v=l("queueMicrotask");if(!v){var E=new u,A=function(){var t,e;for(m&&(t=_.domain)&&t.exit();e=E.get();)try{e()}catch(t){throw E.head&&n(),t}t&&t.enter()};f||m||p||!y||!w?!g&&b&&b.resolve?((s=b.resolve(void 0)).constructor=b,a=h(s.then,s),n=function(){a(A)}):m?n=function(){_.nextTick(A)}:(d=h(d,c),n=function(){d(A)}):(r=!0,o=w.createTextNode(""),new y(A).observe(o,{characterData:!0}),n=function(){o.data=r=!r}),v=function(t){E.head||n(),E.add(t)}}t.exports=v},2003:(t,e,i)=>{"use strict";var n=i(6518),r=i(6395),o=i(916).CONSTRUCTOR,s=i(550),a=i(7751),c=i(4901),l=i(6840),h=s&&s.prototype;if(n({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!r&&c(s)){var d=a("Promise").prototype.catch;h.catch!==d&&l(h,"catch",d,{unsafe:!0})}},2106:(t,e,i)=>{"use strict";var n=i(283),r=i(4913);t.exports=function(t,e,i){return i.get&&n(i.get,e,{getter:!0}),i.set&&n(i.set,e,{setter:!0}),r.f(t,e,i)}},2140:(t,e,i)=>{"use strict";var n={};n[i(8227)("toStringTag")]="z",t.exports="[object z]"===String(n)},2195:(t,e,i)=>{"use strict";var n=i(9504),r=n({}.toString),o=n("".slice);t.exports=function(t){return o(r(t),8,-1)}},2211:(t,e,i)=>{"use strict";var n=i(9039);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},2293:(t,e,i)=>{"use strict";var n=i(8551),r=i(5548),o=i(4117),s=i(8227)("species");t.exports=function(t,e){var i,a=n(t).constructor;return void 0===a||o(i=n(a)[s])?e:r(i)}},2315:()=>{"use strict";const t=function(){function t(t,e){void 0===e&&(e=[]),this._eventType=t,this._eventFunctions=e}return t.prototype.init=function(){var t=this;this._eventFunctions.forEach((function(e){"undefined"!=typeof window&&window.addEventListener(t._eventType,e)}))},t}();var e=new(function(){function t(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{},Datepicker:{}}}return t.prototype.addInstance=function(t,e,i,n){if(void 0===n&&(n=!1),!this._instances[t])return console.warn("Flowbite: Component ".concat(t," does not exist.")),!1;!this._instances[t][i]||n?(n&&this._instances[t][i]&&this._instances[t][i].destroyAndRemoveInstance(),this._instances[t][i||this._generateRandomId()]=e):console.warn("Flowbite: Instance with ID ".concat(i," already exists."))},t.prototype.getAllInstances=function(){return this._instances},t.prototype.getInstances=function(t){return this._instances[t]?this._instances[t]:(console.warn("Flowbite: Component ".concat(t," does not exist.")),!1)},t.prototype.getInstance=function(t,e){if(this._componentAndInstanceCheck(t,e)){if(this._instances[t][e])return this._instances[t][e];console.warn("Flowbite: Instance with ID ".concat(e," does not exist."))}},t.prototype.destroyAndRemoveInstance=function(t,e){this._componentAndInstanceCheck(t,e)&&(this.destroyInstanceObject(t,e),this.removeInstance(t,e))},t.prototype.removeInstance=function(t,e){this._componentAndInstanceCheck(t,e)&&delete this._instances[t][e]},t.prototype.destroyInstanceObject=function(t,e){this._componentAndInstanceCheck(t,e)&&this._instances[t][e].destroy()},t.prototype.instanceExists=function(t,e){return!!this._instances[t]&&!!this._instances[t][e]},t.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},t.prototype._componentAndInstanceCheck=function(t,e){return this._instances[t]?!!this._instances[t][e]||(console.warn("Flowbite: Instance with ID ".concat(e," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(t," does not exist.")),!1)},t}());const i=e;"undefined"!=typeof window&&(window.FlowbiteInstances=e);var n=function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)},r={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},o={id:null,override:!0},s=function(){function t(t,e,s,a){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===s&&(s=r),void 0===a&&(a=o),this._instanceId=a.id?a.id:t.id,this._accordionEl=t,this._items=e,this._options=n(n({},r),s),this._initialized=!1,this.init(),i.addInstance("Accordion",this,this._instanceId,a.override)}return t.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._items.forEach((function(e){e.active&&t.open(e.id);var i=function(){t.toggle(e.id)};e.triggerEl.addEventListener("click",i),e.clickHandler=i})),this._initialized=!0)},t.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach((function(t){t.triggerEl.removeEventListener("click",t.clickHandler),delete t.clickHandler})),this._initialized=!1)},t.prototype.removeInstance=function(){i.removeInstance("Accordion",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(t){return this._items.filter((function(e){return e.id===t}))[0]},t.prototype.open=function(t){var e,i,n=this,r=this.getItem(t);this._options.alwaysOpen||this._items.map((function(t){var e,i;t!==r&&((e=t.triggerEl.classList).remove.apply(e,n._options.activeClasses.split(" ")),(i=t.triggerEl.classList).add.apply(i,n._options.inactiveClasses.split(" ")),t.targetEl.classList.add("hidden"),t.triggerEl.setAttribute("aria-expanded","false"),t.active=!1,t.iconEl&&t.iconEl.classList.add("rotate-180"))})),(e=r.triggerEl.classList).add.apply(e,this._options.activeClasses.split(" ")),(i=r.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),r.triggerEl.setAttribute("aria-expanded","true"),r.targetEl.classList.remove("hidden"),r.active=!0,r.iconEl&&r.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,r)},t.prototype.toggle=function(t){var e=this.getItem(t);e.active?this.close(t):this.open(t),this._options.onToggle(this,e)},t.prototype.close=function(t){var e,i,n=this.getItem(t);(e=n.triggerEl.classList).remove.apply(e,this._options.activeClasses.split(" ")),(i=n.triggerEl.classList).add.apply(i,this._options.inactiveClasses.split(" ")),n.targetEl.classList.add("hidden"),n.triggerEl.setAttribute("aria-expanded","false"),n.active=!1,n.iconEl&&n.iconEl.classList.add("rotate-180"),this._options.onClose(this,n)},t.prototype.updateOnOpen=function(t){this._options.onOpen=t},t.prototype.updateOnClose=function(t){this._options.onClose=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();function a(){document.querySelectorAll("[data-accordion]").forEach((function(t){var e=t.getAttribute("data-accordion"),i=t.getAttribute("data-active-classes"),n=t.getAttribute("data-inactive-classes"),o=[];t.querySelectorAll("[data-accordion-target]").forEach((function(e){if(e.closest("[data-accordion]")===t){var i={id:e.getAttribute("data-accordion-target"),triggerEl:e,targetEl:document.querySelector(e.getAttribute("data-accordion-target")),iconEl:e.querySelector("[data-accordion-icon]"),active:"true"===e.getAttribute("aria-expanded")};o.push(i)}})),new s(t,o,{alwaysOpen:"open"===e,activeClasses:i||r.activeClasses,inactiveClasses:n||r.inactiveClasses})}))}"undefined"!=typeof window&&(window.Accordion=s,window.initAccordions=a);var c=function(){return c=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},c.apply(this,arguments)},l={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},h={id:null,override:!0},d=function(){function t(t,e,n,r){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=l),void 0===r&&(r=h),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=c(c({},l),n),this._visible=!1,this._initialized=!1,this.init(),i.addInstance("Collapse",this,this._instanceId,r.override)}return t.prototype.init=function(){var t=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible="true"===this._triggerEl.getAttribute("aria-expanded"):this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){t.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){i.removeInstance("Collapse",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},t.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},t.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},t.prototype.updateOnCollapse=function(t){this._options.onCollapse=t},t.prototype.updateOnExpand=function(t){this._options.onExpand=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();function u(){document.querySelectorAll("[data-collapse-toggle]").forEach((function(t){var e=t.getAttribute("data-collapse-toggle"),n=document.getElementById(e);n?i.instanceExists("Collapse",n.getAttribute("id"))?new d(n,t,{},{id:n.getAttribute("id")+"_"+i._generateRandomId()}):new d(n,t):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-collapse-toggle attribute.'))}))}"undefined"!=typeof window&&(window.Collapse=d,window.initCollapses=u);var f=function(){return f=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},f.apply(this,arguments)},g={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},p={id:null,override:!0},m=function(){function t(t,e,n,r){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===n&&(n=g),void 0===r&&(r=p),this._instanceId=r.id?r.id:t.id,this._carouselEl=t,this._items=e,this._options=f(f(f({},g),n),{indicators:f(f({},g.indicators),n.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),i.addInstance("Carousel",this,this._instanceId,r.override)}return t.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._items.map((function(t){t.el.classList.add("absolute","inset-0","transition-transform","transform")})),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map((function(e,i){e.el.addEventListener("click",(function(){t.slideTo(i)}))})),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){i.removeInstance("Carousel",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(t){return this._items[t]},t.prototype.slideTo=function(t){var e=this._items[t],i={left:0===e.position?this._items[this._items.length-1]:this._items[e.position-1],middle:e,right:e.position===this._items.length-1?this._items[0]:this._items[e.position+1]};this._rotate(i),this._setActiveItem(e),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},t.prototype.next=function(){var t=this.getActiveItem(),e=null;e=t.position===this._items.length-1?this._items[0]:this._items[t.position+1],this.slideTo(e.position),this._options.onNext(this)},t.prototype.prev=function(){var t=this.getActiveItem(),e=null;e=0===t.position?this._items[this._items.length-1]:this._items[t.position-1],this.slideTo(e.position),this._options.onPrev(this)},t.prototype._rotate=function(t){if(this._items.map((function(t){t.el.classList.add("hidden")})),1===this._items.length)return t.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),void t.middle.el.classList.add("translate-x-0","z-20");t.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),t.left.el.classList.add("-translate-x-full","z-10"),t.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),t.middle.el.classList.add("translate-x-0","z-30"),t.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),t.right.el.classList.add("translate-x-full","z-20")},t.prototype.cycle=function(){var t=this;"undefined"!=typeof window&&(this._intervalInstance=window.setInterval((function(){t.next()}),this._intervalDuration))},t.prototype.pause=function(){clearInterval(this._intervalInstance)},t.prototype.getActiveItem=function(){return this._activeItem},t.prototype._setActiveItem=function(t){var e,i,n=this;this._activeItem=t;var r=t.position;this._indicators.length&&(this._indicators.map((function(t){var e,i;t.el.setAttribute("aria-current","false"),(e=t.el.classList).remove.apply(e,n._options.indicators.activeClasses.split(" ")),(i=t.el.classList).add.apply(i,n._options.indicators.inactiveClasses.split(" "))})),(e=this._indicators[r].el.classList).add.apply(e,this._options.indicators.activeClasses.split(" ")),(i=this._indicators[r].el.classList).remove.apply(i,this._options.indicators.inactiveClasses.split(" ")),this._indicators[r].el.setAttribute("aria-current","true"))},t.prototype.updateOnNext=function(t){this._options.onNext=t},t.prototype.updateOnPrev=function(t){this._options.onPrev=t},t.prototype.updateOnChange=function(t){this._options.onChange=t},t}();function y(){document.querySelectorAll("[data-carousel]").forEach((function(t){var e=t.getAttribute("data-carousel-interval"),i="slide"===t.getAttribute("data-carousel"),n=[],r=0;t.querySelectorAll("[data-carousel-item]").length&&Array.from(t.querySelectorAll("[data-carousel-item]")).map((function(t,e){n.push({position:e,el:t}),"active"===t.getAttribute("data-carousel-item")&&(r=e)}));var o=[];t.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(t.querySelectorAll("[data-carousel-slide-to]")).map((function(t){o.push({position:parseInt(t.getAttribute("data-carousel-slide-to")),el:t})}));var s=new m(t,n,{defaultPosition:r,indicators:{items:o},interval:e||g.interval});i&&s.cycle();var a=t.querySelector("[data-carousel-next]"),c=t.querySelector("[data-carousel-prev]");a&&a.addEventListener("click",(function(){s.next()})),c&&c.addEventListener("click",(function(){s.prev()}))}))}"undefined"!=typeof window&&(window.Carousel=m,window.initCarousels=y);var w=function(){return w=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},w.apply(this,arguments)},_={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},b={id:null,override:!0},v=function(){function t(t,e,n,r){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=_),void 0===r&&(r=b),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=w(w({},_),n),this._initialized=!1,this.init(),i.addInstance("Dismiss",this,this._instanceId,r.override)}return t.prototype.init=function(){var t=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){t.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){i.removeInstance("Dismiss",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var t=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout((function(){t._targetEl.classList.add("hidden")}),this._options.duration),this._options.onHide(this,this._targetEl)},t.prototype.updateOnHide=function(t){this._options.onHide=t},t}();function E(){document.querySelectorAll("[data-dismiss-target]").forEach((function(t){var e=t.getAttribute("data-dismiss-target"),i=document.querySelector(e);i?new v(i,t):console.error('The dismiss element with id "'.concat(e,'" does not exist. Please check the data-dismiss-target attribute.'))}))}"undefined"!=typeof window&&(window.Dismiss=v,window.initDismisses=E);function A(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function C(t){return t instanceof A(t).Element||t instanceof Element}function S(t){return t instanceof A(t).HTMLElement||t instanceof HTMLElement}function I(t){return"undefined"!=typeof ShadowRoot&&(t instanceof A(t).ShadowRoot||t instanceof ShadowRoot)}var x=Math.max,T=Math.min,M=Math.round;function D(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function O(){return!/^((?!chrome|android).)*safari/i.test(D())}function R(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),r=1,o=1;e&&S(t)&&(r=t.offsetWidth>0&&M(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&M(n.height)/t.offsetHeight||1);var s=(C(t)?A(t):window).visualViewport,a=!O()&&i,c=(n.left+(a&&s?s.offsetLeft:0))/r,l=(n.top+(a&&s?s.offsetTop:0))/o,h=n.width/r,d=n.height/o;return{width:h,height:d,top:l,right:c+h,bottom:l+d,left:c,x:c,y:l}}function N(t){var e=A(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function k(t){return t?(t.nodeName||"").toLowerCase():null}function L(t){return((C(t)?t.ownerDocument:t.document)||window.document).documentElement}function P(t){return R(L(t)).left+N(t).scrollLeft}function B(t){return A(t).getComputedStyle(t)}function F(t){var e=B(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function H(t,e,i){void 0===i&&(i=!1);var n,r,o=S(e),s=S(e)&&function(t){var e=t.getBoundingClientRect(),i=M(e.width)/t.offsetWidth||1,n=M(e.height)/t.offsetHeight||1;return 1!==i||1!==n}(e),a=L(e),c=R(t,s,i),l={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(o||!o&&!i)&&(("body"!==k(e)||F(a))&&(l=(n=e)!==A(n)&&S(n)?{scrollLeft:(r=n).scrollLeft,scrollTop:r.scrollTop}:N(n)),S(e)?((h=R(e,!0)).x+=e.clientLeft,h.y+=e.clientTop):a&&(h.x=P(a))),{x:c.left+l.scrollLeft-h.x,y:c.top+l.scrollTop-h.y,width:c.width,height:c.height}}function V(t){var e=R(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function z(t){return"html"===k(t)?t:t.assignedSlot||t.parentNode||(I(t)?t.host:null)||L(t)}function U(t){return["html","body","#document"].indexOf(k(t))>=0?t.ownerDocument.body:S(t)&&F(t)?t:U(z(t))}function j(t,e){var i;void 0===e&&(e=[]);var n=U(t),r=n===(null==(i=t.ownerDocument)?void 0:i.body),o=A(n),s=r?[o].concat(o.visualViewport||[],F(n)?n:[]):n,a=e.concat(s);return r?a:a.concat(j(z(s)))}function W(t){return["table","td","th"].indexOf(k(t))>=0}function Y(t){return S(t)&&"fixed"!==B(t).position?t.offsetParent:null}function G(t){for(var e=A(t),i=Y(t);i&&W(i)&&"static"===B(i).position;)i=Y(i);return i&&("html"===k(i)||"body"===k(i)&&"static"===B(i).position)?e:i||function(t){var e=/firefox/i.test(D());if(/Trident/i.test(D())&&S(t)&&"fixed"===B(t).position)return null;var i=z(t);for(I(i)&&(i=i.host);S(i)&&["html","body"].indexOf(k(i))<0;){var n=B(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(t)||e}var X="top",Z="bottom",q="right",Q="left",K="auto",$=[X,Z,q,Q],J="start",tt="end",et="viewport",it="popper",nt=$.reduce((function(t,e){return t.concat([e+"-"+J,e+"-"+tt])}),[]),rt=[].concat($,[K]).reduce((function(t,e){return t.concat([e,e+"-"+J,e+"-"+tt])}),[]),ot=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function st(t){var e=new Map,i=new Set,n=[];function r(t){i.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!i.has(t)){var n=e.get(t);n&&r(n)}})),n.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){i.has(t.name)||r(t)})),n}var at={placement:"bottom",modifiers:[],strategy:"absolute"};function ct(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function lt(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,n=void 0===i?[]:i,r=e.defaultOptions,o=void 0===r?at:r;return function(t,e,i){void 0===i&&(i=o);var r,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},at,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],l=!1,h={state:a,setOptions:function(i){var r="function"==typeof i?i(a.options):i;d(),a.options=Object.assign({},o,a.options,r),a.scrollParents={reference:C(t)?j(t):t.contextElement?j(t.contextElement):[],popper:j(e)};var s,l,u=function(t){var e=st(t);return ot.reduce((function(t,i){return t.concat(e.filter((function(t){return t.phase===i})))}),[])}((s=[].concat(n,a.options.modifiers),l=s.reduce((function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t}),{}),Object.keys(l).map((function(t){return l[t]}))));return a.orderedModifiers=u.filter((function(t){return t.enabled})),a.orderedModifiers.forEach((function(t){var e=t.name,i=t.options,n=void 0===i?{}:i,r=t.effect;if("function"==typeof r){var o=r({state:a,name:e,instance:h,options:n}),s=function(){};c.push(o||s)}})),h.update()},forceUpdate:function(){if(!l){var t=a.elements,e=t.reference,i=t.popper;if(ct(e,i)){a.rects={reference:H(e,G(i),"fixed"===a.options.strategy),popper:V(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(t){return a.modifiersData[t.name]=Object.assign({},t.data)}));for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var r=a.orderedModifiers[n],o=r.fn,s=r.options,c=void 0===s?{}:s,d=r.name;"function"==typeof o&&(a=o({state:a,options:c,name:d,instance:h})||a)}else a.reset=!1,n=-1}}},update:(r=function(){return new Promise((function(t){h.forceUpdate(),t(a)}))},function(){return s||(s=new Promise((function(t){Promise.resolve().then((function(){s=void 0,t(r())}))}))),s}),destroy:function(){d(),l=!0}};if(!ct(t,e))return h;function d(){c.forEach((function(t){return t()})),c=[]}return h.setOptions(i).then((function(t){!l&&i.onFirstUpdate&&i.onFirstUpdate(t)})),h}}var ht={passive:!0};function dt(t){return t.split("-")[0]}function ut(t){return t.split("-")[1]}function ft(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function gt(t){var e,i=t.reference,n=t.element,r=t.placement,o=r?dt(r):null,s=r?ut(r):null,a=i.x+i.width/2-n.width/2,c=i.y+i.height/2-n.height/2;switch(o){case X:e={x:a,y:i.y-n.height};break;case Z:e={x:a,y:i.y+i.height};break;case q:e={x:i.x+i.width,y:c};break;case Q:e={x:i.x-n.width,y:c};break;default:e={x:i.x,y:i.y}}var l=o?ft(o):null;if(null!=l){var h="y"===l?"height":"width";switch(s){case J:e[l]=e[l]-(i[h]/2-n[h]/2);break;case tt:e[l]=e[l]+(i[h]/2-n[h]/2)}}return e}var pt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mt(t){var e,i=t.popper,n=t.popperRect,r=t.placement,o=t.variation,s=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,h=t.roundOffsets,d=t.isFixed,u=s.x,f=void 0===u?0:u,g=s.y,p=void 0===g?0:g,m="function"==typeof h?h({x:f,y:p}):{x:f,y:p};f=m.x,p=m.y;var y=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),_=Q,b=X,v=window;if(l){var E=G(i),C="clientHeight",S="clientWidth";if(E===A(i)&&"static"!==B(E=L(i)).position&&"absolute"===a&&(C="scrollHeight",S="scrollWidth"),r===X||(r===Q||r===q)&&o===tt)b=Z,p-=(d&&E===v&&v.visualViewport?v.visualViewport.height:E[C])-n.height,p*=c?1:-1;if(r===Q||(r===X||r===Z)&&o===tt)_=q,f-=(d&&E===v&&v.visualViewport?v.visualViewport.width:E[S])-n.width,f*=c?1:-1}var I,x=Object.assign({position:a},l&&pt),T=!0===h?function(t,e){var i=t.x,n=t.y,r=e.devicePixelRatio||1;return{x:M(i*r)/r||0,y:M(n*r)/r||0}}({x:f,y:p},A(i)):{x:f,y:p};return f=T.x,p=T.y,c?Object.assign({},x,((I={})[b]=w?"0":"",I[_]=y?"0":"",I.transform=(v.devicePixelRatio||1)<=1?"translate("+f+"px, "+p+"px)":"translate3d("+f+"px, "+p+"px, 0)",I)):Object.assign({},x,((e={})[b]=w?p+"px":"",e[_]=y?f+"px":"",e.transform="",e))}const yt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,i=t.options,n=t.name,r=i.offset,o=void 0===r?[0,0]:r,s=rt.reduce((function(t,i){return t[i]=function(t,e,i){var n=dt(t),r=[Q,X].indexOf(n)>=0?-1:1,o="function"==typeof i?i(Object.assign({},e,{placement:t})):i,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[Q,q].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}(i,e.rects,o),t}),{}),a=s[e.placement],c=a.x,l=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[n]=s}};var wt={left:"right",right:"left",bottom:"top",top:"bottom"};function _t(t){return t.replace(/left|right|bottom|top/g,(function(t){return wt[t]}))}var bt={start:"end",end:"start"};function vt(t){return t.replace(/start|end/g,(function(t){return bt[t]}))}function Et(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&I(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function At(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Ct(t,e,i){return e===et?At(function(t,e){var i=A(t),n=L(t),r=i.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,c=0;if(r){o=r.width,s=r.height;var l=O();(l||!l&&"fixed"===e)&&(a=r.offsetLeft,c=r.offsetTop)}return{width:o,height:s,x:a+P(t),y:c}}(t,i)):C(e)?function(t,e){var i=R(t,!1,"fixed"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}(e,i):At(function(t){var e,i=L(t),n=N(t),r=null==(e=t.ownerDocument)?void 0:e.body,o=x(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=x(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+P(t),c=-n.scrollTop;return"rtl"===B(r||i).direction&&(a+=x(i.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}(L(t)))}function St(t,e,i,n){var r="clippingParents"===e?function(t){var e=j(z(t)),i=["absolute","fixed"].indexOf(B(t).position)>=0&&S(t)?G(t):t;return C(i)?e.filter((function(t){return C(t)&&Et(t,i)&&"body"!==k(t)})):[]}(t):[].concat(e),o=[].concat(r,[i]),s=o[0],a=o.reduce((function(e,i){var r=Ct(t,i,n);return e.top=x(r.top,e.top),e.right=T(r.right,e.right),e.bottom=T(r.bottom,e.bottom),e.left=x(r.left,e.left),e}),Ct(t,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function It(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function xt(t,e){return e.reduce((function(e,i){return e[i]=t,e}),{})}function Tt(t,e){void 0===e&&(e={});var i=e,n=i.placement,r=void 0===n?t.placement:n,o=i.strategy,s=void 0===o?t.strategy:o,a=i.boundary,c=void 0===a?"clippingParents":a,l=i.rootBoundary,h=void 0===l?et:l,d=i.elementContext,u=void 0===d?it:d,f=i.altBoundary,g=void 0!==f&&f,p=i.padding,m=void 0===p?0:p,y=It("number"!=typeof m?m:xt(m,$)),w=u===it?"reference":it,_=t.rects.popper,b=t.elements[g?w:u],v=St(C(b)?b:b.contextElement||L(t.elements.popper),c,h,s),E=R(t.elements.reference),A=gt({reference:E,element:_,strategy:"absolute",placement:r}),S=At(Object.assign({},_,A)),I=u===it?S:E,x={top:v.top-I.top+y.top,bottom:I.bottom-v.bottom+y.bottom,left:v.left-I.left+y.left,right:I.right-v.right+y.right},T=t.modifiersData.offset;if(u===it&&T){var M=T[r];Object.keys(x).forEach((function(t){var e=[q,Z].indexOf(t)>=0?1:-1,i=[X,Z].indexOf(t)>=0?"y":"x";x[t]+=M[i]*e}))}return x}function Mt(t,e,i){return x(t,T(e,i))}const Dt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name,r=i.mainAxis,o=void 0===r||r,s=i.altAxis,a=void 0!==s&&s,c=i.boundary,l=i.rootBoundary,h=i.altBoundary,d=i.padding,u=i.tether,f=void 0===u||u,g=i.tetherOffset,p=void 0===g?0:g,m=Tt(e,{boundary:c,rootBoundary:l,padding:d,altBoundary:h}),y=dt(e.placement),w=ut(e.placement),_=!w,b=ft(y),v="x"===b?"y":"x",E=e.modifiersData.popperOffsets,A=e.rects.reference,C=e.rects.popper,S="function"==typeof p?p(Object.assign({},e.rects,{placement:e.placement})):p,I="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(E){if(o){var O,R="y"===b?X:Q,N="y"===b?Z:q,k="y"===b?"height":"width",L=E[b],P=L+m[R],B=L-m[N],F=f?-C[k]/2:0,H=w===J?A[k]:C[k],z=w===J?-C[k]:-A[k],U=e.elements.arrow,j=f&&U?V(U):{width:0,height:0},W=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Y=W[R],K=W[N],$=Mt(0,A[k],j[k]),tt=_?A[k]/2-F-$-Y-I.mainAxis:H-$-Y-I.mainAxis,et=_?-A[k]/2+F+$+K+I.mainAxis:z+$+K+I.mainAxis,it=e.elements.arrow&&G(e.elements.arrow),nt=it?"y"===b?it.clientTop||0:it.clientLeft||0:0,rt=null!=(O=null==M?void 0:M[b])?O:0,ot=L+et-rt,st=Mt(f?T(P,L+tt-rt-nt):P,L,f?x(B,ot):B);E[b]=st,D[b]=st-L}if(a){var at,ct="x"===b?X:Q,lt="x"===b?Z:q,ht=E[v],gt="y"===v?"height":"width",pt=ht+m[ct],mt=ht-m[lt],yt=-1!==[X,Q].indexOf(y),wt=null!=(at=null==M?void 0:M[v])?at:0,_t=yt?pt:ht-A[gt]-C[gt]-wt+I.altAxis,bt=yt?ht+A[gt]+C[gt]-wt-I.altAxis:mt,vt=f&&yt?function(t,e,i){var n=Mt(t,e,i);return n>i?i:n}(_t,ht,bt):Mt(f?_t:pt,ht,f?bt:mt);E[v]=vt,D[v]=vt-ht}e.modifiersData[n]=D}},requiresIfExists:["offset"]};const Ot={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i=t.state,n=t.name,r=t.options,o=i.elements.arrow,s=i.modifiersData.popperOffsets,a=dt(i.placement),c=ft(a),l=[Q,q].indexOf(a)>=0?"height":"width";if(o&&s){var h=function(t,e){return It("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:xt(t,$))}(r.padding,i),d=V(o),u="y"===c?X:Q,f="y"===c?Z:q,g=i.rects.reference[l]+i.rects.reference[c]-s[c]-i.rects.popper[l],p=s[c]-i.rects.reference[c],m=G(o),y=m?"y"===c?m.clientHeight||0:m.clientWidth||0:0,w=g/2-p/2,_=h[u],b=y-d[l]-h[f],v=y/2-d[l]/2+w,E=Mt(_,v,b),A=c;i.modifiersData[n]=((e={})[A]=E,e.centerOffset=E-v,e)}},effect:function(t){var e=t.state,i=t.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&Et(e.elements.popper,n)&&(e.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Rt(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function Nt(t){return[X,q,Z,Q].some((function(e){return t[e]>=0}))}var kt=lt({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,n=t.options,r=n.scroll,o=void 0===r||r,s=n.resize,a=void 0===s||s,c=A(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach((function(t){t.addEventListener("scroll",i.update,ht)})),a&&c.addEventListener("resize",i.update,ht),function(){o&&l.forEach((function(t){t.removeEventListener("scroll",i.update,ht)})),a&&c.removeEventListener("resize",i.update,ht)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=gt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,n=i.gpuAcceleration,r=void 0===n||n,o=i.adaptive,s=void 0===o||o,a=i.roundOffsets,c=void 0===a||a,l={placement:dt(e.placement),variation:ut(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,mt(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,mt(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},r=e.elements[t];S(r)&&k(r)&&(Object.assign(r.style,i),Object.keys(n).forEach((function(t){var e=n[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach((function(t){var n=e.elements[t],r=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce((function(t,e){return t[e]="",t}),{});S(n)&&k(n)&&(Object.assign(n.style,o),Object.keys(r).forEach((function(t){n.removeAttribute(t)})))}))}},requires:["computeStyles"]},yt,{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var r=i.mainAxis,o=void 0===r||r,s=i.altAxis,a=void 0===s||s,c=i.fallbackPlacements,l=i.padding,h=i.boundary,d=i.rootBoundary,u=i.altBoundary,f=i.flipVariations,g=void 0===f||f,p=i.allowedAutoPlacements,m=e.options.placement,y=dt(m),w=c||(y===m||!g?[_t(m)]:function(t){if(dt(t)===K)return[];var e=_t(t);return[vt(t),e,vt(e)]}(m)),_=[m].concat(w).reduce((function(t,i){return t.concat(dt(i)===K?function(t,e){void 0===e&&(e={});var i=e,n=i.placement,r=i.boundary,o=i.rootBoundary,s=i.padding,a=i.flipVariations,c=i.allowedAutoPlacements,l=void 0===c?rt:c,h=ut(n),d=h?a?nt:nt.filter((function(t){return ut(t)===h})):$,u=d.filter((function(t){return l.indexOf(t)>=0}));0===u.length&&(u=d);var f=u.reduce((function(e,i){return e[i]=Tt(t,{placement:i,boundary:r,rootBoundary:o,padding:s})[dt(i)],e}),{});return Object.keys(f).sort((function(t,e){return f[t]-f[e]}))}(e,{placement:i,boundary:h,rootBoundary:d,padding:l,flipVariations:g,allowedAutoPlacements:p}):i)}),[]),b=e.rects.reference,v=e.rects.popper,E=new Map,A=!0,C=_[0],S=0;S<_.length;S++){var I=_[S],x=dt(I),T=ut(I)===J,M=[X,Z].indexOf(x)>=0,D=M?"width":"height",O=Tt(e,{placement:I,boundary:h,rootBoundary:d,altBoundary:u,padding:l}),R=M?T?q:Q:T?Z:X;b[D]>v[D]&&(R=_t(R));var N=_t(R),k=[];if(o&&k.push(O[x]<=0),a&&k.push(O[R]<=0,O[N]<=0),k.every((function(t){return t}))){C=I,A=!1;break}E.set(I,k)}if(A)for(var L=function(t){var e=_.find((function(e){var i=E.get(e);if(i)return i.slice(0,t).every((function(t){return t}))}));if(e)return C=e,"break"},P=g?3:1;P>0;P--){if("break"===L(P))break}e.placement!==C&&(e.modifiersData[n]._skip=!0,e.placement=C,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Dt,Ot,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,n=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,s=Tt(e,{elementContext:"reference"}),a=Tt(e,{altBoundary:!0}),c=Rt(s,n),l=Rt(a,r,o),h=Nt(c),d=Nt(l);e.modifiersData[i]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:h,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}}]}),Lt=function(){return Lt=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Lt.apply(this,arguments)},Pt=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},Bt={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},Ft={id:null,override:!0},Ht=function(){function t(t,e,n,r){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=Bt),void 0===r&&(r=Ft),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=Lt(Lt({},Bt),n),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),i.addInstance("Dropdown",this,this._instanceId,r.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},t.prototype.destroy=function(){var t=this,e=this._getTriggerEvents();"click"===this._options.triggerType&&e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._clickHandler)})),"hover"===this._options.triggerType&&(e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._hoverShowTriggerElHandler),t._targetEl.removeEventListener(e,t._hoverShowTargetElHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._hoverHideHandler),t._targetEl.removeEventListener(e,t._hoverHideHandler)}))),this._popperInstance.destroy(),this._initialized=!1},t.prototype.removeInstance=function(){i.removeInstance("Dropdown",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var t=this,e=this._getTriggerEvents();this._clickHandler=function(){t.toggle()},"click"===this._options.triggerType&&e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._clickHandler)})),this._hoverShowTriggerElHandler=function(e){"click"===e.type?t.toggle():setTimeout((function(){t.show()}),t._options.delay)},this._hoverShowTargetElHandler=function(){t.show()},this._hoverHideHandler=function(){setTimeout((function(){t._targetEl.matches(":hover")||t.hide()}),t._options.delay)},"hover"===this._options.triggerType&&(e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._hoverShowTriggerElHandler),t._targetEl.addEventListener(e,t._hoverShowTargetElHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._hoverHideHandler),t._targetEl.addEventListener(e,t._hoverHideHandler)})))},t.prototype._createPopperInstance=function(){return kt(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},t.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(e){t._handleClickOutside(e,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(t,e){var i=t.target,n=this._options.ignoreClickOutsideClass,r=!1;n&&document.querySelectorAll(".".concat(n)).forEach((function(t){t.contains(i)&&(r=!0)}));i===e||e.contains(i)||this._triggerEl.contains(i)||r||!this.isVisible()||this.hide()},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":default:return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.isVisible=function(){return this._visible},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._targetEl.removeAttribute("aria-hidden"),this._popperInstance.setOptions((function(t){return Lt(Lt({},t),{modifiers:Pt(Pt([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})})),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._targetEl.setAttribute("aria-hidden","true"),this._popperInstance.setOptions((function(t){return Lt(Lt({},t),{modifiers:Pt(Pt([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})})),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();function Vt(){document.querySelectorAll("[data-dropdown-toggle]").forEach((function(t){var e=t.getAttribute("data-dropdown-toggle"),i=document.getElementById(e);if(i){var n=t.getAttribute("data-dropdown-placement"),r=t.getAttribute("data-dropdown-offset-skidding"),o=t.getAttribute("data-dropdown-offset-distance"),s=t.getAttribute("data-dropdown-trigger"),a=t.getAttribute("data-dropdown-delay"),c=t.getAttribute("data-dropdown-ignore-click-outside-class");new Ht(i,t,{placement:n||Bt.placement,triggerType:s||Bt.triggerType,offsetSkidding:r?parseInt(r):Bt.offsetSkidding,offsetDistance:o?parseInt(o):Bt.offsetDistance,delay:a?parseInt(a):Bt.delay,ignoreClickOutsideClass:c||Bt.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(e,'" does not exist. Please check the data-dropdown-toggle attribute.'))}))}"undefined"!=typeof window&&(window.Dropdown=Ht,window.initDropdowns=Vt);var zt=function(){return zt=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},zt.apply(this,arguments)},Ut={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},jt={id:null,override:!0},Wt=function(){function t(t,e,n){void 0===t&&(t=null),void 0===e&&(e=Ut),void 0===n&&(n=jt),this._eventListenerInstances=[],this._instanceId=n.id?n.id:t.id,this._targetEl=t,this._options=zt(zt({},Ut),e),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),i.addInstance("Modal",this,this._instanceId,n.override)}return t.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map((function(e){t._targetEl.classList.add(e)})),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},t.prototype.removeInstance=function(){i.removeInstance("Modal",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._createBackdrop=function(){var t;if(this._isHidden){var e=document.createElement("div");(t=e.classList).add.apply(t,this._options.backdropClasses.split(" ")),document.querySelector("body").append(e),this._backdropEl=e}},t.prototype._destroyBackdropEl=function(){!this._isHidden&&this._backdropEl&&(this._backdropEl.remove(),this._backdropEl=null)},t.prototype._setupModalCloseEventListeners=function(){var t=this;"dynamic"===this._options.backdrop&&(this._clickOutsideEventListener=function(e){t._handleOutsideClick(e.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(e){"Escape"===e.key&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeModalCloseEventListeners=function(){"dynamic"===this._options.backdrop&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._handleOutsideClick=function(t){(t===this._targetEl||t===this._backdropEl&&this.isVisible())&&this.hide()},t.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":default:return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"]}},t.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},t.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},t.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},t.prototype.isVisible=function(){return!this._isHidden},t.prototype.isHidden=function(){return this._isHidden},t.prototype.addEventListenerInstance=function(t,e,i){this._eventListenerInstances.push({element:t,type:e,handler:i})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map((function(t){t.element.removeEventListener(t.type,t.handler)})),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();function Yt(){document.querySelectorAll("[data-modal-target]").forEach((function(t){var e=t.getAttribute("data-modal-target"),i=document.getElementById(e);if(i){var n=i.getAttribute("data-modal-placement"),r=i.getAttribute("data-modal-backdrop");new Wt(i,{placement:n||Ut.placement,backdrop:r||Ut.backdrop})}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))})),document.querySelectorAll("[data-modal-toggle]").forEach((function(t){var e=t.getAttribute("data-modal-toggle");if(document.getElementById(e)){var n=i.getInstance("Modal",e);if(n){var r=function(){n.toggle()};t.addEventListener("click",r),n.addEventListenerInstance(t,"click",r)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))})),document.querySelectorAll("[data-modal-show]").forEach((function(t){var e=t.getAttribute("data-modal-show");if(document.getElementById(e)){var n=i.getInstance("Modal",e);if(n){var r=function(){n.show()};t.addEventListener("click",r),n.addEventListenerInstance(t,"click",r)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))})),document.querySelectorAll("[data-modal-hide]").forEach((function(t){var e=t.getAttribute("data-modal-hide");if(document.getElementById(e)){var n=i.getInstance("Modal",e);if(n){var r=function(){n.hide()};t.addEventListener("click",r),n.addEventListenerInstance(t,"click",r)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))}))}"undefined"!=typeof window&&(window.Modal=Wt,window.initModals=Yt);var Gt=function(){return Gt=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Gt.apply(this,arguments)},Xt={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},Zt={id:null,override:!0},qt=function(){function t(t,e,n){void 0===t&&(t=null),void 0===e&&(e=Xt),void 0===n&&(n=Zt),this._eventListenerInstances=[],this._instanceId=n.id?n.id:t.id,this._targetEl=t,this._options=Gt(Gt({},Xt),e),this._visible=!1,this._initialized=!1,this.init(),i.addInstance("Drawer",this,this._instanceId,n.override)}return t.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map((function(e){t._targetEl.classList.add(e)})),this._handleEscapeKey=function(e){"Escape"===e.key&&t.isVisible()&&t.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},t.prototype.removeInstance=function(){i.removeInstance("Drawer",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var t=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map((function(e){t._targetEl.classList.remove(e)})),this._getPlacementClasses(this._options.placement+"-edge").inactive.map((function(e){t._targetEl.classList.add(e)}))):(this._getPlacementClasses(this._options.placement).active.map((function(e){t._targetEl.classList.remove(e)})),this._getPlacementClasses(this._options.placement).inactive.map((function(e){t._targetEl.classList.add(e)}))),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){var t=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map((function(e){t._targetEl.classList.add(e)})),this._getPlacementClasses(this._options.placement+"-edge").inactive.map((function(e){t._targetEl.classList.remove(e)}))):(this._getPlacementClasses(this._options.placement).active.map((function(e){t._targetEl.classList.add(e)})),this._getPlacementClasses(this._options.placement).inactive.map((function(e){t._targetEl.classList.remove(e)}))),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype._createBackdrop=function(){var t,e=this;if(!this._visible){var i=document.createElement("div");i.setAttribute("drawer-backdrop",""),(t=i.classList).add.apply(t,this._options.backdropClasses.split(" ")),document.querySelector("body").append(i),i.addEventListener("click",(function(){e.hide()}))}},t.prototype._destroyBackdropEl=function(){this._visible&&null!==document.querySelector("[drawer-backdrop]")&&document.querySelector("[drawer-backdrop]").remove()},t.prototype._getPlacementClasses=function(t){switch(t){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]}}},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype.addEventListenerInstance=function(t,e,i){this._eventListenerInstances.push({element:t,type:e,handler:i})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map((function(t){t.element.removeEventListener(t.type,t.handler)})),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();function Qt(){document.querySelectorAll("[data-drawer-target]").forEach((function(t){var e=t.getAttribute("data-drawer-target"),i=document.getElementById(e);if(i){var n=t.getAttribute("data-drawer-placement"),r=t.getAttribute("data-drawer-body-scrolling"),o=t.getAttribute("data-drawer-backdrop"),s=t.getAttribute("data-drawer-edge"),a=t.getAttribute("data-drawer-edge-offset");new qt(i,{placement:n||Xt.placement,bodyScrolling:r?"true"===r:Xt.bodyScrolling,backdrop:o?"true"===o:Xt.backdrop,edge:s?"true"===s:Xt.edge,edgeOffset:a||Xt.edgeOffset})}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})),document.querySelectorAll("[data-drawer-toggle]").forEach((function(t){var e=t.getAttribute("data-drawer-toggle");if(document.getElementById(e)){var n=i.getInstance("Drawer",e);if(n){var r=function(){n.toggle()};t.addEventListener("click",r),n.addEventListenerInstance(t,"click",r)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach((function(t){var e=t.getAttribute("data-drawer-dismiss")?t.getAttribute("data-drawer-dismiss"):t.getAttribute("data-drawer-hide");if(document.getElementById(e)){var n=i.getInstance("Drawer",e);if(n){var r=function(){n.hide()};t.addEventListener("click",r),n.addEventListenerInstance(t,"click",r)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))})),document.querySelectorAll("[data-drawer-show]").forEach((function(t){var e=t.getAttribute("data-drawer-show");if(document.getElementById(e)){var n=i.getInstance("Drawer",e);if(n){var r=function(){n.show()};t.addEventListener("click",r),n.addEventListenerInstance(t,"click",r)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}))}"undefined"!=typeof window&&(window.Drawer=qt,window.initDrawers=Qt);var Kt=function(){return Kt=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Kt.apply(this,arguments)},$t={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},Jt={id:null,override:!0},te=function(){function t(t,e,n,r){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===n&&(n=$t),void 0===r&&(r=Jt),this._instanceId=r.id?r.id:t.id,this._tabsEl=t,this._items=e,this._activeTab=n?this.getTab(n.defaultTabId):null,this._options=Kt(Kt({},$t),n),this._initialized=!1,this.init(),i.addInstance("Tabs",this,this._instanceId,r.override)}return t.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map((function(e){e.triggerEl.addEventListener("click",(function(i){i.preventDefault(),t.show(e.id)}))})))},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){this.destroy(),i.removeInstance("Tabs",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getActiveTab=function(){return this._activeTab},t.prototype.setActiveTab=function(t){this._activeTab=t},t.prototype.getTab=function(t){return this._items.filter((function(e){return e.id===t}))[0]},t.prototype.show=function(t,e){var i,n,r=this;void 0===e&&(e=!1);var o=this.getTab(t);(o!==this._activeTab||e)&&(this._items.map((function(t){var e,i;t!==o&&((e=t.triggerEl.classList).remove.apply(e,r._options.activeClasses.split(" ")),(i=t.triggerEl.classList).add.apply(i,r._options.inactiveClasses.split(" ")),t.targetEl.classList.add("hidden"),t.triggerEl.setAttribute("aria-selected","false"))})),(i=o.triggerEl.classList).add.apply(i,this._options.activeClasses.split(" ")),(n=o.triggerEl.classList).remove.apply(n,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-selected","true"),o.targetEl.classList.remove("hidden"),this.setActiveTab(o),this._options.onShow(this,o))},t.prototype.updateOnShow=function(t){this._options.onShow=t},t}();function ee(){document.querySelectorAll("[data-tabs-toggle]").forEach((function(t){var e=[],i=t.getAttribute("data-tabs-active-classes"),n=t.getAttribute("data-tabs-inactive-classes"),r=null;t.querySelectorAll('[role="tab"]').forEach((function(t){var i="true"===t.getAttribute("aria-selected"),n={id:t.getAttribute("data-tabs-target"),triggerEl:t,targetEl:document.querySelector(t.getAttribute("data-tabs-target"))};e.push(n),i&&(r=n.id)})),new te(t,e,{defaultTabId:r,activeClasses:i||$t.activeClasses,inactiveClasses:n||$t.inactiveClasses})}))}"undefined"!=typeof window&&(window.Tabs=te,window.initTabs=ee);var ie=function(){return ie=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ie.apply(this,arguments)},ne=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},re={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},oe={id:null,override:!0},se=function(){function t(t,e,n,r){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=re),void 0===r&&(r=oe),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=ie(ie({},re),n),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),i.addInstance("Tooltip",this,this._instanceId,r.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var t=this;if(this._initialized){var e=this._getTriggerEvents();e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._showHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._hideHandler)})),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){i.removeInstance("Tooltip",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var t=this,e=this._getTriggerEvents();this._showHandler=function(){t.show()},this._hideHandler=function(){t.hide()},e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._showHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._hideHandler)}))},t.prototype._createPopperInstance=function(){return kt(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype._setupKeydownListener=function(){var t=this;this._keydownEventListener=function(e){"Escape"===e.key&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(e){t._handleClickOutside(e,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(t,e){var i=t.target;i===e||e.contains(i)||this._triggerEl.contains(i)||!this.isVisible()||this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions((function(t){return ie(ie({},t),{modifiers:ne(ne([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})})),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions((function(t){return ie(ie({},t),{modifiers:ne(ne([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})})),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();function ae(){document.querySelectorAll("[data-tooltip-target]").forEach((function(t){var e=t.getAttribute("data-tooltip-target"),i=document.getElementById(e);if(i){var n=t.getAttribute("data-tooltip-trigger"),r=t.getAttribute("data-tooltip-placement");new se(i,t,{placement:r||re.placement,triggerType:n||re.triggerType})}else console.error('The tooltip element with id "'.concat(e,'" does not exist. Please check the data-tooltip-target attribute.'))}))}"undefined"!=typeof window&&(window.Tooltip=se,window.initTooltips=ae);var ce=function(){return ce=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ce.apply(this,arguments)},le=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},he={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},de={id:null,override:!0},ue=function(){function t(t,e,n,r){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=he),void 0===r&&(r=de),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=e,this._options=ce(ce({},he),n),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),i.addInstance("Popover",this,r.id?r.id:this._targetEl.id,r.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var t=this;if(this._initialized){var e=this._getTriggerEvents();e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._showHandler),t._targetEl.removeEventListener(e,t._showHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._hideHandler),t._targetEl.removeEventListener(e,t._hideHandler)})),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){i.removeInstance("Popover",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var t=this,e=this._getTriggerEvents();this._showHandler=function(){t.show()},this._hideHandler=function(){setTimeout((function(){t._targetEl.matches(":hover")||t.hide()}),100)},e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._showHandler),t._targetEl.addEventListener(e,t._showHandler)})),e.hideEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._hideHandler),t._targetEl.addEventListener(e,t._hideHandler)}))},t.prototype._createPopperInstance=function(){return kt(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype._setupKeydownListener=function(){var t=this;this._keydownEventListener=function(e){"Escape"===e.key&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(e){t._handleClickOutside(e,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(t,e){var i=t.target;i===e||e.contains(i)||this._triggerEl.contains(i)||!this.isVisible()||this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions((function(t){return ce(ce({},t),{modifiers:le(le([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})})),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions((function(t){return ce(ce({},t),{modifiers:le(le([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})})),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();function fe(){document.querySelectorAll("[data-popover-target]").forEach((function(t){var e=t.getAttribute("data-popover-target"),i=document.getElementById(e);if(i){var n=t.getAttribute("data-popover-trigger"),r=t.getAttribute("data-popover-placement"),o=t.getAttribute("data-popover-offset");new ue(i,t,{placement:r||he.placement,offset:o?parseInt(o):he.offset,triggerType:n||he.triggerType})}else console.error('The popover element with id "'.concat(e,'" does not exist. Please check the data-popover-target attribute.'))}))}"undefined"!=typeof window&&(window.Popover=ue,window.initPopovers=fe);var ge=function(){return ge=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ge.apply(this,arguments)},pe={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},me={id:null,override:!0},ye=function(){function t(t,e,n,r,o){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=pe),void 0===o&&(o=me),this._instanceId=o.id?o.id:n.id,this._parentEl=t,this._triggerEl=e,this._targetEl=n,this._options=ge(ge({},pe),r),this._visible=!1,this._initialized=!1,this.init(),i.addInstance("Dial",this,this._instanceId,o.override)}return t.prototype.init=function(){var t=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var e=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){t.show()},e.showEvents.forEach((function(e){t._triggerEl.addEventListener(e,t._showEventHandler),t._targetEl.addEventListener(e,t._showEventHandler)})),this._hideEventHandler=function(){t._parentEl.matches(":hover")||t.hide()},e.hideEvents.forEach((function(e){t._parentEl.addEventListener(e,t._hideEventHandler)})),this._initialized=!0}},t.prototype.destroy=function(){var t=this;if(this._initialized){var e=this._getTriggerEventTypes(this._options.triggerType);e.showEvents.forEach((function(e){t._triggerEl.removeEventListener(e,t._showEventHandler),t._targetEl.removeEventListener(e,t._showEventHandler)})),e.hideEvents.forEach((function(e){t._parentEl.removeEventListener(e,t._hideEventHandler)})),this._initialized=!1}},t.prototype.removeInstance=function(){i.removeInstance("Dial",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this._visible?this.hide():this.show()},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype._getTriggerEventTypes=function(t){switch(t){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]}}},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t.prototype.updateOnToggle=function(t){this._options.onToggle=t},t}();function we(){document.querySelectorAll("[data-dial-init]").forEach((function(t){var e=t.querySelector("[data-dial-toggle]");if(e){var i=e.getAttribute("data-dial-toggle"),n=document.getElementById(i);if(n){var r=e.getAttribute("data-dial-trigger");new ye(t,e,n,{triggerType:r||pe.triggerType})}else console.error("Dial with id ".concat(i," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(t.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))}))}"undefined"!=typeof window&&(window.Dial=ye,window.initDials=we);var _e=function(){return _e=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},_e.apply(this,arguments)},be={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},ve={id:null,override:!0},Ee=function(){function t(t,e,n,r,o){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=be),void 0===o&&(o=ve),this._instanceId=o.id?o.id:t.id,this._targetEl=t,this._incrementEl=e,this._decrementEl=n,this._options=_e(_e({},be),r),this._initialized=!1,this.init(),i.addInstance("InputCounter",this,this._instanceId,o.override)}return t.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(e){var i=e.target;/^\d*$/.test(i.value)||(i.value=i.value.replace(/[^\d]/g,"")),null!==t._options.maxValue&&parseInt(i.value)>t._options.maxValue&&(i.value=t._options.maxValue.toString()),null!==t._options.minValue&&parseInt(i.value)<t._options.minValue&&(i.value=t._options.minValue.toString())},this._incrementClickHandler=function(){t.increment()},this._decrementClickHandler=function(){t.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){i.removeInstance("InputCounter",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},t.prototype.increment=function(){null!==this._options.maxValue&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},t.prototype.decrement=function(){null!==this._options.minValue&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},t.prototype.updateOnIncrement=function(t){this._options.onIncrement=t},t.prototype.updateOnDecrement=function(t){this._options.onDecrement=t},t}();function Ae(){document.querySelectorAll("[data-input-counter]").forEach((function(t){var e=t.id,n=document.querySelector('[data-input-counter-increment="'+e+'"]'),r=document.querySelector('[data-input-counter-decrement="'+e+'"]'),o=t.getAttribute("data-input-counter-min"),s=t.getAttribute("data-input-counter-max");t?i.instanceExists("InputCounter",t.getAttribute("id"))||new Ee(t,n||null,r||null,{minValue:o?parseInt(o):null,maxValue:s?parseInt(s):null}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-input-counter attribute.'))}))}"undefined"!=typeof window&&(window.InputCounter=Ee,window.initInputCounters=Ae);var Ce=function(){return Ce=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Ce.apply(this,arguments)},Se={htmlEntities:!1,contentType:"input",onCopy:function(){}},Ie={id:null,override:!0},xe=function(){function t(t,e,n,r){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=Se),void 0===r&&(r=Ie),this._instanceId=r.id?r.id:e.id,this._triggerEl=t,this._targetEl=e,this._options=Ce(Ce({},Se),n),this._initialized=!1,this.init(),i.addInstance("CopyClipboard",this,this._instanceId,r.override)}return t.prototype.init=function(){var t=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){t.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){i.removeInstance("CopyClipboard",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getTargetValue=function(){return"input"===this._options.contentType?this._targetEl.value:"innerHTML"===this._options.contentType?this._targetEl.innerHTML:"textContent"===this._options.contentType?this._targetEl.textContent.replace(/\s+/g," ").trim():void 0},t.prototype.copy=function(){var t=this.getTargetValue();this._options.htmlEntities&&(t=this.decodeHTML(t));var e=document.createElement("textarea");return e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this._options.onCopy(this),t},t.prototype.decodeHTML=function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.textContent},t.prototype.updateOnCopyCallback=function(t){this._options.onCopy=t},t}();function Te(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach((function(t){var e=t.getAttribute("data-copy-to-clipboard-target"),n=document.getElementById(e),r=t.getAttribute("data-copy-to-clipboard-content-type"),o=t.getAttribute("data-copy-to-clipboard-html-entities");n?i.instanceExists("CopyClipboard",n.getAttribute("id"))||new xe(t,n,{htmlEntities:!(!o||"true"!==o)||Se.htmlEntities,contentType:r||Se.contentType}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))}))}"undefined"!=typeof window&&(window.CopyClipboard=xe,window.initClipboards=Te);function Me(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function De(t,e,i){return e=Le(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Be()?Reflect.construct(e,i||[],Le(t).constructor):e.apply(t,i))}function Oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Re(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ze(n.key),n)}}function Ne(t,e,i){return e&&Re(t.prototype,e),i&&Re(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function ke(){return ke="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Le(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:i):r.value}},ke.apply(null,arguments)}function Le(t){return Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Le(t)}function Pe(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fe(t,e)}function Be(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Be=function(){return!!t})()}function Fe(t,e){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fe(t,e)}function He(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],c=!0,l=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;c=!1}else for(;!(c=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,r=t}finally{try{if(!c&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(l)throw r}}return a}}(t,e)||je(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(t){return function(t){if(Array.isArray(t))return Me(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||je(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}function Ue(t){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ue(t)}function je(t,e){if(t){if("string"==typeof t)return Me(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Me(t,e):void 0}}function We(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ye(t){return t[t.length-1]}function Ge(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return i.forEach((function(e){t.includes(e)||t.push(e)})),t}function Xe(t,e){return t?t.split(e):[]}function Ze(t,e,i){return(void 0===e||t>=e)&&(void 0===i||t<=i)}function qe(t,e,i){return t<e?e:t>i?i:t}function Qe(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=Object.keys(i).reduce((function(t,e){var r=i[e];return"function"==typeof r&&(r=r(n)),"".concat(t," ").concat(e,'="').concat(r,'"')}),t);r+="<".concat(o,"></").concat(t,">");var s=n+1;return s<e?Qe(t,e,i,s,r):r}function Ke(t){return t.replace(/>\s+/g,">").replace(/\s+</,"<")}function $e(t){return new Date(t).setHours(0,0,0,0)}function Je(){return(new Date).setHours(0,0,0,0)}function ti(){switch(arguments.length){case 0:return Je();case 1:return $e(arguments.length<=0?void 0:arguments[0])}var t=new Date(0);return t.setFullYear.apply(t,arguments),t.setHours(0,0,0,0)}function ei(t,e){var i=new Date(t);return i.setDate(i.getDate()+e)}function ii(t,e){var i=new Date(t),n=i.getMonth()+e,r=n%12;r<0&&(r+=12);var o=i.setMonth(n);return i.getMonth()!==r?i.setDate(0):o}function ni(t,e){var i=new Date(t),n=i.getMonth(),r=i.setFullYear(i.getFullYear()+e);return 1===n&&2===i.getMonth()?i.setDate(0):r}function ri(t,e){return(t-e+7)%7}function oi(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=new Date(t).getDay();return ei(t,ri(e,i)-ri(n,i))}function si(t,e){var i=new Date(t).getFullYear();return Math.floor(i/e)*e}var ai=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,ci=/[\s!-/:-@[-`{-~]+/,li={},hi={y:function(t,e){return new Date(t).setFullYear(parseInt(e,10))},m:function(t,e,i){var n=new Date(t),r=parseInt(e,10)-1;if(isNaN(r)){if(!e)return NaN;var o=e.toLowerCase(),s=function(t){return t.toLowerCase().startsWith(o)};if((r=i.monthsShort.findIndex(s))<0&&(r=i.months.findIndex(s)),r<0)return NaN}return n.setMonth(r),n.getMonth()!==ui(r)?n.setDate(0):n.getTime()},d:function(t,e){return new Date(t).setDate(parseInt(e,10))}},di={d:function(t){return t.getDate()},dd:function(t){return fi(t.getDate(),2)},D:function(t,e){return e.daysShort[t.getDay()]},DD:function(t,e){return e.days[t.getDay()]},m:function(t){return t.getMonth()+1},mm:function(t){return fi(t.getMonth()+1,2)},M:function(t,e){return e.monthsShort[t.getMonth()]},MM:function(t,e){return e.months[t.getMonth()]},y:function(t){return t.getFullYear()},yy:function(t){return fi(t.getFullYear(),2).slice(-2)},yyyy:function(t){return fi(t.getFullYear(),4)}};function ui(t){return t>-1?t%12:ui(t+12)}function fi(t,e){return t.toString().padStart(e,"0")}function gi(t){if("string"!=typeof t)throw new Error("Invalid date format.");if(t in li)return li[t];var e=t.split(ai),i=t.match(new RegExp(ai,"g"));if(0===e.length||!i)throw new Error("Invalid date format.");var n=i.map((function(t){return di[t]})),r=Object.keys(hi).reduce((function(t,e){return i.find((function(t){return"D"!==t[0]&&t[0].toLowerCase()===e}))&&t.push(e),t}),[]);return li[t]={parser:function(t,e){var n=t.split(ci).reduce((function(t,e,n){if(e.length>0&&i[n]){var r=i[n][0];"M"===r?t.m=e:"D"!==r&&(t[r]=e)}return t}),{});return r.reduce((function(t,i){var r=hi[i](t,n[i],e);return isNaN(r)?t:r}),Je())},formatter:function(t,i){return n.reduce((function(n,r,o){return n+"".concat(e[o]).concat(r(t,i))}),"")+Ye(e)}}}function pi(t,e,i){if(t instanceof Date||"number"==typeof t){var n=$e(t);return isNaN(n)?void 0:n}if(t){if("today"===t)return Je();if(e&&e.toValue){var r=e.toValue(t,e,i);return isNaN(r)?void 0:$e(r)}return gi(e).parser(t,i)}}function mi(t,e,i){if(isNaN(t)||!t&&0!==t)return"";var n="number"==typeof t?new Date(t):t;return e.toDisplay?e.toDisplay(n,e,i):gi(e).formatter(n,i)}var yi=new WeakMap,wi=EventTarget.prototype,_i=wi.addEventListener,bi=wi.removeEventListener;function vi(t,e){var i=yi.get(t);i||(i=[],yi.set(t,i)),e.forEach((function(t){_i.call.apply(_i,Ve(t)),i.push(t)}))}function Ei(t){var e=yi.get(t);e&&(e.forEach((function(t){bi.call.apply(bi,Ve(t))})),yi.delete(t))}if(!Event.prototype.composedPath){var Ai=function t(e){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.push(e),e.parentNode?i=e.parentNode:e.host?i=e.host:e.defaultView&&(i=e.defaultView),i?t(i,n):n};Event.prototype.composedPath=function(){return Ai(this.target)}}function Ci(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=t[n];return e(r)?r:r!==i&&r.parentElement?Ci(t,e,i,n+1):void 0}function Si(t,e){var i="function"==typeof e?e:function(t){return t.matches(e)};return Ci(t.composedPath(),i,t.currentTarget)}var Ii={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},xi={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},Ti=null;function Mi(t){return null==Ti&&(Ti=document.createRange()),Ti.createContextualFragment(t)}function Di(t){"none"!==t.style.display&&(t.style.display&&(t.dataset.styleDisplay=t.style.display),t.style.display="none")}function Oi(t){"none"===t.style.display&&(t.dataset.styleDisplay?(t.style.display=t.dataset.styleDisplay,delete t.dataset.styleDisplay):t.style.display="")}function Ri(t){t.firstChild&&(t.removeChild(t.firstChild),Ri(t))}var Ni=xi.language,ki=xi.format,Li=xi.weekStart;function Pi(t,e){return t.length<6&&e>=0&&e<7?Ge(t,e):t}function Bi(t){return(t+6)%7}function Fi(t,e,i,n){var r=pi(t,e,i);return void 0!==r?r:n}function Hi(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=parseInt(t,10);return n>=0&&n<=i?n:e}function Vi(t,e){var i,n=Object.assign({},t),r={},o=e.constructor.locales,s=e.config||{},a=s.format,c=s.language,l=s.locale,h=s.maxDate,d=s.maxView,u=s.minDate,f=s.pickLevel,g=s.startView,p=s.weekStart;if(n.language&&(n.language!==c&&(o[n.language]?i=n.language:void 0===o[i=n.language.split("-")[0]]&&(i=!1)),delete n.language,i)){c=r.language=i;var m=l||o[Ni];l=Object.assign({format:ki,weekStart:Li},o[Ni]),c!==Ni&&Object.assign(l,o[c]),r.locale=l,a===m.format&&(a=r.format=l.format),p===m.weekStart&&(p=r.weekStart=l.weekStart,r.weekEnd=Bi(l.weekStart))}if(n.format){var y="function"==typeof n.format.toDisplay,w="function"==typeof n.format.toValue,_=ai.test(n.format);(y&&w||_)&&(a=r.format=n.format),delete n.format}var b=u,v=h;if(void 0!==n.minDate&&(b=null===n.minDate?ti(0,0,1):Fi(n.minDate,a,l,b),delete n.minDate),void 0!==n.maxDate&&(v=null===n.maxDate?void 0:Fi(n.maxDate,a,l,v),delete n.maxDate),v<b?(u=r.minDate=v,h=r.maxDate=b):(u!==b&&(u=r.minDate=b),h!==v&&(h=r.maxDate=v)),n.datesDisabled&&(r.datesDisabled=n.datesDisabled.reduce((function(t,e){var i=pi(e,a,l);return void 0!==i?Ge(t,i):t}),[]),delete n.datesDisabled),void 0!==n.defaultViewDate){var E=pi(n.defaultViewDate,a,l);void 0!==E&&(r.defaultViewDate=E),delete n.defaultViewDate}if(void 0!==n.weekStart){var A=Number(n.weekStart)%7;isNaN(A)||(p=r.weekStart=A,r.weekEnd=Bi(A)),delete n.weekStart}if(n.daysOfWeekDisabled&&(r.daysOfWeekDisabled=n.daysOfWeekDisabled.reduce(Pi,[]),delete n.daysOfWeekDisabled),n.daysOfWeekHighlighted&&(r.daysOfWeekHighlighted=n.daysOfWeekHighlighted.reduce(Pi,[]),delete n.daysOfWeekHighlighted),void 0!==n.maxNumberOfDates){var C=parseInt(n.maxNumberOfDates,10);C>=0&&(r.maxNumberOfDates=C,r.multidate=1!==C),delete n.maxNumberOfDates}n.dateDelimiter&&(r.dateDelimiter=String(n.dateDelimiter),delete n.dateDelimiter);var S=f;void 0!==n.pickLevel&&(S=Hi(n.pickLevel,2),delete n.pickLevel),S!==f&&(f=r.pickLevel=S);var I=d;void 0!==n.maxView&&(I=Hi(n.maxView,d),delete n.maxView),(I=f>I?f:I)!==d&&(d=r.maxView=I);var x=g;if(void 0!==n.startView&&(x=Hi(n.startView,x),delete n.startView),x<f?x=f:x>d&&(x=d),x!==g&&(r.startView=x),n.prevArrow){var T=Mi(n.prevArrow);T.childNodes.length>0&&(r.prevArrow=T.childNodes),delete n.prevArrow}if(n.nextArrow){var M=Mi(n.nextArrow);M.childNodes.length>0&&(r.nextArrow=M.childNodes),delete n.nextArrow}if(void 0!==n.disableTouchKeyboard&&(r.disableTouchKeyboard="ontouchstart"in document&&!!n.disableTouchKeyboard,delete n.disableTouchKeyboard),n.orientation){var D=n.orientation.toLowerCase().split(/\s+/g);r.orientation={x:D.find((function(t){return"left"===t||"right"===t}))||"auto",y:D.find((function(t){return"top"===t||"bottom"===t}))||"auto"},delete n.orientation}if(void 0!==n.todayBtnMode){switch(n.todayBtnMode){case 0:case 1:r.todayBtnMode=n.todayBtnMode}delete n.todayBtnMode}return Object.keys(n).forEach((function(t){void 0!==n[t]&&We(xi,t)&&(r[t]=n[t])})),r}var zi=Ke('<div class="datepicker hidden">\n  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">\n    <div class="datepicker-header">\n      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>\n      <div class="datepicker-controls flex justify-between mb-2">\n        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>\n        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>\n        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main p-1"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">\n        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>\n        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>\n      </div>\n    </div>\n  </div>\n</div>'),Ui=Ke('<div class="days">\n  <div class="days-of-week grid grid-cols-7 mb-1">'.concat(Qe("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),'</div>\n  <div class="datepicker-grid w-64 grid grid-cols-7">').concat(Qe("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}),"</div>\n</div>")),ji=Ke('<div class="calendar-weeks">\n  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>\n  <div class="weeks">'.concat(Qe("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),"</div>\n</div>")),Wi=function(){return Ne((function t(e,i){Oe(this,t),Object.assign(this,i,{picker:e,element:Mi('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}),[{key:"init",value:function(t){void 0!==t.pickLevel&&(this.isMinView=this.id===t.pickLevel),this.setOptions(t),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(t,e,i){var n=this.beforeShow(new Date(i));switch(Ue(n)){case"boolean":n={enabled:n};break;case"string":n={classes:n}}if(n){if(!1===n.enabled&&(t.classList.add("disabled"),Ge(this.disabled,e)),n.classes){var r,o=n.classes.split(/\s+/);(r=t.classList).add.apply(r,Ve(o)),o.includes("disabled")&&Ge(this.disabled,e)}n.content&&function(t,e){Ri(t),e instanceof DocumentFragment?t.appendChild(e):"string"==typeof e?t.appendChild(Mi(e)):"function"==typeof e.forEach&&e.forEach((function(e){t.appendChild(e)}))}(t,n.content)}}}])}(),Yi=function(t){function e(t){return Oe(this,e),De(this,e,[t,{id:0,name:"days",cellClass:"day"}])}return Pe(e,t),Ne(e,[{key:"init",value:function(t){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var i=Mi(Ui).firstChild;this.dow=i.firstChild,this.grid=i.lastChild,this.element.appendChild(i)}ke(Le(e.prototype),"init",this).call(this,t)}},{key:"setOptions",value:function(t){var e,i=this;if(We(t,"minDate")&&(this.minDate=t.minDate),We(t,"maxDate")&&(this.maxDate=t.maxDate),t.datesDisabled&&(this.datesDisabled=t.datesDisabled),t.daysOfWeekDisabled&&(this.daysOfWeekDisabled=t.daysOfWeekDisabled,e=!0),t.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=t.daysOfWeekHighlighted),void 0!==t.todayHighlight&&(this.todayHighlight=t.todayHighlight),void 0!==t.weekStart&&(this.weekStart=t.weekStart,this.weekEnd=t.weekEnd,e=!0),t.locale){var n=this.locale=t.locale;this.dayNames=n.daysMin,this.switchLabelFormat=n.titleFormat,e=!0}if(void 0!==t.beforeShowDay&&(this.beforeShow="function"==typeof t.beforeShowDay?t.beforeShowDay:void 0),void 0!==t.calendarWeeks)if(t.calendarWeeks&&!this.calendarWeeks){var r=Mi(ji).firstChild;this.calendarWeeks={element:r,dow:r.firstChild,weeks:r.lastChild},this.element.insertBefore(r,this.element.firstChild)}else this.calendarWeeks&&!t.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);void 0!==t.showDaysOfWeek&&(t.showDaysOfWeek?(Oi(this.dow),this.calendarWeeks&&Oi(this.calendarWeeks.dow)):(Di(this.dow),this.calendarWeeks&&Di(this.calendarWeeks.dow))),e&&Array.from(this.dow.children).forEach((function(t,e){var n=(i.weekStart+e)%7;t.textContent=i.dayNames[n],t.className=i.daysOfWeekDisabled.includes(n)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}))}},{key:"updateFocus",value:function(){var t=new Date(this.picker.viewDate),e=t.getFullYear(),i=t.getMonth(),n=ti(e,i,1),r=oi(n,this.weekStart,this.weekStart);this.first=n,this.last=ti(e,i+1,0),this.start=r,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var t=this.picker.datepicker,e=t.dates,i=t.rangepicker;this.selected=e,i&&(this.range=i.dates)}},{key:"render",value:function(){var t=this;this.today=this.todayHighlight?Je():void 0,this.disabled=Ve(this.datesDisabled);var e=mi(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(e),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var i=oi(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach((function(t,e){t.textContent=function(t){var e=oi(t,4,1),i=oi(new Date(e).setMonth(0,4),4,1);return Math.round((e-i)/6048e5)+1}(ei(i,7*e))}))}Array.from(this.grid.children).forEach((function(e,i){var n=e.classList,r=ei(t.start,i),o=new Date(r),s=o.getDay();if(e.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(t.cellClass),e.dataset.date=r,e.textContent=o.getDate(),r<t.first?n.add("prev","text-gray-500","dark:text-white"):r>t.last&&n.add("next","text-gray-500","dark:text-white"),t.today===r&&n.add("today","bg-gray-100","dark:bg-gray-600"),(r<t.minDate||r>t.maxDate||t.disabled.includes(r))&&(n.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),n.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer")),t.daysOfWeekDisabled.includes(s)&&(n.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),n.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer"),Ge(t.disabled,r)),t.daysOfWeekHighlighted.includes(s)&&n.add("highlighted"),t.range){var a=He(t.range,2),c=a[0],l=a[1];r>c&&r<l&&(n.add("range","bg-gray-200","dark:bg-gray-600"),n.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),r===c&&(n.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),n.remove("rounded-lg","rounded-r-lg")),r===l&&(n.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),n.remove("rounded-lg","rounded-l-lg"))}t.selected.includes(r)&&(n.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),n.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),r===t.focused&&n.add("focused"),t.beforeShow&&t.performBeforeHook(e,r,r)}))}},{key:"refresh",value:function(){var t=this,e=He(this.range||[],2),i=e[0],n=e[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(t){t.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),t.classList.add("text-gray-900","rounded-lg","dark:text-white")})),Array.from(this.grid.children).forEach((function(e){var r=Number(e.dataset.date),o=e.classList;o.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),r>i&&r<n&&(o.add("range","bg-gray-200","dark:bg-gray-600"),o.remove("rounded-lg")),r===i&&(o.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),o.remove("rounded-lg")),r===n&&(o.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),o.remove("rounded-lg")),t.selected.includes(r)&&(o.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),o.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),r===t.focused&&o.add("focused")}))}},{key:"refreshFocus",value:function(){var t=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach((function(t){t.classList.remove("focused")})),this.grid.children[t].classList.add("focused")}}])}(Wi);function Gi(t,e){if(t&&t[0]&&t[1]){var i=He(t,2),n=He(i[0],2),r=n[0],o=n[1],s=He(i[1],2),a=s[0],c=s[1];if(!(r>e||a<e))return[r===e?o:-1,a===e?c:12]}}var Xi=function(t){function e(t){return Oe(this,e),De(this,e,[t,{id:1,name:"months",cellClass:"month"}])}return Pe(e,t),Ne(e,[{key:"init",value:function(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(Mi(Qe("span",12,{"data-month":function(t){return t}})))),ke(Le(e.prototype),"init",this).call(this,t)}},{key:"setOptions",value:function(t){if(t.locale&&(this.monthNames=t.locale.monthsShort),We(t,"minDate"))if(void 0===t.minDate)this.minYear=this.minMonth=this.minDate=void 0;else{var e=new Date(t.minDate);this.minYear=e.getFullYear(),this.minMonth=e.getMonth(),this.minDate=e.setDate(1)}if(We(t,"maxDate"))if(void 0===t.maxDate)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var i=new Date(t.maxDate);this.maxYear=i.getFullYear(),this.maxMonth=i.getMonth(),this.maxDate=ti(this.maxYear,this.maxMonth+1,0)}void 0!==t.beforeShowMonth&&(this.beforeShow="function"==typeof t.beforeShowMonth?t.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var t=new Date(this.picker.viewDate);this.year=t.getFullYear(),this.focused=t.getMonth()}},{key:"updateSelection",value:function(){var t=this.picker.datepicker,e=t.dates,i=t.rangepicker;this.selected=e.reduce((function(t,e){var i=new Date(e),n=i.getFullYear(),r=i.getMonth();return void 0===t[n]?t[n]=[r]:Ge(t[n],r),t}),{}),i&&i.dates&&(this.range=i.dates.map((function(t){var e=new Date(t);return isNaN(e)?void 0:[e.getFullYear(),e.getMonth()]})))}},{key:"render",value:function(){var t=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var e=this.selected[this.year]||[],i=this.year<this.minYear||this.year>this.maxYear,n=this.year===this.minYear,r=this.year===this.maxYear,o=Gi(this.range,this.year);Array.from(this.grid.children).forEach((function(s,a){var c=s.classList,l=ti(t.year,a,1);if(s.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(t.cellClass),t.isMinView&&(s.dataset.date=l),s.textContent=t.monthNames[a],(i||n&&a<t.minMonth||r&&a>t.maxMonth)&&c.add("disabled"),o){var h=He(o,2),d=h[0],u=h[1];a>d&&a<u&&c.add("range"),a===d&&c.add("range-start"),a===u&&c.add("range-end")}e.includes(a)&&(c.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),c.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),a===t.focused&&c.add("focused"),t.beforeShow&&t.performBeforeHook(s,a,l)}))}},{key:"refresh",value:function(){var t=this,e=this.selected[this.year]||[],i=He(Gi(this.range,this.year)||[],2),n=i[0],r=i[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(t){t.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),t.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")})),Array.from(this.grid.children).forEach((function(i,o){var s=i.classList;o>n&&o<r&&s.add("range"),o===n&&s.add("range-start"),o===r&&s.add("range-end"),e.includes(o)&&(s.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),s.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),o===t.focused&&s.add("focused")}))}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach((function(t){t.classList.remove("focused")})),this.grid.children[this.focused].classList.add("focused")}}])}(Wi);var Zi=function(t){function e(t,i){return Oe(this,e),De(this,e,[t,i])}return Pe(e,t),Ne(e,[{key:"init",value:function(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.navStep=10*this.step,this.beforeShowOption="beforeShow".concat(Ve(this.cellClass).reduce((function(t,e,i){return t+(i?e:e.toUpperCase())}),"")),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(Mi(Qe("span",12)))),ke(Le(e.prototype),"init",this).call(this,t)}},{key:"setOptions",value:function(t){if(We(t,"minDate")&&(void 0===t.minDate?this.minYear=this.minDate=void 0:(this.minYear=si(t.minDate,this.step),this.minDate=ti(this.minYear,0,1))),We(t,"maxDate")&&(void 0===t.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=si(t.maxDate,this.step),this.maxDate=ti(this.maxYear,11,31))),void 0!==t[this.beforeShowOption]){var e=t[this.beforeShowOption];this.beforeShow="function"==typeof e?e:void 0}}},{key:"updateFocus",value:function(){var t=new Date(this.picker.viewDate),e=si(t,this.navStep),i=e+9*this.step;this.first=e,this.last=i,this.start=e-this.step,this.focused=si(t,this.step)}},{key:"updateSelection",value:function(){var t=this,e=this.picker.datepicker,i=e.dates,n=e.rangepicker;this.selected=i.reduce((function(e,i){return Ge(e,si(i,t.step))}),[]),n&&n.dates&&(this.range=n.dates.map((function(e){if(void 0!==e)return si(e,t.step)})))}},{key:"render",value:function(){var t=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach((function(e,i){var n=e.classList,r=t.start+i*t.step,o=ti(r,0,1);if(e.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(t.cellClass),t.isMinView&&(e.dataset.date=o),e.textContent=e.dataset.year=r,0===i?n.add("prev"):11===i&&n.add("next"),(r<t.minYear||r>t.maxYear)&&n.add("disabled"),t.range){var s=He(t.range,2),a=s[0],c=s[1];r>a&&r<c&&n.add("range"),r===a&&n.add("range-start"),r===c&&n.add("range-end")}t.selected.includes(r)&&(n.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),n.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),r===t.focused&&n.add("focused"),t.beforeShow&&t.performBeforeHook(e,r,o)}))}},{key:"refresh",value:function(){var t=this,e=He(this.range||[],2),i=e[0],n=e[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(t){t.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")})),Array.from(this.grid.children).forEach((function(e){var r=Number(e.textContent),o=e.classList;r>i&&r<n&&o.add("range"),r===i&&o.add("range-start"),r===n&&o.add("range-end"),t.selected.includes(r)&&(o.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),o.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),r===t.focused&&o.add("focused")}))}},{key:"refreshFocus",value:function(){var t=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach((function(t){t.classList.remove("focused")})),this.grid.children[t].classList.add("focused")}}])}(Wi);function qi(t,e){var i={date:t.getDate(),viewDate:new Date(t.picker.viewDate),viewId:t.picker.currentView.id,datepicker:t};t.element.dispatchEvent(new CustomEvent(e,{detail:i}))}function Qi(t,e){var i,n=t.config,r=n.minDate,o=n.maxDate,s=t.picker,a=s.currentView,c=s.viewDate;switch(a.id){case 0:i=ii(c,e);break;case 1:i=ni(c,e);break;default:i=ni(c,e*a.navStep)}i=qe(i,r,o),t.picker.changeFocus(i).render()}function Ki(t){var e=t.picker.currentView.id;e!==t.config.maxView&&t.picker.changeView(e+1).render()}function $i(t){t.config.updateOnBlur?t.update({autohide:!0}):(t.refresh("input"),t.hide())}function Ji(t,e){var i=t.picker,n=new Date(i.viewDate),r=i.currentView.id,o=1===r?ii(n,e-n.getMonth()):ni(n,e-n.getFullYear());i.changeFocus(o).changeView(r-1).render()}function tn(t){var e=t.picker,i=Je();if(1===t.config.todayBtnMode){if(t.config.autohide)return void t.setDate(i);t.setDate(i,{render:!1}),e.update()}e.viewDate!==i&&e.changeFocus(i),e.changeView(0).render()}function en(t){t.setDate({clear:!0})}function nn(t){Ki(t)}function rn(t){Qi(t,-1)}function on(t){Qi(t,1)}function sn(t,e){var i=Si(e,".datepicker-cell");if(i&&!i.classList.contains("disabled")){var n=t.picker.currentView,r=n.id;n.isMinView?t.setDate(Number(i.dataset.date)):Ji(t,Number(1===r?i.dataset.month:i.dataset.year))}}function an(t){t.inline||t.config.disableTouchKeyboard||t.inputField.focus()}function cn(t,e){if(void 0!==e.title&&(e.title?(t.controls.title.textContent=e.title,Oi(t.controls.title)):(t.controls.title.textContent="",Di(t.controls.title))),e.prevArrow){var i=t.controls.prevBtn;Ri(i),e.prevArrow.forEach((function(t){i.appendChild(t.cloneNode(!0))}))}if(e.nextArrow){var n=t.controls.nextBtn;Ri(n),e.nextArrow.forEach((function(t){n.appendChild(t.cloneNode(!0))}))}if(e.locale&&(t.controls.todayBtn.textContent=e.locale.today,t.controls.clearBtn.textContent=e.locale.clear),void 0!==e.todayBtn&&(e.todayBtn?Oi(t.controls.todayBtn):Di(t.controls.todayBtn)),We(e,"minDate")||We(e,"maxDate")){var r=t.datepicker.config,o=r.minDate,s=r.maxDate;t.controls.todayBtn.disabled=!Ze(Je(),o,s)}void 0!==e.clearBtn&&(e.clearBtn?Oi(t.controls.clearBtn):Di(t.controls.clearBtn))}function ln(t){var e=t.dates,i=t.config;return qe(e.length>0?Ye(e):i.defaultViewDate,i.minDate,i.maxDate)}function hn(t,e){var i=new Date(t.viewDate),n=new Date(e),r=t.currentView,o=r.id,s=r.year,a=r.first,c=r.last,l=n.getFullYear();switch(t.viewDate=e,l!==i.getFullYear()&&qi(t.datepicker,"changeYear"),n.getMonth()!==i.getMonth()&&qi(t.datepicker,"changeMonth"),o){case 0:return e<a||e>c;case 1:return l!==s;default:return l<a||l>c}}function dn(t){return window.getComputedStyle(t).direction}var un=function(){return Ne((function t(e){Oe(this,t),this.datepicker=e;var i=zi.replace(/%buttonClass%/g,e.config.buttonClass),n=this.element=Mi(i).firstChild,r=He(n.firstChild.children,3),o=r[0],s=r[1],a=r[2],c=o.firstElementChild,l=He(o.lastElementChild.children,3),h=l[0],d=l[1],u=l[2],f=He(a.firstChild.children,2),g={title:c,prevBtn:h,viewSwitch:d,nextBtn:u,todayBtn:f[0],clearBtn:f[1]};this.main=s,this.controls=g;var p=e.inline?"inline":"dropdown";n.classList.add("datepicker-".concat(p)),"dropdown"===p&&n.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),cn(this,e.config),this.viewDate=ln(e),vi(e,[[n,"click",an.bind(null,e),{capture:!0}],[s,"click",sn.bind(null,e)],[g.viewSwitch,"click",nn.bind(null,e)],[g.prevBtn,"click",rn.bind(null,e)],[g.nextBtn,"click",on.bind(null,e)],[g.todayBtn,"click",tn.bind(null,e)],[g.clearBtn,"click",en.bind(null,e)]]),this.views=[new Yi(this),new Xi(this),new Zi(this,{id:2,name:"years",cellClass:"year",step:1}),new Zi(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[e.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),e.config.container.appendChild(this.element)}),[{key:"setOptions",value:function(t){cn(this,t),this.views.forEach((function(e){e.init(t,!1)})),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var t=this.datepicker;if(!t.inline){var e=dn(t.inputField);e!==dn(t.config.container)?this.element.dir=e:this.element.dir&&this.element.removeAttribute("dir"),this.place(),t.config.disableTouchKeyboard&&t.inputField.blur()}qi(t,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,qi(this.datepicker,"hide"))}},{key:"place",value:function(){var t,e,i,n=this.element,r=n.classList,o=n.style,s=this.datepicker,a=s.config,c=s.inputField,l=a.container,h=this.element.getBoundingClientRect(),d=h.width,u=h.height,f=l.getBoundingClientRect(),g=f.left,p=f.top,m=f.width,y=c.getBoundingClientRect(),w=y.left,_=y.top,b=y.width,v=y.height,E=a.orientation,A=E.x,C=E.y;l===document.body?(t=window.scrollY,e=w+window.scrollX,i=_+t):(e=w-g,i=_-p+(t=l.scrollTop)),"auto"===A&&(e<0?(A="left",e=10):A=e+d>m||"rtl"===dn(c)?"right":"left"),"right"===A&&(e-=d-b),"auto"===C&&(C=i-u<t?"bottom":"top"),"top"===C?i-=u:i+=v,r.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),r.add("datepicker-orient-".concat(C),"datepicker-orient-".concat(A)),o.top=i?"".concat(i,"px"):i,o.left=e?"".concat(e,"px"):e}},{key:"setViewSwitchLabel",value:function(t){this.controls.viewSwitch.textContent=t}},{key:"setPrevBtnDisabled",value:function(t){this.controls.prevBtn.disabled=t}},{key:"setNextBtnDisabled",value:function(t){this.controls.nextBtn.disabled=t}},{key:"changeView",value:function(t){var e=this.currentView,i=this.views[t];return i.id!==e.id&&(this.currentView=i,this._renderMethod="render",qi(this.datepicker,"changeView"),this.main.replaceChild(i.element,e.element)),this}},{key:"changeFocus",value:function(t){return this._renderMethod=hn(this,t)?"render":"refreshFocus",this.views.forEach((function(t){t.updateFocus()})),this}},{key:"update",value:function(){var t=ln(this.datepicker);return this._renderMethod=hn(this,t)?"render":"refresh",this.views.forEach((function(t){t.updateFocus(),t.updateSelection()})),this}},{key:"render",value:function(){var t=(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this._renderMethod||"render";delete this._renderMethod,this.currentView[t]()}}])}();function fn(t,e,i,n,r,o){if(Ze(t,r,o))return n(t)?fn(e(t,i),e,i,n,r,o):t}function gn(t,e,i,n){var r,o,s=t.picker,a=s.currentView,c=a.step||1,l=s.viewDate;switch(a.id){case 0:l=n?ei(l,7*i):e.ctrlKey||e.metaKey?ni(l,i):ei(l,i),r=ei,o=function(t){return a.disabled.includes(t)};break;case 1:l=ii(l,n?4*i:i),r=ii,o=function(t){var e=new Date(t),i=a.year,n=a.disabled;return e.getFullYear()===i&&n.includes(e.getMonth())};break;default:l=ni(l,i*(n?4:1)*c),r=ni,o=function(t){return a.disabled.includes(si(t,c))}}void 0!==(l=fn(l,r,i<0?-c:c,o,a.minDate,a.maxDate))&&s.changeFocus(l).render()}function pn(t,e){if("Tab"!==e.key){var i=t.picker,n=i.currentView,r=n.id,o=n.isMinView;if(i.active)if(t.editMode)switch(e.key){case"Escape":i.hide();break;case"Enter":t.exitEditMode({update:!0,autohide:t.config.autohide});break;default:return}else switch(e.key){case"Escape":i.hide();break;case"ArrowLeft":if(e.ctrlKey||e.metaKey)Qi(t,-1);else{if(e.shiftKey)return void t.enterEditMode();gn(t,e,-1,!1)}break;case"ArrowRight":if(e.ctrlKey||e.metaKey)Qi(t,1);else{if(e.shiftKey)return void t.enterEditMode();gn(t,e,1,!1)}break;case"ArrowUp":if(e.ctrlKey||e.metaKey)Ki(t);else{if(e.shiftKey)return void t.enterEditMode();gn(t,e,-1,!0)}break;case"ArrowDown":if(e.shiftKey&&!e.ctrlKey&&!e.metaKey)return void t.enterEditMode();gn(t,e,1,!0);break;case"Enter":o?t.setDate(i.viewDate):i.changeView(r-1).render();break;case"Backspace":case"Delete":return void t.enterEditMode();default:return void(1!==e.key.length||e.ctrlKey||e.metaKey||t.enterEditMode())}else switch(e.key){case"ArrowDown":case"Escape":i.show();break;case"Enter":t.update();break;default:return}e.preventDefault(),e.stopPropagation()}else $i(t)}function mn(t){t.config.showOnFocus&&!t._showing&&t.show()}function yn(t,e){var i=e.target;(t.picker.active||t.config.showOnClick)&&(i._active=i===document.activeElement,i._clicking=setTimeout((function(){delete i._active,delete i._clicking}),2e3))}function wn(t,e){var i=e.target;i._clicking&&(clearTimeout(i._clicking),delete i._clicking,i._active&&t.enterEditMode(),delete i._active,t.config.showOnClick&&t.show())}function _n(t,e){e.clipboardData.types.includes("text/plain")&&t.enterEditMode()}function bn(t,e){var i=t.element;if(i===document.activeElement){var n=t.picker.element;Si(e,(function(t){return t===i||t===n}))||$i(t)}}function vn(t,e){return t.map((function(t){return mi(t,e.format,e.locale)})).join(e.dateDelimiter)}function En(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.config,r=t.dates,o=t.rangepicker;if(0===e.length)return i?[]:void 0;var s=o&&t===o.datepickers[1],a=e.reduce((function(t,e){var i=pi(e,n.format,n.locale);if(void 0===i)return t;if(n.pickLevel>0){var r=new Date(i);i=1===n.pickLevel?s?r.setMonth(r.getMonth()+1,0):r.setDate(1):s?r.setFullYear(r.getFullYear()+1,0,0):r.setMonth(0,1)}return!Ze(i,n.minDate,n.maxDate)||t.includes(i)||n.datesDisabled.includes(i)||n.daysOfWeekDisabled.includes(new Date(i).getDay())||t.push(i),t}),[]);return 0!==a.length?(n.multidate&&!i&&(a=a.reduce((function(t,e){return r.includes(e)||t.push(e),t}),r.filter((function(t){return!a.includes(t)})))),n.maxNumberOfDates&&a.length>n.maxNumberOfDates?a.slice(-1*n.maxNumberOfDates):a):void 0}function An(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.config,r=t.picker,o=t.inputField;if(2&e){var s=r.active?n.pickLevel:n.startView;r.update().changeView(s).render(i)}1&e&&o&&(o.value=vn(t.dates,n))}function Cn(t,e,i){var n=i.clear,r=i.render,o=i.autohide;void 0===r&&(r=!0),r?void 0===o&&(o=t.config.autohide):o=!1;var s=En(t,e,n);s&&(s.toString()!==t.dates.toString()?(t.dates=s,An(t,r?3:1),qi(t,"changeDate")):An(t,1),o&&t.hide())}var Sn=function(){return Ne((function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;Oe(this,t),e.datepicker=this,this.element=e;var r=this.config=Object.assign({buttonClass:i.buttonClass&&String(i.buttonClass)||"button",container:document.body,defaultViewDate:Je(),maxDate:void 0,minDate:void 0},Vi(xi,this));this._options=i,Object.assign(r,Vi(i,this));var o,s,a=this.inline="INPUT"!==e.tagName;if(a)r.container=e,s=Xe(e.dataset.date,r.dateDelimiter),delete e.dataset.date;else{var c=i.container?document.querySelector(i.container):null;c&&(r.container=c),(o=this.inputField=e).classList.add("datepicker-input"),s=Xe(o.value,r.dateDelimiter)}if(n){var l=n.inputs.indexOf(o),h=n.datepickers;if(l<0||l>1||!Array.isArray(h))throw Error("Invalid rangepicker object.");h[l]=this,Object.defineProperty(this,"rangepicker",{get:function(){return n}})}this.dates=[];var d=En(this,s);d&&d.length>0&&(this.dates=d),o&&(o.value=vn(this.dates,r));var u=this.picker=new un(this);if(a)this.show();else{var f=bn.bind(null,this);vi(this,[[o,"keydown",pn.bind(null,this)],[o,"focus",mn.bind(null,this)],[o,"mousedown",yn.bind(null,this)],[o,"click",wn.bind(null,this)],[o,"paste",_n.bind(null,this)],[document,"mousedown",f],[document,"touchstart",f],[window,"resize",u.place.bind(u)]])}}),[{key:"active",get:function(){return!(!this.picker||!this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(t){var e=this.picker,i=Vi(t,this);Object.assign(this._options,t),Object.assign(this.config,i),e.setOptions(i),An(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){return this.hide(),Ei(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=e?function(i){return mi(i,e,t.config.locale)}:function(t){return new Date(t)};return this.config.multidate?this.dates.map(i):this.dates.length>0?i(this.dates[0]):void 0}},{key:"setDate",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=[].concat(e),r={},o=Ye(e);"object"!==Ue(o)||Array.isArray(o)||o instanceof Date||!o||Object.assign(r,n.pop()),Cn(this,Array.isArray(n[0])?n[0]:n,r)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline){var e={clear:!0,autohide:!(!t||!t.autohide)};Cn(this,Xe(this.inputField.value,this.config.dateDelimiter),e)}}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&"string"!=typeof t&&(e=t,t=void 0),An(this,"picker"===t?2:"input"===t?1:3,!e)}},{key:"enterEditMode",value:function(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}},{key:"exitEditMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline&&this.editMode){var e=Object.assign({update:!1},t);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),e.update&&this.update(e)}}}],[{key:"formatDate",value:function(t,e,i){return mi(t,e,i&&Ii[i]||Ii.en)}},{key:"parseDate",value:function(t,e,i){return pi(t,e,i&&Ii[i]||Ii.en)}},{key:"locales",get:function(){return Ii}}])}();function In(t){var e=Object.assign({},t);return delete e.inputs,delete e.allowOneSidedRange,delete e.maxNumberOfDates,e}function xn(t,e,i,n){vi(t,[[i,"changeDate",e]]),new Sn(i,n,t)}function Tn(t,e){if(!t._updating){t._updating=!0;var i=e.target;if(void 0!==i.datepicker){var n=t.datepickers,r={render:!1},o=t.inputs.indexOf(i),s=0===o?1:0,a=n[o].dates[0],c=n[s].dates[0];void 0!==a&&void 0!==c?0===o&&a>c?(n[0].setDate(c,r),n[1].setDate(a,r)):1===o&&a<c&&(n[0].setDate(a,r),n[1].setDate(c,r)):t.allowOneSidedRange||void 0===a&&void 0===c||(r.clear=!0,n[s].setDate(n[o].dates,r)),n[0].picker.update().render(),n[1].picker.update().render(),delete t._updating}}}var Mn=function(){return Ne((function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Oe(this,t);var n=Array.isArray(i.inputs)?i.inputs:Array.from(e.querySelectorAll("input"));if(!(n.length<2)){e.rangepicker=this,this.element=e,this.inputs=n.slice(0,2),this.allowOneSidedRange=!!i.allowOneSidedRange;var r=Tn.bind(null,this),o=In(i),s=[];Object.defineProperty(this,"datepickers",{get:function(){return s}}),xn(this,r,this.inputs[0],o),xn(this,r,this.inputs[1],o),Object.freeze(s),s[0].dates.length>0?Tn(this,{target:this.inputs[0]}):s[1].dates.length>0&&Tn(this,{target:this.inputs[1]})}}),[{key:"dates",get:function(){return 2===this.datepickers.length?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}},{key:"setOptions",value:function(t){this.allowOneSidedRange=!!t.allowOneSidedRange;var e=In(t);this.datepickers[0].setOptions(e),this.datepickers[1].setOptions(e)}},{key:"destroy",value:function(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),Ei(this),delete this.element.rangepicker}},{key:"getDates",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=e?function(i){return mi(i,e,t.datepickers[0].config.locale)}:function(t){return new Date(t)};return this.dates.map((function(t){return void 0===t?t:i(t)}))}},{key:"setDates",value:function(t,e){var i=He(this.datepickers,2),n=i[0],r=i[1],o=this.dates;this._updating=!0,n.setDate(t),r.setDate(e),delete this._updating,r.dates[0]!==o[1]?Tn(this,{target:this.inputs[1]}):n.dates[0]!==o[0]&&Tn(this,{target:this.inputs[0]})}}])}(),Dn=function(){return Dn=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Dn.apply(this,arguments)},On={defaultDatepickerId:null,autohide:!1,format:"mm/dd/yyyy",maxDate:null,minDate:null,orientation:"bottom",buttons:!1,autoSelectToday:0,title:null,language:"en",rangePicker:!1,onShow:function(){},onHide:function(){}},Rn={id:null,override:!0},Nn=function(){function t(t,e,n){void 0===t&&(t=null),void 0===e&&(e=On),void 0===n&&(n=Rn),this._instanceId=n.id?n.id:t.id,this._datepickerEl=t,this._datepickerInstance=null,this._options=Dn(Dn({},On),e),this._initialized=!1,this.init(),i.addInstance("Datepicker",this,this._instanceId,n.override)}return t.prototype.init=function(){this._datepickerEl&&!this._initialized&&(this._options.rangePicker?this._datepickerInstance=new Mn(this._datepickerEl,this._getDatepickerOptions(this._options)):this._datepickerInstance=new Sn(this._datepickerEl,this._getDatepickerOptions(this._options)),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1,this._datepickerInstance.destroy())},t.prototype.removeInstance=function(){this.destroy(),i.removeInstance("Datepicker",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getDatepickerInstance=function(){return this._datepickerInstance},t.prototype.getDate=function(){return this._options.rangePicker&&this._datepickerInstance instanceof Mn?this._datepickerInstance.getDates():!this._options.rangePicker&&this._datepickerInstance instanceof Sn?this._datepickerInstance.getDate():void 0},t.prototype.setDate=function(t){return this._options.rangePicker&&this._datepickerInstance instanceof Mn?this._datepickerInstance.setDates(t):!this._options.rangePicker&&this._datepickerInstance instanceof Sn?this._datepickerInstance.setDate(t):void 0},t.prototype.show=function(){this._datepickerInstance.show(),this._options.onShow(this)},t.prototype.hide=function(){this._datepickerInstance.hide(),this._options.onHide(this)},t.prototype._getDatepickerOptions=function(t){var e={};return t.buttons&&(e.todayBtn=!0,e.clearBtn=!0,t.autoSelectToday&&(e.todayBtnMode=1)),t.autohide&&(e.autohide=!0),t.format&&(e.format=t.format),t.maxDate&&(e.maxDate=t.maxDate),t.minDate&&(e.minDate=t.minDate),t.orientation&&(e.orientation=t.orientation),t.title&&(e.title=t.title),t.language&&(e.language=t.language),e},t.prototype.updateOnShow=function(t){this._options.onShow=t},t.prototype.updateOnHide=function(t){this._options.onHide=t},t}();function kn(){document.querySelectorAll("[datepicker], [inline-datepicker], [date-rangepicker]").forEach((function(t){if(t){var e=t.hasAttribute("datepicker-buttons"),i=t.hasAttribute("datepicker-autoselect-today"),n=t.hasAttribute("datepicker-autohide"),r=t.getAttribute("datepicker-format"),o=t.getAttribute("datepicker-max-date"),s=t.getAttribute("datepicker-min-date"),a=t.getAttribute("datepicker-orientation"),c=t.getAttribute("datepicker-title"),l=t.getAttribute("datepicker-language"),h=t.hasAttribute("date-rangepicker");new Nn(t,{buttons:e||On.buttons,autoSelectToday:i||On.autoSelectToday,autohide:n||On.autohide,format:r||On.format,maxDate:o||On.maxDate,minDate:s||On.minDate,orientation:a||On.orientation,title:c||On.title,language:l||On.language,rangePicker:h||On.rangePicker})}else console.error("The datepicker element does not exist. Please check the datepicker attribute.")}))}"undefined"!=typeof window&&(window.Datepicker=Nn,window.initDatepickers=kn);"undefined"!=typeof window&&(window.initFlowbite=function(){a(),u(),y(),E(),Vt(),Yt(),Qt(),ee(),ae(),fe(),we(),Ae(),Te(),kn()}),new t("load",[a,u,y,E,Vt,Yt,Qt,ee,ae,fe,we,Ae,Te,kn]).init()},2360:(t,e,i)=>{"use strict";var n,r=i(8551),o=i(6801),s=i(8727),a=i(421),c=i(397),l=i(4055),h=i(6119),d="prototype",u="script",f=h("IE_PROTO"),g=function(){},p=function(t){return"<"+u+">"+t+"</"+u+">"},m=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e,i;y="undefined"!=typeof document?document.domain&&n?m(n):(e=l("iframe"),i="java"+u+":",e.style.display="none",c.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F):m(n);for(var r=s.length;r--;)delete y[d][s[r]];return y()};a[f]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(g[d]=r(t),i=new g,g[d]=null,i[f]=t):i=y(),void 0===e?i:o.f(i,e)}},2478:(t,e,i)=>{"use strict";var n=i(9504),r=i(8981),o=Math.floor,s=n("".charAt),a=n("".replace),c=n("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,h=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,i,n,d,u){var f=i+t.length,g=n.length,p=h;return void 0!==d&&(d=r(d),p=l),a(u,p,(function(r,a){var l;switch(s(a,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,i);case"'":return c(e,f);case"<":l=d[c(a,1,-1)];break;default:var h=+a;if(0===h)return r;if(h>g){var u=o(h/10);return 0===u?r:u<=g?void 0===n[u-1]?s(a,1):n[u-1]+s(a,1):r}l=n[h-1]}return void 0===l?"":l}))}},2652:(t,e,i)=>{"use strict";var n=i(6080),r=i(9565),o=i(8551),s=i(6823),a=i(4209),c=i(6198),l=i(1625),h=i(81),d=i(851),u=i(9539),f=TypeError,g=function(t,e){this.stopped=t,this.result=e},p=g.prototype;t.exports=function(t,e,i){var m,y,w,_,b,v,E,A=i&&i.that,C=!(!i||!i.AS_ENTRIES),S=!(!i||!i.IS_RECORD),I=!(!i||!i.IS_ITERATOR),x=!(!i||!i.INTERRUPTED),T=n(e,A),M=function(t){return m&&u(m,"normal",t),new g(!0,t)},D=function(t){return C?(o(t),x?T(t[0],t[1],M):T(t[0],t[1])):x?T(t,M):T(t)};if(S)m=t.iterator;else if(I)m=t;else{if(!(y=d(t)))throw new f(s(t)+" is not iterable");if(a(y)){for(w=0,_=c(t);_>w;w++)if((b=D(t[w]))&&l(p,b))return b;return new g(!1)}m=h(t,y)}for(v=S?t.next:m.next;!(E=r(v,m)).done;){try{b=D(E.value)}catch(t){u(m,"throw",t)}if("object"==typeof b&&b&&l(p,b))return b}return new g(!1)}},2777:(t,e,i)=>{"use strict";var n=i(9565),r=i(34),o=i(757),s=i(5966),a=i(4270),c=i(8227),l=TypeError,h=c("toPrimitive");t.exports=function(t,e){if(!r(t)||o(t))return t;var i,c=s(t,h);if(c){if(void 0===e&&(e="default"),i=n(c,t,e),!r(i)||o(i))return i;throw new l("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},2787:(t,e,i)=>{"use strict";var n=i(9297),r=i(4901),o=i(8981),s=i(6119),a=i(2211),c=s("IE_PROTO"),l=Object,h=l.prototype;t.exports=a?l.getPrototypeOf:function(t){var e=o(t);if(n(e,c))return e[c];var i=e.constructor;return r(i)&&e instanceof i?i.prototype:e instanceof l?h:null}},2796:(t,e,i)=>{"use strict";var n=i(9039),r=i(4901),o=/#|\.prototype\./,s=function(t,e){var i=c[a(t)];return i===h||i!==l&&(r(e)?n(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",h=s.POLYFILL="P";t.exports=s},2812:t=>{"use strict";var e=TypeError;t.exports=function(t,i){if(t<i)throw new e("Not enough arguments");return t}},2839:(t,e,i)=>{"use strict";var n=i(4576).navigator,r=n&&n.userAgent;t.exports=r?String(r):""},2967:(t,e,i)=>{"use strict";var n=i(6706),r=i(34),o=i(7750),s=i(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=n(Object.prototype,"__proto__","set"))(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return o(i),s(n),r(i)?(e?t(i,n):i.__proto__=n,i):i}}():void 0)},3138:t=>{"use strict";t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},3179:(t,e,i)=>{"use strict";var n=i(2140),r=i(6955);t.exports=n?{}.toString:function(){return"[object "+r(this)+"]"}},3362:(t,e,i)=>{"use strict";i(436),i(6499),i(2003),i(7743),i(1481),i(280)},3389:(t,e,i)=>{"use strict";var n=i(4576),r=i(3724),o=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!r)return n[t];var e=o(n,t);return e&&e.value}},3392:(t,e,i)=>{"use strict";var n=i(9504),r=0,o=Math.random(),s=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++r+o,36)}},3438:(t,e,i)=>{"use strict";var n=i(8551),r=i(34),o=i(6043);t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=o.f(t);return(0,i.resolve)(e),i.promise}},3500:(t,e,i)=>{"use strict";var n=i(4576),r=i(7400),o=i(9296),s=i(235),a=i(6699),c=function(t){if(t&&t.forEach!==s)try{a(t,"forEach",s)}catch(e){t.forEach=s}};for(var l in r)r[l]&&c(n[l]&&n[l].prototype);c(o)},3506:(t,e,i)=>{"use strict";var n=i(3925),r=String,o=TypeError;t.exports=function(t){if(n(t))return t;throw new o("Can't set "+r(t)+" as a prototype")}},3517:(t,e,i)=>{"use strict";var n=i(9504),r=i(9039),o=i(4901),s=i(6955),a=i(7751),c=i(3706),l=function(){},h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,u=n(d.exec),f=!d.test(l),g=function(t){if(!o(t))return!1;try{return h(l,[],t),!0}catch(t){return!1}},p=function(t){if(!o(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!u(d,c(t))}catch(t){return!0}};p.sham=!0,t.exports=!h||r((function(){var t;return g(g.call)||!g(Object)||!g((function(){t=!0}))||t}))?p:g},3635:(t,e,i)=>{"use strict";var n=i(9039),r=i(4576).RegExp;t.exports=n((function(){var t=r(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},3706:(t,e,i)=>{"use strict";var n=i(9504),r=i(4901),o=i(7629),s=n(Function.toString);r(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},3717:(t,e)=>{"use strict";e.f=Object.getOwnPropertySymbols},3724:(t,e,i)=>{"use strict";var n=i(9039);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3802:(t,e,i)=>{"use strict";var n=i(9504),r=i(7750),o=i(655),s=i(7452),a=n("".replace),c=RegExp("^["+s+"]+"),l=RegExp("(^|[^"+s+"])["+s+"]+$"),h=function(t){return function(e){var i=o(r(e));return 1&t&&(i=a(i,c,"")),2&t&&(i=a(i,l,"$1")),i}};t.exports={start:h(1),end:h(2),trim:h(3)}},3904:(t,e,i)=>{"use strict";var n=i(4576),r=i(9039),o=i(9504),s=i(655),a=i(3802).trim,c=i(7452),l=o("".charAt),h=n.parseFloat,d=n.Symbol,u=d&&d.iterator,f=1/h(c+"-0")!=-1/0||u&&!r((function(){h(Object(u))}));t.exports=f?function(t){var e=a(s(t)),i=h(e);return 0===i&&"-"===l(e,0)?-0:i}:h},3925:(t,e,i)=>{"use strict";var n=i(34);t.exports=function(t){return n(t)||null===t}},3949:(t,e,i)=>{"use strict";i(7588)},4055:(t,e,i)=>{"use strict";var n=i(4576),r=i(34),o=n.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},4117:t=>{"use strict";t.exports=function(t){return null==t}},4209:(t,e,i)=>{"use strict";var n=i(8227),r=i(6269),o=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||s[o]===t)}},4215:(t,e,i)=>{"use strict";var n=i(4576),r=i(2839),o=i(2195),s=function(t){return r.slice(0,t.length)===t};t.exports=s("Bun/")?"BUN":s("Cloudflare-Workers")?"CLOUDFLARE":s("Deno/")?"DENO":s("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},4265:(t,e,i)=>{"use strict";var n=i(2839);t.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},4270:(t,e,i)=>{"use strict";var n=i(9565),r=i(4901),o=i(34),s=TypeError;t.exports=function(t,e){var i,a;if("string"===e&&r(i=t.toString)&&!o(a=n(i,t)))return a;if(r(i=t.valueOf)&&!o(a=n(i,t)))return a;if("string"!==e&&r(i=t.toString)&&!o(a=n(i,t)))return a;throw new s("Can't convert object to primitive value")}},4376:(t,e,i)=>{"use strict";var n=i(2195);t.exports=Array.isArray||function(t){return"Array"===n(t)}},4423:(t,e,i)=>{"use strict";var n=i(6518),r=i(9617).includes,o=i(9039),s=i(6469);n({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},4428:(t,e,i)=>{"use strict";var n=i(8227)("iterator"),r=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){r=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!r)return!1}catch(t){return!1}var i=!1;try{var o={};o[n]=function(){return{next:function(){return{done:i=!0}}}},t(o)}catch(t){}return i}},4495:(t,e,i)=>{"use strict";var n=i(9519),r=i(9039),o=i(4576).String;t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},4576:function(t,e,i){"use strict";var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i.g&&i.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4598:(t,e,i)=>{"use strict";var n=i(9039);t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){return 1},1)}))}},4599:(t,e,i)=>{"use strict";var n=i(6518),r=i(4576),o=i(9472)(r.setTimeout,!0);n({global:!0,bind:!0,forced:r.setTimeout!==o},{setTimeout:o})},4659:(t,e,i)=>{"use strict";var n=i(3724),r=i(4913),o=i(6980);t.exports=function(t,e,i){n?r.f(t,e,o(0,i)):t[e]=i}},4901:t=>{"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},4913:(t,e,i)=>{"use strict";var n=i(3724),r=i(5917),o=i(8686),s=i(8551),a=i(6969),c=TypeError,l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,d="enumerable",u="configurable",f="writable";e.f=n?o?function(t,e,i){if(s(t),e=a(e),s(i),"function"==typeof t&&"prototype"===e&&"value"in i&&f in i&&!i[f]){var n=h(t,e);n&&n[f]&&(t[e]=i.value,i={configurable:u in i?i[u]:n[u],enumerable:d in i?i[d]:n[d],writable:!1})}return l(t,e,i)}:l:function(t,e,i){if(s(t),e=a(e),s(i),r)try{return l(t,e,i)}catch(t){}if("get"in i||"set"in i)throw new c("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},5031:(t,e,i)=>{"use strict";var n=i(7751),r=i(9504),o=i(8480),s=i(3717),a=i(8551),c=r([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(a(t)),i=s.f;return i?c(e,i(t)):e}},5397:(t,e,i)=>{"use strict";var n=i(7055),r=i(7750);t.exports=function(t){return n(r(t))}},5440:(t,e,i)=>{"use strict";var n=i(8745),r=i(9565),o=i(9504),s=i(9228),a=i(9039),c=i(8551),l=i(4901),h=i(4117),d=i(1291),u=i(8014),f=i(655),g=i(7750),p=i(7829),m=i(5966),y=i(2478),w=i(6682),_=i(8227)("replace"),b=Math.max,v=Math.min,E=o([].concat),A=o([].push),C=o("".indexOf),S=o("".slice),I="$0"==="a".replace(/./,"$0"),x=!!/./[_]&&""===/./[_]("a","$0");s("replace",(function(t,e,i){var o=x?"$":"$0";return[function(t,i){var n=g(this),o=h(t)?void 0:m(t,_);return o?r(o,t,n,i):r(e,f(n),t,i)},function(t,r){var s=c(this),a=f(t);if("string"==typeof r&&-1===C(r,o)&&-1===C(r,"$<")){var h=i(e,s,a,r);if(h.done)return h.value}var g=l(r);g||(r=f(r));var m,_=s.global;_&&(m=s.unicode,s.lastIndex=0);for(var I,x=[];null!==(I=w(s,a))&&(A(x,I),_);){""===f(I[0])&&(s.lastIndex=p(a,u(s.lastIndex),m))}for(var T,M="",D=0,O=0;O<x.length;O++){for(var R,N=f((I=x[O])[0]),k=b(v(d(I.index),a.length),0),L=[],P=1;P<I.length;P++)A(L,void 0===(T=I[P])?T:String(T));var B=I.groups;if(g){var F=E([N],L,k,a);void 0!==B&&A(F,B),R=f(n(r,void 0,F))}else R=y(N,a,k,L,B,r);k>=D&&(M+=S(a,D,k)+R,D=k+N.length)}return M+S(a,D)}]}),!!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!I||x)},5548:(t,e,i)=>{"use strict";var n=i(3517),r=i(6823),o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(r(t)+" is not a constructor")}},5575:(t,e,i)=>{"use strict";var n=i(6518),r=i(4576),o=i(9472)(r.setInterval,!0);n({global:!0,bind:!0,forced:r.setInterval!==o},{setInterval:o})},5610:(t,e,i)=>{"use strict";var n=i(1291),r=Math.max,o=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):o(i,e)}},5745:(t,e,i)=>{"use strict";var n=i(7629);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},5917:(t,e,i)=>{"use strict";var n=i(3724),r=i(9039),o=i(4055);t.exports=!n&&!r((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},5966:(t,e,i)=>{"use strict";var n=i(9306),r=i(4117);t.exports=function(t,e){var i=t[e];return r(i)?void 0:n(i)}},6031:(t,e,i)=>{"use strict";i(5575),i(4599)},6043:(t,e,i)=>{"use strict";var n=i(9306),r=TypeError,o=function(t){var e,i;this.promise=new t((function(t,n){if(void 0!==e||void 0!==i)throw new r("Bad Promise constructor");e=t,i=n})),this.resolve=n(e),this.reject=n(i)};t.exports.f=function(t){return new o(t)}},6080:(t,e,i)=>{"use strict";var n=i(7476),r=i(9306),o=i(616),s=n(n.bind);t.exports=function(t,e){return r(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},6099:(t,e,i)=>{"use strict";var n=i(2140),r=i(6840),o=i(3179);n||r(Object.prototype,"toString",o,{unsafe:!0})},6119:(t,e,i)=>{"use strict";var n=i(5745),r=i(3392),o=n("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},6193:(t,e,i)=>{"use strict";var n=i(4215);t.exports="NODE"===n},6198:(t,e,i)=>{"use strict";var n=i(8014);t.exports=function(t){return n(t.length)}},6269:t=>{"use strict";t.exports={}},6314:t=>{!function(){function e(t,i){if(!(this instanceof e))return new e(t,i);if(!t||"TABLE"!==t.tagName)throw new Error("Element must be a table");this.init(t,i||{})}var i=[],n=function(t){var e;return window.CustomEvent&&"function"==typeof window.CustomEvent?e=new CustomEvent(t):(e=document.createEvent("CustomEvent")).initCustomEvent(t,!1,!1,void 0),e},r=function(t,e){return t.getAttribute(e.sortAttribute||"data-sort")||t.textContent||t.innerText||""},o=function(t,e){return(t=t.trim().toLowerCase())===(e=e.trim().toLowerCase())?0:t<e?1:-1},s=function(t,e){return[].slice.call(t).find((function(t){return t.getAttribute("data-sort-column-key")===e}))},a=function(t,e){return function(i,n){var r=t(i.td,n.td);return 0===r?e?n.index-i.index:i.index-n.index:r}};e.extend=function(t,e,n){if("function"!=typeof e||"function"!=typeof n)throw new Error("Pattern and sort must be a function");i.push({name:t,pattern:e,sort:n})},e.prototype={init:function(t,e){var i,n,r,o,s=this;if(s.table=t,s.thead=!1,s.options=e,t.rows&&t.rows.length>0)if(t.tHead&&t.tHead.rows.length>0){for(r=0;r<t.tHead.rows.length;r++)if("thead"===t.tHead.rows[r].getAttribute("data-sort-method")){i=t.tHead.rows[r];break}i||(i=t.tHead.rows[t.tHead.rows.length-1]),s.thead=!0}else i=t.rows[0];if(i){var a=function(){s.current&&s.current!==this&&s.current.removeAttribute("aria-sort"),s.current=this,s.sortTable(this)};for(r=0;r<i.cells.length;r++)(o=i.cells[r]).setAttribute("role","columnheader"),"none"!==o.getAttribute("data-sort-method")&&(o.tabIndex=0,o.addEventListener("click",a,!1),o.addEventListener("keydown",(function(t){"Enter"===t.key&&(t.preventDefault(),a.call(this))})),null!==o.getAttribute("data-sort-default")&&(n=o));n&&(s.current=n,s.sortTable(n))}},sortTable:function(t,e){var c=this,l=t.getAttribute("data-sort-column-key"),h=t.cellIndex,d=o,u="",f=[],g=c.thead?0:1,p=t.getAttribute("data-sort-method"),m=t.hasAttribute("data-sort-reverse"),y=t.getAttribute("aria-sort");if(c.table.dispatchEvent(n("beforeSort")),e||(y="ascending"===y?"descending":"descending"===y?"ascending":c.options.descending?"descending":"ascending",t.setAttribute("aria-sort",y)),!(c.table.rows.length<2)){if(!p){for(;f.length<3&&g<c.table.tBodies[0].rows.length;)(u=(u=(A=l?s(c.table.tBodies[0].rows[g].cells,l):c.table.tBodies[0].rows[g].cells[h])?r(A,c.options):"").trim()).length>0&&f.push(u),g++;if(!f)return}for(g=0;g<i.length;g++)if(u=i[g],p){if(u.name===p){d=u.sort;break}}else if(f.every(u.pattern)){d=u.sort;break}for(c.col=h,g=0;g<c.table.tBodies.length;g++){var w,_=[],b={},v=0,E=0;if(!(c.table.tBodies[g].rows.length<2)){for(w=0;w<c.table.tBodies[g].rows.length;w++){var A;"none"===(u=c.table.tBodies[g].rows[w]).getAttribute("data-sort-method")?b[v]=u:(A=l?s(u.cells,l):u.cells[c.col],_.push({tr:u,td:A?r(A,c.options):"",index:v})),v++}for("descending"===y&&!m||"ascending"===y&&m?_.sort(a(d,!0)):(_.sort(a(d,!1)),_.reverse()),w=0;w<v;w++)b[w]?(u=b[w],E++):u=_[w-E].tr,c.table.tBodies[g].appendChild(u)}}c.table.dispatchEvent(n("afterSort"))}},refresh:function(){void 0!==this.current&&this.sortTable(this.current,!0)}},t.exports?t.exports=e:window.Tablesort=e}()},6349:(t,e,i)=>{"use strict";function n(t){return t+.5|0}i.d(e,{Ay:()=>Ts});const r=(t,e,i)=>Math.max(Math.min(t,i),e);function o(t){return r(n(2.55*t),0,255)}function s(t){return r(n(255*t),0,255)}function a(t){return r(n(t/2.55)/100,0,1)}function c(t){return r(n(100*t),0,100)}const l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},h=[..."0123456789ABCDEF"],d=t=>h[15&t],u=t=>h[(240&t)>>4]+h[15&t],f=t=>(240&t)>>4==(15&t);function g(t){var e=(t=>f(t.r)&&f(t.g)&&f(t.b)&&f(t.a))(t)?d:u;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const p=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function m(t,e,i){const n=e*Math.min(i,1-i),r=(e,r=(e+t/30)%12)=>i-n*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function y(t,e,i){const n=(n,r=(n+t/60)%6)=>i-i*e*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function w(t,e,i){const n=m(t,1,.5);let r;for(e+i>1&&(r=1/(e+i),e*=r,i*=r),r=0;r<3;r++)n[r]*=1-e-i,n[r]+=e;return n}function _(t){const e=t.r/255,i=t.g/255,n=t.b/255,r=Math.max(e,i,n),o=Math.min(e,i,n),s=(r+o)/2;let a,c,l;return r!==o&&(l=r-o,c=s>.5?l/(2-r-o):l/(r+o),a=function(t,e,i,n,r){return t===r?(e-i)/n+(e<i?6:0):e===r?(i-t)/n+2:(t-e)/n+4}(e,i,n,l,r),a=60*a+.5),[0|a,c||0,s]}function b(t,e,i,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,n)).map(s)}function v(t,e,i){return b(m,t,e,i)}function E(t){return(t%360+360)%360}function A(t){const e=p.exec(t);let i,n=255;if(!e)return;e[5]!==i&&(n=e[6]?o(+e[5]):s(+e[5]));const r=E(+e[2]),a=+e[3]/100,c=+e[4]/100;return i="hwb"===e[1]?function(t,e,i){return b(w,t,e,i)}(r,a,c):"hsv"===e[1]?function(t,e,i){return b(y,t,e,i)}(r,a,c):v(r,a,c),{r:i[0],g:i[1],b:i[2],a:n}}const C={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},S={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let I;function x(t){I||(I=function(){const t={},e=Object.keys(S),i=Object.keys(C);let n,r,o,s,a;for(n=0;n<e.length;n++){for(s=a=e[n],r=0;r<i.length;r++)o=i[r],a=a.replace(o,C[o]);o=parseInt(S[s],16),t[a]=[o>>16&255,o>>8&255,255&o]}return t}(),I.transparent=[0,0,0,0]);const e=I[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const T=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const M=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,D=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function O(t,e,i){if(t){let n=_(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*i,0===e?360:1)),n=v(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function R(t,e){return t?Object.assign(e||{},t):t}function N(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=s(t[3]))):(e=R(t,{r:0,g:0,b:0,a:1})).a=s(e.a),e}function k(t){return"r"===t.charAt(0)?function(t){const e=T.exec(t);let i,n,s,a=255;if(e){if(e[7]!==i){const t=+e[7];a=e[8]?o(t):r(255*t,0,255)}return i=+e[1],n=+e[3],s=+e[5],i=255&(e[2]?o(i):r(i,0,255)),n=255&(e[4]?o(n):r(n,0,255)),s=255&(e[6]?o(s):r(s,0,255)),{r:i,g:n,b:s,a}}}(t):A(t)}class L{constructor(t){if(t instanceof L)return t;const e=typeof t;let i;var n,r,o;"object"===e?i=N(t):"string"===e&&(o=(n=t).length,"#"===n[0]&&(4===o||5===o?r={r:255&17*l[n[1]],g:255&17*l[n[2]],b:255&17*l[n[3]],a:5===o?17*l[n[4]]:255}:7!==o&&9!==o||(r={r:l[n[1]]<<4|l[n[2]],g:l[n[3]]<<4|l[n[4]],b:l[n[5]]<<4|l[n[6]],a:9===o?l[n[7]]<<4|l[n[8]]:255})),i=r||x(t)||k(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=R(this._rgb);return t&&(t.a=a(t.a)),t}set rgb(t){this._rgb=N(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${a(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this._valid?g(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=_(t),i=e[0],n=c(e[1]),r=c(e[2]);return t.a<255?`hsla(${i}, ${n}%, ${r}%, ${a(t.a)})`:`hsl(${i}, ${n}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,n=t.rgb;let r;const o=e===r?.5:e,s=2*o-1,a=i.a-n.a,c=((s*a==-1?s:(s+a)/(1+s*a))+1)/2;r=1-c,i.r=255&c*i.r+r*n.r+.5,i.g=255&c*i.g+r*n.g+.5,i.b=255&c*i.b+r*n.b+.5,i.a=o*i.a+(1-o)*n.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,i){const n=D(a(t.r)),r=D(a(t.g)),o=D(a(t.b));return{r:s(M(n+i*(D(a(e.r))-n))),g:s(M(r+i*(D(a(e.g))-r))),b:s(M(o+i*(D(a(e.b))-o))),a:t.a+i*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new L(this.rgb)}alpha(t){return this._rgb.a=s(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=n(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return O(this._rgb,2,t),this}darken(t){return O(this._rgb,2,-t),this}saturate(t){return O(this._rgb,1,t),this}desaturate(t){return O(this._rgb,1,-t),this}rotate(t){return function(t,e){var i=_(t);i[0]=E(i[0]+e),i=v(i),t.r=i[0],t.g=i[1],t.b=i[2]}(this._rgb,t),this}}function P(){}const B=(()=>{let t=0;return()=>t++})();function F(t){return null==t}function H(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function V(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function z(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function U(t,e){return z(t)?t:e}function j(t,e){return void 0===t?e:t}const W=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Y(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function G(t,e,i,n){let r,o,s;if(H(t))if(o=t.length,n)for(r=o-1;r>=0;r--)e.call(i,t[r],r);else for(r=0;r<o;r++)e.call(i,t[r],r);else if(V(t))for(s=Object.keys(t),o=s.length,r=0;r<o;r++)e.call(i,t[s[r]],s[r])}function X(t,e){let i,n,r,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(r=t[i],o=e[i],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Z(t){if(H(t))return t.map(Z);if(V(t)){const e=Object.create(null),i=Object.keys(t),n=i.length;let r=0;for(;r<n;++r)e[i[r]]=Z(t[i[r]]);return e}return t}function q(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function Q(t,e,i,n){if(!q(t))return;const r=e[t],o=i[t];V(r)&&V(o)?K(r,o,n):e[t]=Z(o)}function K(t,e,i){const n=H(e)?e:[e],r=n.length;if(!V(t))return t;const o=(i=i||{}).merger||Q;let s;for(let e=0;e<r;++e){if(s=n[e],!V(s))continue;const r=Object.keys(s);for(let e=0,n=r.length;e<n;++e)o(r[e],t,s,i)}return t}function $(t,e){return K(t,e,{merger:J})}function J(t,e,i){if(!q(t))return;const n=e[t],r=i[t];V(n)&&V(r)?$(n,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Z(r))}const tt={"":t=>t,x:t=>t.x,y:t=>t.y};function et(t,e){const i=tt[e]||(tt[e]=function(t){const e=function(t){const e=t.split("."),i=[];let n="";for(const t of e)n+=t,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}(t);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}(e));return i(t)}function it(t){return t.charAt(0).toUpperCase()+t.slice(1)}const nt=t=>void 0!==t,rt=t=>"function"==typeof t,ot=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0};const st=Math.PI,at=2*st,ct=at+st,lt=Number.POSITIVE_INFINITY,ht=st/180,dt=st/2,ut=st/4,ft=2*st/3,gt=Math.log10,pt=Math.sign;function mt(t,e,i){return Math.abs(t-e)<i}function yt(t){const e=Math.round(t);t=mt(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(gt(t))),n=t/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function wt(t){return!function(t){return"symbol"==typeof t||"object"==typeof t&&null!==t&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function _t(t,e,i){let n,r,o;for(n=0,r=t.length;n<r;n++)o=t[n][i],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function bt(t){return t*(st/180)}function vt(t){return t*(180/st)}function Et(t){if(!z(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function At(t,e){const i=e.x-t.x,n=e.y-t.y,r=Math.sqrt(i*i+n*n);let o=Math.atan2(n,i);return o<-.5*st&&(o+=at),{angle:o,distance:r}}function Ct(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function St(t,e){return(t-e+ct)%at-st}function It(t){return(t%at+at)%at}function xt(t,e,i,n){const r=It(t),o=It(e),s=It(i),a=It(o-r),c=It(s-r),l=It(r-o),h=It(r-s);return r===o||r===s||n&&o===s||a>c&&l<h}function Tt(t,e,i){return Math.max(e,Math.min(i,t))}function Mt(t,e,i,n=1e-6){return t>=Math.min(e,i)-n&&t<=Math.max(e,i)+n}function Dt(t,e,i){i=i||(i=>t[i]<e);let n,r=t.length-1,o=0;for(;r-o>1;)n=o+r>>1,i(n)?o=n:r=n;return{lo:o,hi:r}}const Ot=(t,e,i,n)=>Dt(t,i,n?n=>{const r=t[n][e];return r<i||r===i&&t[n+1][e]===i}:n=>t[n][e]<i),Rt=(t,e,i)=>Dt(t,i,(n=>t[n][e]>=i));const Nt=["push","pop","shift","splice","unshift"];function kt(t,e){const i=t._chartjs;if(!i)return;const n=i.listeners,r=n.indexOf(e);-1!==r&&n.splice(r,1),n.length>0||(Nt.forEach((e=>{delete t[e]})),delete t._chartjs)}function Lt(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Pt="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function Bt(t,e){let i=[],n=!1;return function(...r){i=r,n||(n=!0,Pt.call(window,(()=>{n=!1,t.apply(e,i)})))}}const Ft=t=>"start"===t?"left":"end"===t?"right":"center",Ht=(t,e,i)=>"start"===t?e:"end"===t?i:(e+i)/2;function Vt(t,e,i){const n=e.length;let r=0,o=n;if(t._sorted){const{iScale:s,vScale:a,_parsed:c}=t,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=s.axis,{min:d,max:u,minDefined:f,maxDefined:g}=s.getUserBounds();if(f){if(r=Math.min(Ot(c,h,d).lo,i?n:Ot(e,h,s.getPixelForValue(d)).lo),l){const t=c.slice(0,r+1).reverse().findIndex((t=>!F(t[a.axis])));r-=Math.max(0,t)}r=Tt(r,0,n-1)}if(g){let t=Math.max(Ot(c,s.axis,u,!0).hi+1,i?0:Ot(e,h,s.getPixelForValue(u),!0).hi+1);if(l){const e=c.slice(t-1).findIndex((t=>!F(t[a.axis])));t+=Math.max(0,e)}o=Tt(t,r,n)-r}else o=n-r}return{start:r,count:o}}function zt(t){const{xScale:e,yScale:i,_scaleRanges:n}=t,r={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!n)return t._scaleRanges=r,!0;const o=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,r),o}const Ut=t=>0===t||1===t,jt=(t,e,i)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*at/i),Wt=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*at/i)+1,Yt={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*dt),easeOutSine:t=>Math.sin(t*dt),easeInOutSine:t=>-.5*(Math.cos(st*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>Ut(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ut(t)?t:jt(t,.075,.3),easeOutElastic:t=>Ut(t)?t:Wt(t,.075,.3),easeInOutElastic(t){const e=.1125;return Ut(t)?t:t<.5?.5*jt(2*t,e,.45):.5+.5*Wt(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Yt.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:t=>t<.5?.5*Yt.easeInBounce(2*t):.5*Yt.easeOutBounce(2*t-1)+.5};function Gt(t){if(t&&"object"==typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Xt(t){return Gt(t)?t:new L(t)}function Zt(t){return Gt(t)?t:new L(t).saturate(.5).darken(.1).hexString()}const qt=["x","y","borderWidth","radius","tension"],Qt=["color","borderColor","backgroundColor"];const Kt=new Map;function $t(t,e,i){return function(t,e){e=e||{};const i=t+JSON.stringify(e);let n=Kt.get(i);return n||(n=new Intl.NumberFormat(t,e),Kt.set(i,n)),n}(e,i).format(t)}const Jt={values:t=>H(t)?t:""+t,numeric(t,e,i){if(0===t)return"0";const n=this.chart.options.locale;let r,o=t;if(i.length>1){const e=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),o=function(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t));return i}(t,i)}const s=gt(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),$t(t,n,c)},logarithmic(t,e,i){if(0===t)return"0";const n=i[e].significand||t/Math.pow(10,Math.floor(gt(t)));return[1,2,3,5,10,15].includes(n)||e>.8*i.length?Jt.numeric.call(this,t,e,i):""}};var te={formatters:Jt};const ee=Object.create(null),ie=Object.create(null);function ne(t,e){if(!e)return t;const i=e.split(".");for(let e=0,n=i.length;e<n;++e){const n=i[e];t=t[n]||(t[n]=Object.create(null))}return t}function re(t,e,i){return"string"==typeof e?K(ne(t,e),i):K(ne(t,""),e)}class oe{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>Zt(e.backgroundColor),this.hoverBorderColor=(t,e)=>Zt(e.borderColor),this.hoverColor=(t,e)=>Zt(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return re(this,t,e)}get(t){return ne(this,t)}describe(t,e){return re(ie,t,e)}override(t,e){return re(ee,t,e)}route(t,e,i,n){const r=ne(this,t),o=ne(this,i),s="_"+e;Object.defineProperties(r,{[s]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[s],e=o[n];return V(t)?Object.assign({},e,t):j(t,e)},set(t){this[s]=t}}})}apply(t){t.forEach((t=>t(this)))}}var se=new oe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:Qt},numbers:{type:"number",properties:qt}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:te.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function ae(t,e,i,n,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,i.push(r)),o>n&&(n=o),n}function ce(t,e,i,n){let r=(n=n||{}).data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(r=n.data={},o=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let s=0;const a=i.length;let c,l,h,d,u;for(c=0;c<a;c++)if(d=i[c],null==d||H(d)){if(H(d))for(l=0,h=d.length;l<h;l++)u=d[l],null==u||H(u)||(s=ae(t,r,o,s,u))}else s=ae(t,r,o,s,d);t.restore();const f=o.length/2;if(f>i.length){for(c=0;c<f;c++)delete r[o[c]];o.splice(0,f)}return s}function le(t,e,i){const n=t.currentDevicePixelRatio,r=0!==i?Math.max(i/2,.5):0;return Math.round((e-r)*n)/n+r}function he(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function de(t,e,i,n){ue(t,e,i,n,null)}function ue(t,e,i,n,r){let o,s,a,c,l,h,d,u;const f=e.pointStyle,g=e.rotation,p=e.radius;let m=(g||0)*ht;if(f&&"object"==typeof f&&(o=f.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(i,n),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(p)||p<=0)){switch(t.beginPath(),f){default:r?t.ellipse(i,n,r/2,p,0,0,at):t.arc(i,n,p,0,at),t.closePath();break;case"triangle":h=r?r/2:p,t.moveTo(i+Math.sin(m)*h,n-Math.cos(m)*p),m+=ft,t.lineTo(i+Math.sin(m)*h,n-Math.cos(m)*p),m+=ft,t.lineTo(i+Math.sin(m)*h,n-Math.cos(m)*p),t.closePath();break;case"rectRounded":l=.516*p,c=p-l,s=Math.cos(m+ut)*c,d=Math.cos(m+ut)*(r?r/2-l:c),a=Math.sin(m+ut)*c,u=Math.sin(m+ut)*(r?r/2-l:c),t.arc(i-d,n-a,l,m-st,m-dt),t.arc(i+u,n-s,l,m-dt,m),t.arc(i+d,n+a,l,m,m+dt),t.arc(i-u,n+s,l,m+dt,m+st),t.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*p,h=r?r/2:c,t.rect(i-h,n-c,2*h,2*c);break}m+=ut;case"rectRot":d=Math.cos(m)*(r?r/2:p),s=Math.cos(m)*p,a=Math.sin(m)*p,u=Math.sin(m)*(r?r/2:p),t.moveTo(i-d,n-a),t.lineTo(i+u,n-s),t.lineTo(i+d,n+a),t.lineTo(i-u,n+s),t.closePath();break;case"crossRot":m+=ut;case"cross":d=Math.cos(m)*(r?r/2:p),s=Math.cos(m)*p,a=Math.sin(m)*p,u=Math.sin(m)*(r?r/2:p),t.moveTo(i-d,n-a),t.lineTo(i+d,n+a),t.moveTo(i+u,n-s),t.lineTo(i-u,n+s);break;case"star":d=Math.cos(m)*(r?r/2:p),s=Math.cos(m)*p,a=Math.sin(m)*p,u=Math.sin(m)*(r?r/2:p),t.moveTo(i-d,n-a),t.lineTo(i+d,n+a),t.moveTo(i+u,n-s),t.lineTo(i-u,n+s),m+=ut,d=Math.cos(m)*(r?r/2:p),s=Math.cos(m)*p,a=Math.sin(m)*p,u=Math.sin(m)*(r?r/2:p),t.moveTo(i-d,n-a),t.lineTo(i+d,n+a),t.moveTo(i+u,n-s),t.lineTo(i-u,n+s);break;case"line":s=r?r/2:Math.cos(m)*p,a=Math.sin(m)*p,t.moveTo(i-s,n-a),t.lineTo(i+s,n+a);break;case"dash":t.moveTo(i,n),t.lineTo(i+Math.cos(m)*(r?r/2:p),n+Math.sin(m)*p);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function fe(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function ge(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function pe(t){t.restore()}function me(t,e,i,n,r){if(!e)return t.lineTo(i.x,i.y);if("middle"===r){const n=(e.x+i.x)/2;t.lineTo(n,e.y),t.lineTo(n,i.y)}else"after"===r!=!!n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function ye(t,e,i,n){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function we(t,e,i,n,r){if(r.strikethrough||r.underline){const o=t.measureText(n),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,c=i-o.actualBoundingBoxAscent,l=i+o.actualBoundingBoxDescent,h=r.strikethrough?(c+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,h),t.lineTo(a,h),t.stroke()}}function _e(t,e){const i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function be(t,e,i,n,r,o={}){const s=H(e)?e:[e],a=o.strokeWidth>0&&""!==o.strokeColor;let c,l;for(t.save(),t.font=r.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),F(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,o),c=0;c<s.length;++c)l=s[c],o.backdrop&&_e(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),F(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(l,i,n,o.maxWidth)),t.fillText(l,i,n,o.maxWidth),we(t,i,n,l,o),n+=Number(r.lineHeight);t.restore()}function ve(t,e){const{x:i,y:n,w:r,h:o,radius:s}=e;t.arc(i+s.topLeft,n+s.topLeft,s.topLeft,1.5*st,st,!0),t.lineTo(i,n+o-s.bottomLeft),t.arc(i+s.bottomLeft,n+o-s.bottomLeft,s.bottomLeft,st,dt,!0),t.lineTo(i+r-s.bottomRight,n+o),t.arc(i+r-s.bottomRight,n+o-s.bottomRight,s.bottomRight,dt,0,!0),t.lineTo(i+r,n+s.topRight),t.arc(i+r-s.topRight,n+s.topRight,s.topRight,0,-dt,!0),t.lineTo(i+s.topLeft,n)}const Ee=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ae=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ce(t,e){const i=(""+t).match(Ee);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t}function Se(t,e){const i={},n=V(e),r=n?Object.keys(e):e,o=V(t)?n?i=>j(t[i],t[e[i]]):e=>t[e]:()=>t;for(const t of r)i[t]=+o(t)||0;return i}function Ie(t){return Se(t,{top:"y",right:"x",bottom:"y",left:"x"})}function xe(t){return Se(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Te(t){const e=Ie(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Me(t,e){t=t||{},e=e||se.font;let i=j(t.size,e.size);"string"==typeof i&&(i=parseInt(i,10));let n=j(t.style,e.style);n&&!(""+n).match(Ae)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:j(t.family,e.family),lineHeight:Ce(j(t.lineHeight,e.lineHeight),i),size:i,style:n,weight:j(t.weight,e.weight),string:""};return r.string=function(t){return!t||F(t.size)||F(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function De(t,e,i,n){let r,o,s,a=!0;for(r=0,o=t.length;r<o;++r)if(s=t[r],void 0!==s&&(void 0!==e&&"function"==typeof s&&(s=s(e),a=!1),void 0!==i&&H(s)&&(s=s[i%s.length],a=!1),void 0!==s))return n&&!a&&(n.cacheable=!1),s}function Oe(t,e){return Object.assign(Object.create(t),e)}function Re(t,e=[""],i,n,r=()=>t[0]){const o=i||t;void 0===n&&(n=je("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:n,_getTarget:r,override:i=>Re([i,...t],e,o,n)};return new Proxy(s,{deleteProperty:(e,i)=>(delete e[i],delete e._keys,delete t[0][i],!0),get:(i,n)=>Be(i,n,(()=>function(t,e,i,n){let r;for(const o of e)if(r=je(Le(o,t),i),void 0!==r)return Pe(t,r)?ze(i,n,t,r):r}(n,e,t,i))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>We(t).includes(e),ownKeys:t=>We(t),set(t,e,i){const n=t._storage||(t._storage=r());return t[e]=n[e]=i,delete t._keys,!0}})}function Ne(t,e,i,n){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:ke(t,n),setContext:e=>Ne(t,e,i,n),override:r=>Ne(t.override(r),e,i,n)};return new Proxy(r,{deleteProperty:(e,i)=>(delete e[i],delete t[i],!0),get:(t,e,i)=>Be(t,e,(()=>function(t,e,i){const{_proxy:n,_context:r,_subProxy:o,_descriptors:s}=t;let a=n[e];rt(a)&&s.isScriptable(e)&&(a=function(t,e,i,n){const{_proxy:r,_context:o,_subProxy:s,_stack:a}=i;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(o,s||n);a.delete(t),Pe(t,c)&&(c=ze(r._scopes,r,t,c));return c}(e,a,t,i));H(a)&&a.length&&(a=function(t,e,i,n){const{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=i;if(void 0!==o.index&&n(t))return e[o.index%e.length];if(V(e[0])){const i=e,n=r._scopes.filter((t=>t!==i));e=[];for(const c of i){const i=ze(n,r,t,c);e.push(Ne(i,o,s&&s[t],a))}}return e}(e,a,t,s.isIndexable));Pe(e,a)&&(a=Ne(a,r,o&&o[e],s));return a}(t,e,i))),getOwnPropertyDescriptor:(e,i)=>e._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,i)=>Reflect.has(t,i),ownKeys:()=>Reflect.ownKeys(t),set:(e,i,n)=>(t[i]=n,delete e[i],!0)})}function ke(t,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:i,indexable:n,isScriptable:rt(i)?i:()=>i,isIndexable:rt(n)?n:()=>n}}const Le=(t,e)=>t?t+it(e):e,Pe=(t,e)=>V(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Be(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const n=i();return t[e]=n,n}function Fe(t,e,i){return rt(t)?t(e,i):t}const He=(t,e)=>!0===t?e:"string"==typeof t?et(e,t):void 0;function Ve(t,e,i,n,r){for(const o of e){const e=He(i,o);if(e){t.add(e);const o=Fe(e._fallback,i,r);if(void 0!==o&&o!==i&&o!==n)return o}else if(!1===e&&void 0!==n&&i!==n)return null}return!1}function ze(t,e,i,n){const r=e._rootScopes,o=Fe(e._fallback,i,n),s=[...t,...r],a=new Set;a.add(n);let c=Ue(a,s,i,o||i,n);return null!==c&&((void 0===o||o===i||(c=Ue(a,s,o,c,n),null!==c))&&Re(Array.from(a),[""],r,o,(()=>function(t,e,i){const n=t._getTarget();e in n||(n[e]={});const r=n[e];if(H(r)&&V(i))return i;return r||{}}(e,i,n))))}function Ue(t,e,i,n,r){for(;i;)i=Ve(t,e,i,n,r);return i}function je(t,e){for(const i of e){if(!i)continue;const e=i[t];if(void 0!==e)return e}}function We(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const i of t)for(const t of Object.keys(i).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function Ye(t,e,i,n){const{iScale:r}=t,{key:o="r"}=this._parsing,s=new Array(n);let a,c,l,h;for(a=0,c=n;a<c;++a)l=a+i,h=e[l],s[a]={r:r.parse(et(h,o),l)};return s}const Ge=Number.EPSILON||1e-14,Xe=(t,e)=>e<t.length&&!t[e].skip&&t[e],Ze=t=>"x"===t?"y":"x";function qe(t,e,i,n){const r=t.skip?e:t,o=e,s=i.skip?e:i,a=Ct(o,r),c=Ct(s,o);let l=a/(a+c),h=c/(a+c);l=isNaN(l)?0:l,h=isNaN(h)?0:h;const d=n*l,u=n*h;return{previous:{x:o.x-d*(s.x-r.x),y:o.y-d*(s.y-r.y)},next:{x:o.x+u*(s.x-r.x),y:o.y+u*(s.y-r.y)}}}function Qe(t,e="x"){const i=Ze(e),n=t.length,r=Array(n).fill(0),o=Array(n);let s,a,c,l=Xe(t,0);for(s=0;s<n;++s)if(a=c,c=l,l=Xe(t,s+1),c){if(l){const t=l[e]-c[e];r[s]=0!==t?(l[i]-c[i])/t:0}o[s]=a?l?pt(r[s-1])!==pt(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}!function(t,e,i){const n=t.length;let r,o,s,a,c,l=Xe(t,0);for(let h=0;h<n-1;++h)c=l,l=Xe(t,h+1),c&&l&&(mt(e[h],0,Ge)?i[h]=i[h+1]=0:(r=i[h]/e[h],o=i[h+1]/e[h],a=Math.pow(r,2)+Math.pow(o,2),a<=9||(s=3/Math.sqrt(a),i[h]=r*s*e[h],i[h+1]=o*s*e[h])))}(t,r,o),function(t,e,i="x"){const n=Ze(i),r=t.length;let o,s,a,c=Xe(t,0);for(let l=0;l<r;++l){if(s=a,a=c,c=Xe(t,l+1),!a)continue;const r=a[i],h=a[n];s&&(o=(r-s[i])/3,a[`cp1${i}`]=r-o,a[`cp1${n}`]=h-o*e[l]),c&&(o=(c[i]-r)/3,a[`cp2${i}`]=r+o,a[`cp2${n}`]=h+o*e[l])}}(t,o,e)}function Ke(t,e,i){return Math.max(Math.min(t,i),e)}function $e(t,e,i,n,r){let o,s,a,c;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)Qe(t,r);else{let i=n?t[t.length-1]:t[0];for(o=0,s=t.length;o<s;++o)a=t[o],c=qe(i,a,t[Math.min(o+1,s-(n?0:1))%s],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,i=a}e.capBezierPoints&&function(t,e){let i,n,r,o,s,a=fe(t[0],e);for(i=0,n=t.length;i<n;++i)s=o,o=a,a=i<n-1&&fe(t[i+1],e),o&&(r=t[i],s&&(r.cp1x=Ke(r.cp1x,e.left,e.right),r.cp1y=Ke(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Ke(r.cp2x,e.left,e.right),r.cp2y=Ke(r.cp2y,e.top,e.bottom)))}(t,i)}function Je(){return"undefined"!=typeof window&&"undefined"!=typeof document}function ti(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function ei(t,e,i){let n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}const ii=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const ni=["top","right","bottom","left"];function ri(t,e,i){const n={};i=i?"-"+i:"";for(let r=0;r<4;r++){const o=ni[r];n[o]=parseFloat(t[e+"-"+o+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function oi(t,e){if("native"in t)return t;const{canvas:i,currentDevicePixelRatio:n}=e,r=ii(i),o="border-box"===r.boxSizing,s=ri(r,"padding"),a=ri(r,"border","width"),{x:c,y:l,box:h}=function(t,e){const i=t.touches,n=i&&i.length?i[0]:t,{offsetX:r,offsetY:o}=n;let s,a,c=!1;if(((t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot))(r,o,t.target))s=r,a=o;else{const t=e.getBoundingClientRect();s=n.clientX-t.left,a=n.clientY-t.top,c=!0}return{x:s,y:a,box:c}}(t,i),d=s.left+(h&&a.left),u=s.top+(h&&a.top);let{width:f,height:g}=e;return o&&(f-=s.width+a.width,g-=s.height+a.height),{x:Math.round((c-d)/f*i.width/n),y:Math.round((l-u)/g*i.height/n)}}const si=t=>Math.round(10*t)/10;function ai(t,e,i,n){const r=ii(t),o=ri(r,"margin"),s=ei(r.maxWidth,t,"clientWidth")||lt,a=ei(r.maxHeight,t,"clientHeight")||lt,c=function(t,e,i){let n,r;if(void 0===e||void 0===i){const o=t&&ti(t);if(o){const t=o.getBoundingClientRect(),s=ii(o),a=ri(s,"border","width"),c=ri(s,"padding");e=t.width-c.width-a.width,i=t.height-c.height-a.height,n=ei(s.maxWidth,o,"clientWidth"),r=ei(s.maxHeight,o,"clientHeight")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:n||lt,maxHeight:r||lt}}(t,e,i);let{width:l,height:h}=c;if("content-box"===r.boxSizing){const t=ri(r,"border","width"),e=ri(r,"padding");l-=e.width+t.width,h-=e.height+t.height}l=Math.max(0,l-o.width),h=Math.max(0,n?l/n:h-o.height),l=si(Math.min(l,s,c.maxWidth)),h=si(Math.min(h,a,c.maxHeight)),l&&!h&&(h=si(l/2));return(void 0!==e||void 0!==i)&&n&&c.height&&h>c.height&&(h=c.height,l=si(Math.floor(h*n))),{width:l,height:h}}function ci(t,e,i){const n=e||1,r=Math.floor(t.height*n),o=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const s=t.canvas;return s.style&&(i||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==n||s.height!==r||s.width!==o)&&(t.currentDevicePixelRatio=n,s.height=r,s.width=o,t.ctx.setTransform(n,0,0,n,0,0),!0)}const li=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Je()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(t){}return t}();function hi(t,e){const i=function(t,e){return ii(t).getPropertyValue(e)}(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function di(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function ui(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:"middle"===n?i<.5?t.y:e.y:"after"===n?i<1?t.y:e.y:i>0?e.y:t.y}}function fi(t,e,i,n){const r={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},s=di(t,r,i),a=di(r,o,i),c=di(o,e,i),l=di(s,a,i),h=di(a,c,i);return di(l,h,i)}function gi(t,e,i){return t?function(t,e){return{x:i=>t+t+e-i,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,i):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function pi(t,e){let i,n;"ltr"!==e&&"rtl"!==e||(i=t.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)}function mi(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function yi(t){return"angle"===t?{between:xt,compare:St,normalize:It}:{between:Mt,compare:(t,e)=>t-e,normalize:t=>t}}function wi({start:t,end:e,count:i,loop:n,style:r}){return{start:t%i,end:e%i,loop:n&&(e-t+1)%i==0,style:r}}function _i(t,e,i){if(!i)return[t];const{property:n,start:r,end:o}=i,s=e.length,{compare:a,between:c,normalize:l}=yi(n),{start:h,end:d,loop:u,style:f}=function(t,e,i){const{property:n,start:r,end:o}=i,{between:s,normalize:a}=yi(n),c=e.length;let l,h,{start:d,end:u,loop:f}=t;if(f){for(d+=c,u+=c,l=0,h=c;l<h&&s(a(e[d%c][n]),r,o);++l)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:f,style:t.style}}(t,e,i),g=[];let p,m,y,w=!1,_=null;const b=()=>w||c(r,y,p)&&0!==a(r,y),v=()=>!w||0===a(o,p)||c(o,y,p);for(let t=h,i=h;t<=d;++t)m=e[t%s],m.skip||(p=l(m[n]),p!==y&&(w=c(p,r,o),null===_&&b()&&(_=0===a(p,r)?t:i),null!==_&&v()&&(g.push(wi({start:_,end:t,loop:u,count:s,style:f})),_=null),i=t,y=p));return null!==_&&g.push(wi({start:_,end:d,loop:u,count:s,style:f})),g}function bi(t,e){const i=[],n=t.segments;for(let r=0;r<n.length;r++){const o=_i(n[r],t.points,e);o.length&&i.push(...o)}return i}function vi(t,e,i,n){return n&&n.setContext&&i?function(t,e,i,n){const r=t._chart.getContext(),o=Ei(t.options),{_datasetIndex:s,options:{spanGaps:a}}=t,c=i.length,l=[];let h=o,d=e[0].start,u=d;function f(t,e,n,r){const o=a?-1:1;if(t!==e){for(t+=c;i[t%c].skip;)t-=o;for(;i[e%c].skip;)e+=o;t%c!=e%c&&(l.push({start:t%c,end:e%c,loop:n,style:r}),h=r,d=e%c)}}for(const t of e){d=a?d:t.start;let e,o=i[d%c];for(u=d+1;u<=t.end;u++){const a=i[u%c];e=Ei(n.setContext(Oe(r,{type:"segment",p0:o,p1:a,p0DataIndex:(u-1)%c,p1DataIndex:u%c,datasetIndex:s}))),Ai(e,h)&&f(d,u-1,t.loop,h),o=a,h=e}d<u-1&&f(d,u-1,t.loop,h)}return l}(t,e,i,n):e}function Ei(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Ai(t,e){if(!e)return!1;const i=[],n=function(t,e){return Gt(e)?(i.includes(e)||i.push(e),i.indexOf(e)):e};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Ci(t,e,i){return t.options.clip?t[i]:e[i]}function Si(t,e){const i=e._clip;if(i.disabled)return!1;const n=function(t,e){const{xScale:i,yScale:n}=t;return i&&n?{left:Ci(i,e,"left"),right:Ci(i,e,"right"),top:Ci(n,e,"top"),bottom:Ci(n,e,"bottom")}:e}(e,t.chartArea);return{left:!1===i.left?0:n.left-(!0===i.left?0:i.left),right:!1===i.right?t.width:n.right+(!0===i.right?0:i.right),top:!1===i.top?0:n.top-(!0===i.top?0:i.top),bottom:!1===i.bottom?t.height:n.bottom+(!0===i.bottom?0:i.bottom)}}class Ii{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,n){const r=e.listeners[n],o=e.duration;r.forEach((n=>n({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=Pt.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((i,n)=>{if(!i.running||!i.items.length)return;const r=i.items;let o,s=r.length-1,a=!1;for(;s>=0;--s)o=r[s],o._active?(o._total>i.duration&&(i.duration=o._total),o.tick(t),a=!0):(r[s]=r[r.length-1],r.pop());a&&(n.draw(),this._notify(n,i,t,"progress")),r.length||(i.running=!1,this._notify(n,i,t,"complete"),i.initial=!1),e+=r.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var xi=new Ii;const Ti="transparent",Mi={boolean:(t,e,i)=>i>.5?e:t,color(t,e,i){const n=Xt(t||Ti),r=n.valid&&Xt(e||Ti);return r&&r.valid?r.mix(n,i).hexString():e},number:(t,e,i)=>t+(e-t)*i};class Di{constructor(t,e,i,n){const r=e[i];n=De([t.to,n,r,t.from]);const o=De([t.from,r,n]);this._active=!0,this._fn=t.fn||Mi[t.type||typeof o],this._easing=Yt[t.easing]||Yt.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const n=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=De([t.to,e,n,t.from]),this._from=De([t.from,n,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,n=this._prop,r=this._from,o=this._loop,s=this._to;let a;if(this._active=r!==s&&(o||e<i),!this._active)return this._target[n]=s,void this._notify(!0);e<0?this._target[n]=r:(a=e/i%2,a=o&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[n]=this._fn(r,s,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,i)=>{t.push({res:e,rej:i})}))}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let t=0;t<i.length;t++)i[t][e]()}}class Oi{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!V(t))return;const e=Object.keys(se.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach((n=>{const r=t[n];if(!V(r))return;const o={};for(const t of e)o[t]=r[t];(H(r.properties)&&r.properties||[n]).forEach((t=>{t!==n&&i.has(t)||i.set(t,o)}))}))}_animateOptions(t,e){const i=e.options,n=function(t,e){if(!e)return;let i=t.options;if(!i)return void(t.options=e);i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}}));return i}(t,i);if(!n)return[];const r=this._createAnimations(n,i);return i.$shared&&function(t,e){const i=[],n=Object.keys(e);for(let e=0;e<n.length;e++){const r=t[n[e]];r&&r.active()&&i.push(r.wait())}return Promise.all(i)}(t.options.$animations,i).then((()=>{t.options=i}),(()=>{})),r}_createAnimations(t,e){const i=this._properties,n=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),s=Date.now();let a;for(a=o.length-1;a>=0;--a){const c=o[a];if("$"===c.charAt(0))continue;if("options"===c){n.push(...this._animateOptions(t,e));continue}const l=e[c];let h=r[c];const d=i.get(c);if(h){if(d&&h.active()){h.update(d,l,s);continue}h.cancel()}d&&d.duration?(r[c]=h=new Di(d,t,c,l),n.push(h)):t[c]=l}return n}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(xi.add(this._chart,i),!0):void 0}}function Ri(t,e){const i=t&&t.options||{},n=i.reverse,r=void 0===i.min?e:0,o=void 0===i.max?e:0;return{start:n?o:r,end:n?r:o}}function Ni(t,e){const i=[],n=t._getSortedDatasetMetas(e);let r,o;for(r=0,o=n.length;r<o;++r)i.push(n[r].index);return i}function ki(t,e,i,n={}){const r=t.keys,o="single"===n.mode;let s,a,c,l;if(null===e)return;let h=!1;for(s=0,a=r.length;s<a;++s){if(c=+r[s],c===i){if(h=!0,n.all)continue;break}l=t.values[c],z(l)&&(o||0===e||pt(e)===pt(l))&&(e+=l)}return h||n.all?e:0}function Li(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function Pi(t,e,i){const n=t[e]||(t[e]={});return n[i]||(n[i]={})}function Bi(t,e,i,n){for(const r of e.getMatchingVisibleMetas(n).reverse()){const e=t[r.index];if(i&&e>0||!i&&e<0)return r.index}return null}function Fi(t,e){const{chart:i,_cachedMeta:n}=t,r=i._stacks||(i._stacks={}),{iScale:o,vScale:s,index:a}=n,c=o.axis,l=s.axis,h=function(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}(o,s,n),d=e.length;let u;for(let t=0;t<d;++t){const i=e[t],{[c]:o,[l]:d}=i;u=(i._stacks||(i._stacks={}))[l]=Pi(r,h,o),u[a]=d,u._top=Bi(u,s,!0,n.type),u._bottom=Bi(u,s,!1,n.type);(u._visualValues||(u._visualValues={}))[a]=d}}function Hi(t,e){const i=t.scales;return Object.keys(i).filter((t=>i[t].axis===e)).shift()}function Vi(t,e){const i=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[n]||void 0===e[n][i])return;delete e[n][i],void 0!==e[n]._visualValues&&void 0!==e[n]._visualValues[i]&&delete e[n]._visualValues[i]}}}const zi=t=>"reset"===t||"none"===t,Ui=(t,e)=>e?t:Object.assign({},t);class ji{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Li(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Vi(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),n=(t,e,i,n)=>"x"===t?e:"r"===t?n:i,r=e.xAxisID=j(i.xAxisID,Hi(t,"x")),o=e.yAxisID=j(i.yAxisID,Hi(t,"y")),s=e.rAxisID=j(i.rAxisID,Hi(t,"r")),a=e.indexAxis,c=e.iAxisID=n(a,r,o,s),l=e.vAxisID=n(a,o,r,s);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(s),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(l)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&kt(this._data,this),t._stacked&&Vi(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(V(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:i,vScale:n}=e,r="x"===i.axis?"x":"y",o="x"===n.axis?"x":"y",s=Object.keys(t),a=new Array(s.length);let c,l,h;for(c=0,l=s.length;c<l;++c)h=s[c],a[c]={[r]:h,[o]:t[h]};return a}(e,t)}else if(i!==e){if(i){kt(i,this);const t=this._cachedMeta;Vi(t),t._parsed=[]}e&&Object.isExtensible(e)&&(r=this,(n=e)._chartjs?n._chartjs.listeners.push(r):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),Nt.forEach((t=>{const e="_onData"+it(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...t){const r=i.apply(this,t);return n._chartjs.listeners.forEach((i=>{"function"==typeof i[e]&&i[e](...t)})),r}})})))),this._syncList=[],this._data=e}var n,r}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const r=e._stacked;e._stacked=Li(e.vScale,e),e.stack!==i.stack&&(n=!0,Vi(e),e.stack=i.stack),this._resyncElements(t),(n||r!==e._stacked)&&(Fi(this,e._parsed),e._stacked=Li(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:n}=this,{iScale:r,_stacked:o}=i,s=r.axis;let a,c,l,h=0===t&&e===n.length||i._sorted,d=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=n,i._sorted=!0,l=n;else{l=H(n[t])?this.parseArrayData(i,n,t,e):V(n[t])?this.parseObjectData(i,n,t,e):this.parsePrimitiveData(i,n,t,e);const r=()=>null===c[s]||d&&c[s]<d[s];for(a=0;a<e;++a)i._parsed[a+t]=c=l[a],h&&(r()&&(h=!1),d=c);i._sorted=h}o&&Fi(this,l)}parsePrimitiveData(t,e,i,n){const{iScale:r,vScale:o}=t,s=r.axis,a=o.axis,c=r.getLabels(),l=r===o,h=new Array(n);let d,u,f;for(d=0,u=n;d<u;++d)f=d+i,h[d]={[s]:l||r.parse(c[f],f),[a]:o.parse(e[f],f)};return h}parseArrayData(t,e,i,n){const{xScale:r,yScale:o}=t,s=new Array(n);let a,c,l,h;for(a=0,c=n;a<c;++a)l=a+i,h=e[l],s[a]={x:r.parse(h[0],l),y:o.parse(h[1],l)};return s}parseObjectData(t,e,i,n){const{xScale:r,yScale:o}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,c=new Array(n);let l,h,d,u;for(l=0,h=n;l<h;++l)d=l+i,u=e[d],c[l]={x:r.parse(et(u,s),d),y:o.parse(et(u,a),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const n=this.chart,r=this._cachedMeta,o=e[t.axis];return ki({keys:Ni(n,!0),values:e._stacks[t.axis]._visualValues},o,r.index,{mode:i})}updateRangeFromParsed(t,e,i,n){const r=i[e.axis];let o=null===r?NaN:r;const s=n&&i._stacks[e.axis];n&&s&&(n.values=s,o=ki(n,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,n=i._parsed,r=i._sorted&&t===i.iScale,o=n.length,s=this._getOtherScale(t),a=((t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:Ni(i,!0),values:null})(e,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:l,max:h}=function(t){const{min:e,max:i,minDefined:n,maxDefined:r}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:r?i:Number.POSITIVE_INFINITY}}(s);let d,u;function f(){u=n[d];const e=u[s.axis];return!z(u[t.axis])||l>e||h<e}for(d=0;d<o&&(f()||(this.updateRangeFromParsed(c,t,u,a),!r));++d);if(r)for(d=o-1;d>=0;--d)if(!f()){this.updateRangeFromParsed(c,t,u,a);break}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let n,r,o;for(n=0,r=e.length;n<r;++n)o=e[n][t.axis],z(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,n=e.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,i,n,r;return V(t)?(e=t.top,i=t.right,n=t.bottom,r=t.left):e=i=n=r=t,{top:e,right:i,bottom:n,left:r,disabled:!1===t}}(j(this.options.clip,function(t,e,i){if(!1===i)return!1;const n=Ri(t,i),r=Ri(e,i);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,n=i.data||[],r=e.chartArea,o=[],s=this._drawStart||0,a=this._drawCount||n.length-s,c=this.options.drawActiveElementsOnTop;let l;for(i.dataset&&i.dataset.draw(t,r,s,a),l=s;l<s+a;++l){const e=n[l];e.hidden||(e.active&&c?o.push(e):e.draw(t,r))}for(l=0;l<o.length;++l)o[l].draw(t,r)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const n=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=function(t,e,i){return Oe(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=n.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=function(t,e){return Oe(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=n,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const n="active"===e,r=this._cachedDataOpts,o=t+"-"+e,s=r[o],a=this.enableOptionSharing&&nt(i);if(s)return Ui(s,a);const c=this.chart.config,l=c.datasetElementScopeKeys(this._type,t),h=n?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),l),u=Object.keys(se.elements[t]),f=c.resolveNamedOptions(d,u,(()=>this.getContext(i,n,e)),h);return f.$shared&&(f.$shared=a,r[o]=Object.freeze(Ui(f,a))),f}_resolveAnimations(t,e,i){const n=this.chart,r=this._cachedDataOpts,o=`animation-${e}`,s=r[o];if(s)return s;let a;if(!1!==n.options.animation){const n=this.chart.config,r=n.datasetAnimationScopeKeys(this._type,e),o=n.getOptionScopes(this.getDataset(),r);a=n.createResolver(o,this.getContext(t,i,e))}const c=new Oi(n,a&&a.animations);return a&&a._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||zi(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),n=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(e,r)||r!==n;return this.updateSharedOptions(r,e,i),{sharedOptions:r,includeOptions:o}}updateElement(t,e,i,n){zi(n)?Object.assign(t,i):this._resolveAnimations(e,n).update(t,i)}updateSharedOptions(t,e,i){t&&!zi(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,n){t.active=n;const r=this.getStyle(e,n);this._resolveAnimations(e,i,n).update(t,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[t,e,i]of this._syncList)this[t](e,i);this._syncList=[];const n=i.length,r=e.length,o=Math.min(r,n);o&&this.parse(0,o),r>n?this._insertElements(n,r-n,t):r<n&&this._removeElements(r,n-r)}_insertElements(t,e,i=!0){const n=this._cachedMeta,r=n.data,o=t+e;let s;const a=t=>{for(t.length+=e,s=t.length-1;s>=o;s--)t[s]=t[s-e]};for(a(r),s=t;s<o;++s)r[s]=new this.dataElementType;this._parsing&&a(n._parsed),this.parse(t,e),i&&this.updateElements(r,t,e,"reset")}updateElements(t,e,i,n){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(t,e);i._stacked&&Vi(i,n)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,n]=t;this[e](i,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Wi(t){const e=t.iScale,i=function(t,e){if(!t._cache.$bar){const i=t.getMatchingVisibleMetas(e);let n=[];for(let e=0,r=i.length;e<r;e++)n=n.concat(i[e].controller.getAllParsedValues(t));t._cache.$bar=Lt(n.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let n,r,o,s,a=e._length;const c=()=>{32767!==o&&-32768!==o&&(nt(s)&&(a=Math.min(a,Math.abs(o-s)||a)),s=o)};for(n=0,r=i.length;n<r;++n)o=e.getPixelForValue(i[n]),c();for(s=void 0,n=0,r=e.ticks.length;n<r;++n)o=e.getPixelForTick(n),c();return a}function Yi(t,e,i,n){return H(t)?function(t,e,i,n){const r=i.parse(t[0],n),o=i.parse(t[1],n),s=Math.min(r,o),a=Math.max(r,o);let c=s,l=a;Math.abs(s)>Math.abs(a)&&(c=a,l=s),e[i.axis]=l,e._custom={barStart:c,barEnd:l,start:r,end:o,min:s,max:a}}(t,e,i,n):e[i.axis]=i.parse(t,n),e}function Gi(t,e,i,n){const r=t.iScale,o=t.vScale,s=r.getLabels(),a=r===o,c=[];let l,h,d,u;for(l=i,h=i+n;l<h;++l)u=e[l],d={},d[r.axis]=a||r.parse(s[l],l),c.push(Yi(u,d,o,l));return c}function Xi(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Zi(t,e,i,n){let r=e.borderSkipped;const o={};if(!r)return void(t.borderSkipped=o);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:c,top:l,bottom:h}=function(t){let e,i,n,r,o;return t.horizontal?(e=t.base>t.x,i="left",n="right"):(e=t.base<t.y,i="bottom",n="top"),e?(r="end",o="start"):(r="start",o="end"),{start:i,end:n,reverse:e,top:r,bottom:o}}(t);"middle"===r&&i&&(t.enableBorderRadius=!0,(i._top||0)===n?r=l:(i._bottom||0)===n?r=h:(o[qi(h,s,a,c)]=!0,r=l)),o[qi(r,s,a,c)]=!0,t.borderSkipped=o}function qi(t,e,i,n){var r,o,s;return n?(s=i,t=Qi(t=(r=t)===(o=e)?s:r===s?o:r,i,e)):t=Qi(t,e,i),t}function Qi(t,e,i){return"start"===t?e:"end"===t?i:t}function Ki(t,{inflateAmount:e},i){t.inflateAmount="auto"===e?1===i?.33:0:e}class $i extends ji{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:n}}=t.legend.options;return e.labels.map(((e,r)=>{const o=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:n,lineWidth:o.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=i;else{let r,o,s=t=>+i[t];if(V(i[t])){const{key:t="value"}=this._parsing;s=e=>+et(i[e],t)}for(r=t,o=t+e;r<o;++r)n._parsed[r]=s(r)}}_getRotation(){return bt(this.options.rotation-90)}_getCircumference(){return bt(this.options.circumference)}_getRotationExtents(){let t=at,e=-at;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,r=n._getRotation(),o=n._getCircumference();t=Math.min(t,r),e=Math.max(e,r+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,n=this._cachedMeta,r=n.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,s=Math.max((Math.min(i.width,i.height)-o)/2,0),a=Math.min((c=this.options.cutout,l=s,"string"==typeof c&&c.endsWith("%")?parseFloat(c)/100:+c/l),1);var c,l;const h=this._getRingWeight(this.index),{circumference:d,rotation:u}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:p,offsetY:m}=function(t,e,i){let n=1,r=1,o=0,s=0;if(e<at){const a=t,c=a+e,l=Math.cos(a),h=Math.sin(a),d=Math.cos(c),u=Math.sin(c),f=(t,e,n)=>xt(t,a,c,!0)?1:Math.max(e,e*i,n,n*i),g=(t,e,n)=>xt(t,a,c,!0)?-1:Math.min(e,e*i,n,n*i),p=f(0,l,d),m=f(dt,h,u),y=g(st,l,d),w=g(st+dt,h,u);n=(p-y)/2,r=(m-w)/2,o=-(p+y)/2,s=-(m+w)/2}return{ratioX:n,ratioY:r,offsetX:o,offsetY:s}}(u,d,a),y=(i.width-o)/f,w=(i.height-o)/g,_=Math.max(Math.min(y,w)/2,0),b=W(this.options.radius,_),v=(b-Math.max(b*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*b,this.offsetY=m*b,n.total=this.calculateTotal(),this.outerRadius=b-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*h,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const i=this.options,n=this._cachedMeta,r=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===n._parsed[t]||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*r/at)}updateElements(t,e,i,n){const r="reset"===n,o=this.chart,s=o.chartArea,a=o.options.animation,c=(s.left+s.right)/2,l=(s.top+s.bottom)/2,h=r&&a.animateScale,d=h?0:this.innerRadius,u=h?0:this.outerRadius,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(e,n);let p,m=this._getRotation();for(p=0;p<e;++p)m+=this._circumference(p,r);for(p=e;p<e+i;++p){const e=this._circumference(p,r),i=t[p],o={x:c+this.offsetX,y:l+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:u,innerRadius:d};g&&(o.options=f||this.resolveDataElementOptions(p,i.active?"active":n)),m+=e,this.updateElement(i,p,o,n)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,n=0;for(i=0;i<e.length;i++){const r=t._parsed[i];null===r||isNaN(r)||!this.chart.getDataVisibility(i)||e[i].hidden||(n+=Math.abs(r))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?at*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=$t(e._parsed[t],i.options.locale);return{label:n[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const i=this.chart;let n,r,o,s,a;if(!t)for(n=0,r=i.data.datasets.length;n<r;++n)if(i.isDatasetVisible(n)){o=i.getDatasetMeta(n),t=o.data,s=o.controller;break}if(!t)return 0;for(n=0,r=t.length;n<r;++n)a=s.resolveDataElementOptions(n),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,n=t.length;i<n;++i){const t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(j(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Ji extends ji{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:n}}=t.legend.options;return e.labels.map(((e,r)=>{const o=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:n,lineWidth:o.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=$t(e._parsed[t].r,i.options.locale);return{label:n[t]||"",value:r}}parseObjectData(t,e,i,n){return Ye.bind(this)(t,e,i,n)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,i)=>{const n=this.getParsed(i).r;!isNaN(n)&&this.chart.getDataVisibility(i)&&(n<e.min&&(e.min=n),n>e.max&&(e.max=n))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,n=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(n/2,0),o=(r-Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=r-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,i,n){const r="reset"===n,o=this.chart,s=o.options.animation,a=this._cachedMeta.rScale,c=a.xCenter,l=a.yCenter,h=a.getIndexAngle(0)-.5*st;let d,u=h;const f=360/this.countVisibleElements();for(d=0;d<e;++d)u+=this._computeAngle(d,n,f);for(d=e;d<e+i;d++){const e=t[d];let i=u,g=u+this._computeAngle(d,n,f),p=o.getDataVisibility(d)?a.getDistanceFromCenterForValue(this.getParsed(d).r):0;u=g,r&&(s.animateScale&&(p=0),s.animateRotate&&(i=g=h));const m={x:c,y:l,innerRadius:0,outerRadius:p,startAngle:i,endAngle:g,options:this.resolveDataElementOptions(d,e.active?"active":n)};this.updateElement(e,d,m,n)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++})),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?bt(this.resolveDataElementOptions(t,e).angle||i):0}}var tn=Object.freeze({__proto__:null,BarController:class extends ji{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,n){return Gi(t,e,i,n)}parseArrayData(t,e,i,n){return Gi(t,e,i,n)}parseObjectData(t,e,i,n){const{iScale:r,vScale:o}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,c="x"===r.axis?s:a,l="x"===o.axis?s:a,h=[];let d,u,f,g;for(d=i,u=i+n;d<u;++d)g=e[d],f={},f[r.axis]=r.parse(et(g,c),d),h.push(Yi(et(g,l),f,o,d));return h}updateRangeFromParsed(t,e,i,n){super.updateRangeFromParsed(t,e,i,n);const r=i._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:n}=e,r=this.getParsed(t),o=r._custom,s=Xi(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(r[n.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,n){const r="reset"===n,{index:o,_cachedMeta:{vScale:s}}=this,a=s.getBasePixel(),c=s.isHorizontal(),l=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(e,n);for(let u=e;u<e+i;u++){const e=this.getParsed(u),i=r||F(e[s.axis])?{base:a,head:a}:this._calculateBarValuePixels(u),f=this._calculateBarIndexPixels(u,l),g=(e._stacks||{})[s.axis],p={horizontal:c,base:i.base,enableBorderRadius:!g||Xi(e._custom)||o===g._top||o===g._bottom,x:c?i.head:f.center,y:c?f.center:i.head,height:c?f.size:Math.abs(i.size),width:c?Math.abs(i.size):f.size};d&&(p.options=h||this.resolveDataElementOptions(u,t[u].active?"active":n));const m=p.options||t[u].options;Zi(p,m,g,o),Ki(p,m,l.ratio),this.updateElement(t[u],u,p,n)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),r=i.options.stacked,o=[],s=this._cachedMeta.controller.getParsed(e),a=s&&s[i.axis],c=t=>{const e=t._parsed.find((t=>t[i.axis]===a)),n=e&&e[t.vScale.axis];if(F(n)||isNaN(n))return!0};for(const i of n)if((void 0===e||!c(i))&&((!1===r||-1===o.indexOf(i.stack)||void 0===r&&void 0===i.stack)&&o.push(i.stack),i.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter((i=>t[i].axis===e)).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[j("x"===this.chart.options.indexAxis?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const n=this._getStacks(t,i),r=void 0!==e?n.indexOf(e):-1;return-1===r?n.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,n=[];let r,o;for(r=0,o=e.data.length;r<o;++r)n.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const s=t.barThickness;return{min:s||Wi(e),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:s?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:n},options:{base:r,minBarLength:o}}=this,s=r||0,a=this.getParsed(t),c=a._custom,l=Xi(c);let h,d,u=a[e.axis],f=0,g=i?this.applyStack(e,a,i):u;g!==u&&(f=g-u,g=u),l&&(u=c.barStart,g=c.barEnd-c.barStart,0!==u&&pt(u)!==pt(c.barEnd)&&(f=0),f+=u);const p=F(r)||l?f:r;let m=e.getPixelForValue(p);if(h=this.chart.getDataVisibility(t)?e.getPixelForValue(f+g):m,d=h-m,Math.abs(d)<o){d=function(t,e,i){return 0!==t?pt(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}(d,e,s)*o,u===s&&(m-=d/2);const t=e.getPixelForDecimal(0),r=e.getPixelForDecimal(1),c=Math.min(t,r),f=Math.max(t,r);m=Math.max(Math.min(m,f),c),h=m+d,i&&!l&&(a._stacks[e.axis]._visualValues[n]=e.getValueForPixel(h)-e.getValueForPixel(m))}if(m===e.getPixelForValue(s)){const t=pt(d)*e.getLineWidthForValue(s)/2;m+=t,d-=t}return{size:d,base:m,head:h,center:h+d/2}}_calculateBarIndexPixels(t,e){const i=e.scale,n=this.options,r=n.skipNull,o=j(n.maxBarThickness,1/0);let s,a;const c=this._getAxisCount();if(e.grouped){const i=r?this._getStackCount(t):e.stackCount,l="flex"===n.barThickness?function(t,e,i,n){const r=e.pixels,o=r[t];let s=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const c=i.categoryPercentage;null===s&&(s=o-(null===a?e.end-e.start:a-o)),null===a&&(a=o+o-s);const l=o-(o-Math.min(s,a))/2*c;return{chunk:Math.abs(a-s)/2*c/n,ratio:i.barPercentage,start:l}}(t,e,n,i*c):function(t,e,i,n){const r=i.barThickness;let o,s;return F(r)?(o=e.min*i.categoryPercentage,s=i.barPercentage):(o=r*n,s=1),{chunk:o/n,ratio:s,start:e.pixels[t]-o/2}}(t,e,n,i*c),h="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,d=this._getAxis().indexOf(j(h,this.getFirstScaleIdForIndexAxis())),u=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+d;s=l.start+l.chunk*u+l.chunk/2,a=Math.min(o,l.chunk*l.ratio)}else s=i.getPixelForValue(this.getParsed(t)[i.axis],t),a=Math.min(o,e.min*e.ratio);return{base:s-a/2,head:s+a/2,center:s,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,n=i.length;let r=0;for(;r<n;++r)null===this.getParsed(r)[e.axis]||i[r].hidden||i[r].draw(this._ctx)}},BubbleController:class extends ji{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,n){const r=super.parsePrimitiveData(t,e,i,n);for(let t=0;t<r.length;t++)r[t]._custom=this.resolveDataElementOptions(t+i).radius;return r}parseArrayData(t,e,i,n){const r=super.parseArrayData(t,e,i,n);for(let t=0;t<r.length;t++){const n=e[i+t];r[t]._custom=j(n[2],this.resolveDataElementOptions(t+i).radius)}return r}parseObjectData(t,e,i,n){const r=super.parseObjectData(t,e,i,n);for(let t=0;t<r.length;t++){const n=e[i+t];r[t]._custom=j(n&&n.r&&+n.r,this.resolveDataElementOptions(t+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=e,o=this.getParsed(t),s=n.getLabelForValue(o.x),a=r.getLabelForValue(o.y),c=o._custom;return{label:i[t]||"",value:"("+s+", "+a+(c?", "+c:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,n){const r="reset"===n,{iScale:o,vScale:s}=this._cachedMeta,{sharedOptions:a,includeOptions:c}=this._getSharedOptions(e,n),l=o.axis,h=s.axis;for(let d=e;d<e+i;d++){const e=t[d],i=!r&&this.getParsed(d),u={},f=u[l]=r?o.getPixelForDecimal(.5):o.getPixelForValue(i[l]),g=u[h]=r?s.getBasePixel():s.getPixelForValue(i[h]);u.skip=isNaN(f)||isNaN(g),c&&(u.options=a||this.resolveDataElementOptions(d,e.active?"active":n),r&&(u.options.radius=0)),this.updateElement(e,d,u,n)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let n=super.resolveDataElementOptions(t,e);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const r=n.radius;return"active"!==e&&(n.radius=0),n.radius+=j(i&&i._custom,r),n}},DoughnutController:$i,LineController:class extends ji{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:n=[],_dataset:r}=e,o=this.chart._animationsDisabled;let{start:s,count:a}=Vt(e,n,o);this._drawStart=s,this._drawCount=a,zt(e)&&(s=0,a=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=n;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(n,s,a,t)}updateElements(t,e,i,n){const r="reset"===n,{iScale:o,vScale:s,_stacked:a,_dataset:c}=this._cachedMeta,{sharedOptions:l,includeOptions:h}=this._getSharedOptions(e,n),d=o.axis,u=s.axis,{spanGaps:f,segment:g}=this.options,p=wt(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||"none"===n,y=e+i,w=t.length;let _=e>0&&this.getParsed(e-1);for(let i=0;i<w;++i){const f=t[i],w=m?f:{};if(i<e||i>=y){w.skip=!0;continue}const b=this.getParsed(i),v=F(b[u]),E=w[d]=o.getPixelForValue(b[d],i),A=w[u]=r||v?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,b,a):b[u],i);w.skip=isNaN(E)||isNaN(A)||v,w.stop=i>0&&Math.abs(b[d]-_[d])>p,g&&(w.parsed=b,w.raw=c.data[i]),h&&(w.options=l||this.resolveDataElementOptions(i,f.active?"active":n)),m||this.updateElement(f,i,w,n),_=b}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,n=t.data||[];if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}},PieController:class extends $i{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:Ji,RadarController:class extends ji{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,n){return Ye.bind(this)(t,e,i,n)}update(t){const e=this._cachedMeta,i=e.dataset,n=e.data||[],r=e.iScale.getLabels();if(i.points=n,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const o={_loop:!0,_fullLoop:r.length===n.length,options:e};this.updateElement(i,void 0,o,t)}this.updateElements(n,0,n.length,t)}updateElements(t,e,i,n){const r=this._cachedMeta.rScale,o="reset"===n;for(let s=e;s<e+i;s++){const e=t[s],i=this.resolveDataElementOptions(s,e.active?"active":n),a=r.getPointPositionForValue(s,this.getParsed(s).r),c=o?r.xCenter:a.x,l=o?r.yCenter:a.y,h={x:c,y:l,angle:a.angle,skip:isNaN(c)||isNaN(l),options:i};this.updateElement(e,s,h,n)}}},ScatterController:class extends ji{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=e,o=this.getParsed(t),s=n.getLabelForValue(o.x),a=r.getLabelForValue(o.y);return{label:i[t]||"",value:"("+s+", "+a+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,n=this.chart._animationsDisabled;let{start:r,count:o}=Vt(e,i,n);if(this._drawStart=r,this._drawCount=o,zt(e)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:o}=e;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=i;const s=this.resolveDatasetElementOptions(t);s.segment=this.options.segment,this.updateElement(r,void 0,{animated:!n,options:s},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,n){const r="reset"===n,{iScale:o,vScale:s,_stacked:a,_dataset:c}=this._cachedMeta,l=this.resolveDataElementOptions(e,n),h=this.getSharedOptions(l),d=this.includeOptions(n,h),u=o.axis,f=s.axis,{spanGaps:g,segment:p}=this.options,m=wt(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||"none"===n;let w=e>0&&this.getParsed(e-1);for(let l=e;l<e+i;++l){const e=t[l],i=this.getParsed(l),g=y?e:{},_=F(i[f]),b=g[u]=o.getPixelForValue(i[u],l),v=g[f]=r||_?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,i,a):i[f],l);g.skip=isNaN(b)||isNaN(v)||_,g.stop=l>0&&Math.abs(i[u]-w[u])>m,p&&(g.parsed=i,g.raw=c.data[l]),d&&(g.options=h||this.resolveDataElementOptions(l,e.active?"active":n)),y||this.updateElement(e,l,g,n),w=i}this.updateSharedOptions(h,n,l)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}const i=t.dataset,n=i.options&&i.options.borderWidth||0;if(!e.length)return n;const r=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(n,r,o)/2}}});function en(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class nn{static override(t){Object.assign(nn.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return en()}parse(){return en()}format(){return en()}add(){return en()}diff(){return en()}startOf(){return en()}endOf(){return en()}}var rn=nn;function on(t,e,i,n){const{controller:r,data:o,_sorted:s}=t,a=r._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&"r"!==e&&s&&o.length){const s=a._reversePixels?Rt:Ot;if(!n){const n=s(o,e,i);if(c){const{vScale:e}=r._cachedMeta,{_parsed:i}=t,o=i.slice(0,n.lo+1).reverse().findIndex((t=>!F(t[e.axis])));n.lo-=Math.max(0,o);const s=i.slice(n.hi).findIndex((t=>!F(t[e.axis])));n.hi+=Math.max(0,s)}return n}if(r._sharedOptions){const t=o[0],n="function"==typeof t.getRange&&t.getRange(e);if(n){const t=s(o,e,i-n),r=s(o,e,i+n);return{lo:t.lo,hi:r.hi}}}}return{lo:0,hi:o.length-1}}function sn(t,e,i,n,r){const o=t.getSortedVisibleDatasetMetas(),s=i[e];for(let t=0,i=o.length;t<i;++t){const{index:i,data:a}=o[t],{lo:c,hi:l}=on(o[t],e,s,r);for(let t=c;t<=l;++t){const e=a[t];e.skip||n(e,i,t)}}}function an(t,e,i,n,r){const o=[];if(!r&&!t.isPointInArea(e))return o;return sn(t,i,e,(function(i,s,a){(r||fe(i,t.chartArea,0))&&i.inRange(e.x,e.y,n)&&o.push({element:i,datasetIndex:s,index:a})}),!0),o}function cn(t,e,i,n,r,o){let s=[];const a=function(t){const e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,n){const r=e?Math.abs(t.x-n.x):0,o=i?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}(i);let c=Number.POSITIVE_INFINITY;return sn(t,i,e,(function(i,l,h){const d=i.inRange(e.x,e.y,r);if(n&&!d)return;const u=i.getCenterPoint(r);if(!(!!o||t.isPointInArea(u))&&!d)return;const f=a(e,u);f<c?(s=[{element:i,datasetIndex:l,index:h}],c=f):f===c&&s.push({element:i,datasetIndex:l,index:h})})),s}function ln(t,e,i,n,r,o){return o||t.isPointInArea(e)?"r"!==i||n?cn(t,e,i,n,r,o):function(t,e,i,n){let r=[];return sn(t,i,e,(function(t,i,o){const{startAngle:s,endAngle:a}=t.getProps(["startAngle","endAngle"],n),{angle:c}=At(t,{x:e.x,y:e.y});xt(c,s,a)&&r.push({element:t,datasetIndex:i,index:o})})),r}(t,e,i,r):[]}function hn(t,e,i,n,r){const o=[],s="x"===i?"inXRange":"inYRange";let a=!1;return sn(t,i,e,((t,n,c)=>{t[s]&&t[s](e[i],r)&&(o.push({element:t,datasetIndex:n,index:c}),a=a||t.inRange(e.x,e.y,r))})),n&&!a?[]:o}var dn={evaluateInteractionItems:sn,modes:{index(t,e,i,n){const r=oi(e,t),o=i.axis||"x",s=i.includeInvisible||!1,a=i.intersect?an(t,r,o,n,s):ln(t,r,o,!1,n,s),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,i=t.data[e];i&&!i.skip&&c.push({element:i,datasetIndex:t.index,index:e})})),c):[]},dataset(t,e,i,n){const r=oi(e,t),o=i.axis||"xy",s=i.includeInvisible||!1;let a=i.intersect?an(t,r,o,n,s):ln(t,r,o,!1,n,s);if(a.length>0){const e=a[0].datasetIndex,i=t.getDatasetMeta(e).data;a=[];for(let t=0;t<i.length;++t)a.push({element:i[t],datasetIndex:e,index:t})}return a},point:(t,e,i,n)=>an(t,oi(e,t),i.axis||"xy",n,i.includeInvisible||!1),nearest(t,e,i,n){const r=oi(e,t),o=i.axis||"xy",s=i.includeInvisible||!1;return ln(t,r,o,i.intersect,n,s)},x:(t,e,i,n)=>hn(t,oi(e,t),"x",i.intersect,n),y:(t,e,i,n)=>hn(t,oi(e,t),"y",i.intersect,n)}};const un=["left","top","right","bottom"];function fn(t,e){return t.filter((t=>t.pos===e))}function gn(t,e){return t.filter((t=>-1===un.indexOf(t.pos)&&t.box.axis===e))}function pn(t,e){return t.sort(((t,i)=>{const n=e?i:t,r=e?t:i;return n.weight===r.weight?n.index-r.index:n.weight-r.weight}))}function mn(t,e){const i=function(t){const e={};for(const i of t){const{stack:t,pos:n,stackWeight:r}=i;if(!t||!un.includes(n))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}(t),{vBoxMaxWidth:n,hBoxMaxHeight:r}=e;let o,s,a;for(o=0,s=t.length;o<s;++o){a=t[o];const{fullSize:s}=a.box,c=i[a.stack],l=c&&a.stackWeight/c.weight;a.horizontal?(a.width=l?l*n:s&&e.availableWidth,a.height=r):(a.width=n,a.height=l?l*r:s&&e.availableHeight)}return i}function yn(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function wn(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function _n(t,e,i,n){const{pos:r,box:o}=i,s=t.maxPadding;if(!V(r)){i.size&&(t[r]-=i.size);const e=n[i.stack]||{size:0,count:1};e.size=Math.max(e.size,i.horizontal?o.height:o.width),i.size=e.size/e.count,t[r]+=i.size}o.getPadding&&wn(s,o.getPadding());const a=Math.max(0,e.outerWidth-yn(s,t,"left","right")),c=Math.max(0,e.outerHeight-yn(s,t,"top","bottom")),l=a!==t.w,h=c!==t.h;return t.w=a,t.h=c,i.horizontal?{same:l,other:h}:{same:h,other:l}}function bn(t,e){const i=e.maxPadding;function n(t){const n={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{n[t]=Math.max(e[t],i[t])})),n}return n(t?["left","right"]:["top","bottom"])}function vn(t,e,i,n){const r=[];let o,s,a,c,l,h;for(o=0,s=t.length,l=0;o<s;++o){a=t[o],c=a.box,c.update(a.width||e.w,a.height||e.h,bn(a.horizontal,e));const{same:s,other:d}=_n(e,i,a,n);l|=s&&r.length,h=h||d,c.fullSize||r.push(a)}return l&&vn(r,e,i,n)||h}function En(t,e,i,n,r){t.top=i,t.left=e,t.right=e+n,t.bottom=i+r,t.width=n,t.height=r}function An(t,e,i,n){const r=i.padding;let{x:o,y:s}=e;for(const a of t){const t=a.box,c=n[a.stack]||{count:1,placed:0,weight:1},l=a.stackWeight/c.weight||1;if(a.horizontal){const n=e.w*l,o=c.size||t.height;nt(c.start)&&(s=c.start),t.fullSize?En(t,r.left,s,i.outerWidth-r.right-r.left,o):En(t,e.left+c.placed,s,n,o),c.start=s,c.placed+=n,s=t.bottom}else{const n=e.h*l,s=c.size||t.width;nt(c.start)&&(o=c.start),t.fullSize?En(t,o,r.top,s,i.outerHeight-r.bottom-r.top):En(t,o,e.top+c.placed,s,n),c.start=o,c.placed+=n,o=t.right}}e.x=o,e.y=s}var Cn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,n){if(!t)return;const r=Te(t.options.layout.padding),o=Math.max(e-r.width,0),s=Math.max(i-r.height,0),a=function(t){const e=function(t){const e=[];let i,n,r,o,s,a;for(i=0,n=(t||[]).length;i<n;++i)r=t[i],({position:o,options:{stack:s,stackWeight:a=1}}=r),e.push({index:i,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return e}(t),i=pn(e.filter((t=>t.box.fullSize)),!0),n=pn(fn(e,"left"),!0),r=pn(fn(e,"right")),o=pn(fn(e,"top"),!0),s=pn(fn(e,"bottom")),a=gn(e,"x"),c=gn(e,"y");return{fullSize:i,leftAndTop:n.concat(o),rightAndBottom:r.concat(c).concat(s).concat(a),chartArea:fn(e,"chartArea"),vertical:n.concat(r).concat(c),horizontal:o.concat(s).concat(a)}}(t.boxes),c=a.vertical,l=a.horizontal;G(t.boxes,(t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}));const h=c.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,d=Object.freeze({outerWidth:e,outerHeight:i,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/h,hBoxMaxHeight:s/2}),u=Object.assign({},r);wn(u,Te(n));const f=Object.assign({maxPadding:u,w:o,h:s,x:r.left,y:r.top},r),g=mn(c.concat(l),d);vn(a.fullSize,f,d,g),vn(c,f,d,g),vn(l,f,d,g)&&vn(c,f,d,g),function(t){const e=t.maxPadding;function i(i){const n=Math.max(e[i]-t[i],0);return t[i]+=n,n}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(f),An(a.leftAndTop,f,d,g),f.x+=f.w,f.y+=f.h,An(a.rightAndBottom,f,d,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},G(a.chartArea,(e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class Sn{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,n){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}isAttached(t){return!0}updateConfig(t){}}class In extends Sn{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const xn="$chartjs",Tn={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Mn=t=>null===t||""===t;const Dn=!!li&&{passive:!0};function On(t,e,i){t&&t.canvas&&t.canvas.removeEventListener(e,i,Dn)}function Rn(t,e){for(const i of t)if(i===e||i.contains(e))return!0}function Nn(t,e,i){const n=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||Rn(i.addedNodes,n),e=e&&!Rn(i.removedNodes,n);e&&i()}));return r.observe(document,{childList:!0,subtree:!0}),r}function kn(t,e,i){const n=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||Rn(i.removedNodes,n),e=e&&!Rn(i.addedNodes,n);e&&i()}));return r.observe(document,{childList:!0,subtree:!0}),r}const Ln=new Map;let Pn=0;function Bn(){const t=window.devicePixelRatio;t!==Pn&&(Pn=t,Ln.forEach(((e,i)=>{i.currentDevicePixelRatio!==t&&e()})))}function Fn(t,e,i){const n=t.canvas,r=n&&ti(n);if(!r)return;const o=Bt(((t,e)=>{const n=r.clientWidth;i(t,e),n<r.clientWidth&&i()}),window),s=new ResizeObserver((t=>{const e=t[0],i=e.contentRect.width,n=e.contentRect.height;0===i&&0===n||o(i,n)}));return s.observe(r),function(t,e){Ln.size||window.addEventListener("resize",Bn),Ln.set(t,e)}(t,o),s}function Hn(t,e,i){i&&i.disconnect(),"resize"===e&&function(t){Ln.delete(t),Ln.size||window.removeEventListener("resize",Bn)}(t)}function Vn(t,e,i){const n=t.canvas,r=Bt((e=>{null!==t.ctx&&i(function(t,e){const i=Tn[t.type]||t.type,{x:n,y:r}=oi(t,e);return{type:i,chart:e,native:t,x:void 0!==n?n:null,y:void 0!==r?r:null}}(e,t))}),t);return function(t,e,i){t&&t.addEventListener(e,i,Dn)}(n,e,r),r}class zn extends Sn{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function(t,e){const i=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t[xn]={initial:{height:n,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",Mn(r)){const e=hi(t,"width");void 0!==e&&(t.width=e)}if(Mn(n))if(""===t.style.height)t.height=t.width/(e||2);else{const e=hi(t,"height");void 0!==e&&(t.height=e)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[xn])return!1;const i=e[xn].initial;["height","width"].forEach((t=>{const n=i[t];F(n)?e.removeAttribute(t):e.setAttribute(t,n)}));const n=i.style||{};return Object.keys(n).forEach((t=>{e.style[t]=n[t]})),e.width=e.width,delete e[xn],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const n=t.$proxies||(t.$proxies={}),r={attach:Nn,detach:kn,resize:Fn}[e]||Vn;n[e]=r(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),n=i[e];if(!n)return;({attach:Hn,detach:Hn,resize:Hn}[e]||On)(t,e,n),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,n){return ai(t,e,i,n)}isAttached(t){const e=t&&ti(t);return!(!e||!e.isConnected)}}class Un{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return wt(this.x)&&wt(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const n={};return t.forEach((t=>{n[t]=i[t]&&i[t].active()?i[t]._to:this[t]})),n}}function jn(t,e){const i=t.options.ticks,n=function(t){const e=t.options.offset,i=t._tickSize(),n=t._length/i+(e?0:1),r=t._maxLength/i;return Math.floor(Math.min(n,r))}(t),r=Math.min(i.maxTicksLimit||n,n),o=i.major.enabled?function(t){const e=[];let i,n;for(i=0,n=t.length;i<n;i++)t[i].major&&e.push(i);return e}(e):[],s=o.length,a=o[0],c=o[s-1],l=[];if(s>r)return function(t,e,i,n){let r,o=0,s=i[0];for(n=Math.ceil(n),r=0;r<t.length;r++)r===s&&(e.push(t[r]),o++,s=i[o*n])}(e,l,o,s/r),l;const h=function(t,e,i){const n=function(t){const e=t.length;let i,n;if(e<2)return!1;for(n=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==n)return!1;return n}(t),r=e.length/i;if(!n)return Math.max(r,1);const o=function(t){const e=[],i=Math.sqrt(t);let n;for(n=1;n<i;n++)t%n==0&&(e.push(n),e.push(t/n));return i===(0|i)&&e.push(i),e.sort(((t,e)=>t-e)).pop(),e}(n);for(let t=0,e=o.length-1;t<e;t++){const e=o[t];if(e>r)return e}return Math.max(r,1)}(o,e,r);if(s>0){let t,i;const n=s>1?Math.round((c-a)/(s-1)):null;for(Wn(e,l,h,F(n)?0:a-n,a),t=0,i=s-1;t<i;t++)Wn(e,l,h,o[t],o[t+1]);return Wn(e,l,h,c,F(n)?e.length:c+n),l}return Wn(e,l,h),l}function Wn(t,e,i,n,r){const o=j(n,0),s=Math.min(j(r,t.length),t.length);let a,c,l,h=0;for(i=Math.ceil(i),r&&(a=r-n,i=a/Math.floor(a/i)),l=o;l<0;)h++,l=Math.round(o+h*i);for(c=Math.max(o,0);c<s;c++)c===l&&(e.push(t[c]),h++,l=Math.round(o+h*i))}const Yn=(t,e,i)=>"top"===e||"left"===e?t[e]+i:t[e]-i,Gn=(t,e)=>Math.min(e||t,t);function Xn(t,e){const i=[],n=t.length/e,r=t.length;let o=0;for(;o<r;o+=n)i.push(t[Math.floor(o)]);return i}function Zn(t,e,i){const n=t.ticks.length,r=Math.min(e,n-1),o=t._startPixel,s=t._endPixel,a=1e-6;let c,l=t.getPixelForTick(r);if(!(i&&(c=1===n?Math.max(l-o,s-l):0===e?(t.getPixelForTick(1)-l)/2:(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<o-a||l>s+a)))return l}function qn(t){return t.drawTicks?t.tickLength:0}function Qn(t,e){if(!t.display)return 0;const i=Me(t.font,e),n=Te(t.padding);return(H(t.text)?t.text.length:1)*i.lineHeight+n.height}function Kn(t,e,i){let n=Ft(t);return(i&&"right"!==e||!i&&"right"===e)&&(n=(t=>"left"===t?"right":"right"===t?"left":t)(n)),n}class $n extends Un{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:n}=this;return t=U(t,Number.POSITIVE_INFINITY),e=U(e,Number.NEGATIVE_INFINITY),i=U(i,Number.POSITIVE_INFINITY),n=U(n,Number.NEGATIVE_INFINITY),{min:U(t,i),max:U(e,n),minDefined:z(t),maxDefined:z(e)}}getMinMax(t){let e,{min:i,max:n,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:i,max:n};const s=this.getMatchingVisibleMetas();for(let a=0,c=s.length;a<c;++a)e=s[a].controller.getMinMax(this,t),r||(i=Math.min(i,e.min)),o||(n=Math.max(n,e.max));return i=o&&i>n?n:i,n=r&&i>n?i:n,{min:U(i,U(n,i)),max:U(n,U(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Y(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:n,grace:r,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,i){const{min:n,max:r}=t,o=W(e,(r-n)/2),s=(t,e)=>i&&0===t?0:t+e;return{min:s(n,-Math.abs(o)),max:s(r,o)}}(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=s<this.ticks.length;this._convertTicksToLabels(a?Xn(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=jn(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Y(this.options.afterUpdate,[this])}beforeSetDimensions(){Y(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Y(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Y(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Y(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,n,r;for(i=0,n=t.length;i<n;i++)r=t[i],r.label=Y(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Y(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Y(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Gn(this.ticks.length,t.ticks.maxTicksLimit),n=e.minRotation||0,r=e.maxRotation;let o,s,a,c=n;if(!this._isVisible()||!e.display||n>=r||i<=1||!this.isHorizontal())return void(this.labelRotation=n);const l=this._getLabelSizes(),h=l.widest.width,d=l.highest.height,u=Tt(this.chart.width-h,0,this.maxWidth);o=t.offset?this.maxWidth/i:u/(i-1),h+6>o&&(o=u/(i-(t.offset?.5:1)),s=this.maxHeight-qn(t.grid)-e.padding-Qn(t.title,this.chart.options.font),a=Math.sqrt(h*h+d*d),c=vt(Math.min(Math.asin(Tt((l.highest.height+6)/o,-1,1)),Math.asin(Tt(s/a,-1,1))-Math.asin(Tt(d/a,-1,1)))),c=Math.max(n,Math.min(r,c))),this.labelRotation=c}afterCalculateLabelRotation(){Y(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Y(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:n,grid:r}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){const o=Qn(n,e.options.font);if(s?(t.width=this.maxWidth,t.height=qn(r)+o):(t.height=this.maxHeight,t.width=qn(r)+o),i.display&&this.ticks.length){const{first:e,last:n,widest:r,highest:o}=this._getLabelSizes(),a=2*i.padding,c=bt(this.labelRotation),l=Math.cos(c),h=Math.sin(c);if(s){const e=i.mirror?0:h*r.width+l*o.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=i.mirror?0:l*r.width+h*o.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,n,h,l)}}this._handleMargins(),s?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,n){const{ticks:{align:r,padding:o},position:s}=this.options,a=0!==this.labelRotation,c="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,l=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,d=0;a?c?(h=n*t.width,d=i*e.height):(h=i*t.height,d=n*e.width):"start"===r?d=e.width:"end"===r?h=t.width:"inner"!==r&&(h=t.width/2,d=e.width/2),this.paddingLeft=Math.max((h-s+o)*this.width/(this.width-s),0),this.paddingRight=Math.max((d-l+o)*this.width/(this.width-l),0)}else{let i=e.height/2,n=t.height/2;"start"===r?(i=0,n=t.height):"end"===r&&(i=e.height,n=0),this.paddingTop=i+o,this.paddingBottom=n+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Y(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)F(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Xn(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:n,_longestTextCache:r}=this,o=[],s=[],a=Math.floor(e/Gn(e,i));let c,l,h,d,u,f,g,p,m,y,w,_=0,b=0;for(c=0;c<e;c+=a){if(d=t[c].label,u=this._resolveTickFontOptions(c),n.font=f=u.string,g=r[f]=r[f]||{data:{},gc:[]},p=u.lineHeight,m=y=0,F(d)||H(d)){if(H(d))for(l=0,h=d.length;l<h;++l)w=d[l],F(w)||H(w)||(m=ae(n,g.data,g.gc,m,w),y+=p)}else m=ae(n,g.data,g.gc,m,d),y=p;o.push(m),s.push(y),_=Math.max(m,_),b=Math.max(y,b)}!function(t,e){G(t,(t=>{const i=t.gc,n=i.length/2;let r;if(n>e){for(r=0;r<n;++r)delete t.data[i[r]];i.splice(0,n)}}))}(r,e);const v=o.indexOf(_),E=s.indexOf(b),A=t=>({width:o[t]||0,height:s[t]||0});return{first:A(0),last:A(e-1),widest:A(v),highest:A(E),widths:o,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Tt(this._alignToPixels?le(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function(t,e,i){return Oe(t,{tick:i,index:e,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=Oe(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=bt(this.labelRotation),i=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,s=r?r.widest.width+o:0,a=r?r.highest.height+o:0;return this.isHorizontal()?a*i>s*n?s/i:a/n:a*n<s*i?a/i:s/n}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,n=this.options,{grid:r,position:o,border:s}=n,a=r.offset,c=this.isHorizontal(),l=this.ticks.length+(a?1:0),h=qn(r),d=[],u=s.setContext(this.getContext()),f=u.display?u.width:0,g=f/2,p=function(t){return le(i,t,f)};let m,y,w,_,b,v,E,A,C,S,I,x;if("top"===o)m=p(this.bottom),v=this.bottom-h,A=m-g,S=p(t.top)+g,x=t.bottom;else if("bottom"===o)m=p(this.top),S=t.top,x=p(t.bottom)-g,v=m+g,A=this.top+h;else if("left"===o)m=p(this.right),b=this.right-h,E=m-g,C=p(t.left)+g,I=t.right;else if("right"===o)m=p(this.left),C=t.left,I=p(t.right)-g,b=m+g,E=this.left+h;else if("x"===e){if("center"===o)m=p((t.top+t.bottom)/2+.5);else if(V(o)){const t=Object.keys(o)[0],e=o[t];m=p(this.chart.scales[t].getPixelForValue(e))}S=t.top,x=t.bottom,v=m+g,A=v+h}else if("y"===e){if("center"===o)m=p((t.left+t.right)/2);else if(V(o)){const t=Object.keys(o)[0],e=o[t];m=p(this.chart.scales[t].getPixelForValue(e))}b=m-g,E=b-h,C=t.left,I=t.right}const T=j(n.ticks.maxTicksLimit,l),M=Math.max(1,Math.ceil(l/T));for(y=0;y<l;y+=M){const t=this.getContext(y),e=r.setContext(t),n=s.setContext(t),o=e.lineWidth,l=e.color,h=n.dash||[],u=n.dashOffset,f=e.tickWidth,g=e.tickColor,p=e.tickBorderDash||[],m=e.tickBorderDashOffset;w=Zn(this,y,a),void 0!==w&&(_=le(i,w,o),c?b=E=C=I=_:v=A=S=x=_,d.push({tx1:b,ty1:v,tx2:E,ty2:A,x1:C,y1:S,x2:I,y2:x,width:o,color:l,borderDash:h,borderDashOffset:u,tickWidth:f,tickColor:g,tickBorderDash:p,tickBorderDashOffset:m}))}return this._ticksLength=l,this._borderValue=m,d}_computeLabelItems(t){const e=this.axis,i=this.options,{position:n,ticks:r}=i,o=this.isHorizontal(),s=this.ticks,{align:a,crossAlign:c,padding:l,mirror:h}=r,d=qn(i.grid),u=d+l,f=h?-l:u,g=-bt(this.labelRotation),p=[];let m,y,w,_,b,v,E,A,C,S,I,x,T="middle";if("top"===n)v=this.bottom-f,E=this._getXAxisLabelAlignment();else if("bottom"===n)v=this.top+f,E=this._getXAxisLabelAlignment();else if("left"===n){const t=this._getYAxisLabelAlignment(d);E=t.textAlign,b=t.x}else if("right"===n){const t=this._getYAxisLabelAlignment(d);E=t.textAlign,b=t.x}else if("x"===e){if("center"===n)v=(t.top+t.bottom)/2+u;else if(V(n)){const t=Object.keys(n)[0],e=n[t];v=this.chart.scales[t].getPixelForValue(e)+u}E=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===n)b=(t.left+t.right)/2-u;else if(V(n)){const t=Object.keys(n)[0],e=n[t];b=this.chart.scales[t].getPixelForValue(e)}E=this._getYAxisLabelAlignment(d).textAlign}"y"===e&&("start"===a?T="top":"end"===a&&(T="bottom"));const M=this._getLabelSizes();for(m=0,y=s.length;m<y;++m){w=s[m],_=w.label;const t=r.setContext(this.getContext(m));A=this.getPixelForTick(m)+r.labelOffset,C=this._resolveTickFontOptions(m),S=C.lineHeight,I=H(_)?_.length:1;const e=I/2,i=t.color,a=t.textStrokeColor,l=t.textStrokeWidth;let d,u=E;if(o?(b=A,"inner"===E&&(u=m===y-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),x="top"===n?"near"===c||0!==g?-I*S+S/2:"center"===c?-M.highest.height/2-e*S+S:-M.highest.height+S/2:"near"===c||0!==g?S/2:"center"===c?M.highest.height/2-e*S:M.highest.height-I*S,h&&(x*=-1),0===g||t.showLabelBackdrop||(b+=S/2*Math.sin(g))):(v=A,x=(1-I)*S/2),t.showLabelBackdrop){const e=Te(t.backdropPadding),i=M.heights[m],n=M.widths[m];let r=x-e.top,o=0-e.left;switch(T){case"middle":r-=i/2;break;case"bottom":r-=i}switch(E){case"center":o-=n/2;break;case"right":o-=n;break;case"inner":m===y-1?o-=n:m>0&&(o-=n/2)}d={left:o,top:r,width:n+e.width,height:i+e.height,color:t.backdropColor}}p.push({label:_,font:C,textOffset:x,options:{rotation:g,color:i,strokeColor:a,strokeWidth:l,textAlign:u,textBaseline:T,translation:[b,v],backdrop:d}})}return p}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-bt(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:n,padding:r}}=this.options,o=t+r,s=this._getLabelSizes().widest.width;let a,c;return"left"===e?n?(c=this.right+r,"near"===i?a="left":"center"===i?(a="center",c+=s/2):(a="right",c+=s)):(c=this.right-o,"near"===i?a="right":"center"===i?(a="center",c-=s/2):(a="left",c=this.left)):"right"===e?n?(c=this.left+r,"near"===i?a="right":"center"===i?(a="center",c-=s/2):(a="left",c-=s)):(c=this.left+o,"near"===i?a="left":"center"===i?(a="center",c+=s/2):(a="right",c=this.right)):a="right",{textAlign:a,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:n,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,n,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex((e=>e.value===t));if(i>=0){return e.setContext(this.getContext(i)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const s=(t,e,n)=>{n.width&&n.color&&(i.save(),i.lineWidth=n.width,i.strokeStyle=n.color,i.setLineDash(n.borderDash||[]),i.lineDashOffset=n.borderDashOffset,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.stroke(),i.restore())};if(e.display)for(r=0,o=n.length;r<o;++r){const t=n[r];e.drawOnChartArea&&s({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&s({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:n}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const s=n.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let c,l,h,d;this.isHorizontal()?(c=le(t,this.left,o)-o/2,l=le(t,this.right,s)+s/2,h=d=a):(h=le(t,this.top,o)-o/2,d=le(t,this.bottom,s)+s/2,c=l=a),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(c,h),e.lineTo(l,d),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,i=this._computeLabelArea();i&&ge(e,i);const n=this.getLabelItems(t);for(const t of n){const i=t.options,n=t.font;be(e,t.label,0,t.textOffset,n,i)}i&&pe(e)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:n}}=this;if(!i.display)return;const r=Me(i.font),o=Te(i.padding),s=i.align;let a=r.lineHeight/2;"bottom"===e||"center"===e||V(e)?(a+=o.bottom,H(i.text)&&(a+=r.lineHeight*(i.text.length-1))):a+=o.top;const{titleX:c,titleY:l,maxWidth:h,rotation:d}=function(t,e,i,n){const{top:r,left:o,bottom:s,right:a,chart:c}=t,{chartArea:l,scales:h}=c;let d,u,f,g=0;const p=s-r,m=a-o;if(t.isHorizontal()){if(u=Ht(n,o,a),V(i)){const t=Object.keys(i)[0],n=i[t];f=h[t].getPixelForValue(n)+p-e}else f="center"===i?(l.bottom+l.top)/2+p-e:Yn(t,i,e);d=a-o}else{if(V(i)){const t=Object.keys(i)[0],n=i[t];u=h[t].getPixelForValue(n)-m+e}else u="center"===i?(l.left+l.right)/2-m+e:Yn(t,i,e);f=Ht(n,s,r),g="left"===i?-dt:dt}return{titleX:u,titleY:f,maxWidth:d,rotation:g}}(this,a,e,s);be(t,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:d,textAlign:Kn(s,e,n),textBaseline:"middle",translation:[c,l]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=j(t.grid&&t.grid.z,-1),n=j(t.border&&t.border.z,0);return this._isVisible()&&this.draw===$n.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let r,o;for(r=0,o=e.length;r<o;++r){const o=e[r];o[i]!==this.id||t&&o.type!==t||n.push(o)}return n}_resolveTickFontOptions(t){return Me(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Jn{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function(t){return"id"in t&&"defaults"in t})(e)&&(i=this.register(e));const n=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in n||(n[r]=t,function(t,e,i){const n=K(Object.create(null),[i?se.get(i):{},se.get(e),t.defaults]);se.set(e,n),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((i=>{const n=i.split("."),r=n.pop(),o=[t].concat(n).join("."),s=e[i].split("."),a=s.pop(),c=s.join(".");se.route(o,r,c,a)}))}(e,t.defaultRoutes);t.descriptors&&se.describe(e,t.descriptors)}(t,o,i),this.override&&se.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,n=this.scope;i in e&&delete e[i],n&&i in se[n]&&(delete se[n][i],this.override&&delete ee[i])}}class tr{constructor(){this.controllers=new Jn(ji,"datasets",!0),this.elements=new Jn(Un,"elements"),this.plugins=new Jn(Object,"plugins"),this.scales=new Jn($n,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach((e=>{const n=i||this._getRegistryForType(e);i||n.isForType(e)||n===this.plugins&&e.id?this._exec(t,n,e):G(e,(e=>{const n=i||this._getRegistryForType(e);this._exec(t,n,e)}))}))}_exec(t,e,i){const n=it(t);Y(i["before"+n],[],i),e[t](i),Y(i["after"+n],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const n=e.get(t);if(void 0===n)throw new Error('"'+t+'" is not a registered '+i+".");return n}}var er=new tr;class ir{constructor(){this._init=[]}notify(t,e,i,n){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=n?this._descriptors(t).filter(n):this._descriptors(t),o=this._notify(r,t,e,i);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,n){n=n||{};for(const r of t){const t=r.plugin;if(!1===Y(t[i],[e,n,r.options],t)&&n.cancelable)return!1}return!0}invalidate(){F(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,n=j(i.options&&i.options.plugins,{}),r=function(t){const e={},i=[],n=Object.keys(er.plugins.items);for(let t=0;t<n.length;t++)i.push(er.getPlugin(n[t]));const r=t.plugins||[];for(let t=0;t<r.length;t++){const n=r[t];-1===i.indexOf(n)&&(i.push(n),e[n.id]=!0)}return{plugins:i,localIds:e}}(i);return!1!==n||e?function(t,{plugins:e,localIds:i},n,r){const o=[],s=t.getContext();for(const a of e){const e=a.id,c=nr(n[e],r);null!==c&&o.push({plugin:a,options:rr(t.config,{plugin:a,local:i[e]},c,s)})}return o}(t,r,n,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,n=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(n(e,i),t,"stop"),this._notify(n(i,e),t,"start")}}function nr(t,e){return e||!1!==t?!0===t?{}:t:null}function rr(t,{plugin:e,local:i},n,r){const o=t.pluginScopeKeys(e),s=t.getOptionScopes(n,o);return i&&e.defaults&&s.push(e.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function or(t,e){const i=se.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function sr(t){if("x"===t||"y"===t||"r"===t)return t}function ar(t,...e){if(sr(t))return t;for(const n of e){const e=n.axis||("top"===(i=n.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.length>1&&sr(t[0].toLowerCase());if(e)return e}var i;throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function cr(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function lr(t,e){const i=ee[t.type]||{scales:{}},n=e.scales||{},r=or(t.type,e),o=Object.create(null);return Object.keys(n).forEach((e=>{const s=n[e];if(!V(s))return console.error(`Invalid scale configuration for scale: ${e}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const a=ar(e,s,function(t,e){if(e.data&&e.data.datasets){const i=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(i.length)return cr(t,"x",i[0])||cr(t,"y",i[0])}return{}}(e,t),se.scales[s.type]),c=function(t,e){return t===e?"_index_":"_value_"}(a,r),l=i.scales||{};o[e]=$(Object.create(null),[{axis:a},s,l[a],l[c]])})),t.data.datasets.forEach((i=>{const r=i.type||t.type,s=i.indexAxis||or(r,e),a=(ee[r]||{}).scales||{};Object.keys(a).forEach((t=>{const e=function(t,e){let i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i}(t,s),r=i[e+"AxisID"]||e;o[r]=o[r]||Object.create(null),$(o[r],[{axis:e},n[r],a[t]])}))})),Object.keys(o).forEach((t=>{const e=o[t];$(e,[se.scales[e.type],se.scale])})),o}function hr(t){const e=t.options||(t.options={});e.plugins=j(e.plugins,{}),e.scales=lr(t,e)}function dr(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const ur=new Map,fr=new Set;function gr(t,e){let i=ur.get(t);return i||(i=e(),ur.set(t,i),fr.add(i)),i}const pr=(t,e,i)=>{const n=et(e,i);void 0!==n&&t.add(n)};class mr{constructor(t){this._config=function(t){return(t=t||{}).data=dr(t.data),hr(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=dr(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),hr(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return gr(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return gr(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return gr(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return gr(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const i=this._scopeCache;let n=i.get(t);return n&&!e||(n=new Map,i.set(t,n)),n}getOptionScopes(t,e,i){const{options:n,type:r}=this,o=this._cachedScopes(t,i),s=o.get(e);if(s)return s;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>pr(a,t,e)))),e.forEach((t=>pr(a,n,t))),e.forEach((t=>pr(a,ee[r]||{},t))),e.forEach((t=>pr(a,se,t))),e.forEach((t=>pr(a,ie,t)))}));const c=Array.from(a);return 0===c.length&&c.push(Object.create(null)),fr.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,ee[e]||{},se.datasets[e]||{},{type:e},se,ie]}resolveNamedOptions(t,e,i,n=[""]){const r={$shared:!0},{resolver:o,subPrefixes:s}=yr(this._resolverCache,t,n);let a=o;if(function(t,e){const{isScriptable:i,isIndexable:n}=ke(t);for(const r of e){const e=i(r),o=n(r),s=(o||e)&&t[r];if(e&&(rt(s)||wr(s))||o&&H(s))return!0}return!1}(o,e)){r.$shared=!1;a=Ne(o,i=rt(i)?i():i,this.createResolver(t,i,s))}for(const t of e)r[t]=a[t];return r}createResolver(t,e,i=[""],n){const{resolver:r}=yr(this._resolverCache,t,i);return V(e)?Ne(r,e,void 0,n):r}}function yr(t,e,i){let n=t.get(e);n||(n=new Map,t.set(e,n));const r=i.join();let o=n.get(r);if(!o){o={resolver:Re(e,i),subPrefixes:i.filter((t=>!t.toLowerCase().includes("hover")))},n.set(r,o)}return o}const wr=t=>V(t)&&Object.getOwnPropertyNames(t).some((e=>rt(t[e])));const _r=["top","bottom","left","right","chartArea"];function br(t,e){return"top"===t||"bottom"===t||-1===_r.indexOf(t)&&"x"===e}function vr(t,e){return function(i,n){return i[t]===n[t]?i[e]-n[e]:i[t]-n[t]}}function Er(t){const e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),Y(i&&i.onComplete,[t],e)}function Ar(t){const e=t.chart,i=e.options.animation;Y(i&&i.onProgress,[t],e)}function Cr(t){return Je()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Sr={},Ir=t=>{const e=Cr(t);return Object.values(Sr).filter((t=>t.canvas===e)).pop()};function xr(t,e,i){const n=Object.keys(t);for(const r of n){const n=+r;if(n>=e){const o=t[r];delete t[r],(i>0||n>e)&&(t[n+i]=o)}}}class Tr{static defaults=se;static instances=Sr;static overrides=ee;static registry=er;static version="4.5.0";static getChart=Ir;static register(...t){er.add(...t),Mr()}static unregister(...t){er.remove(...t),Mr()}constructor(t,e){const i=this.config=new mr(e),n=Cr(t),r=Ir(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function(t){return!Je()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?In:zn}(n)),this.platform.updateConfig(i);const s=this.platform.acquireContext(n,o.aspectRatio),a=s&&s.canvas,c=a&&a.height,l=a&&a.width;this.id=B(),this.ctx=s,this.canvas=a,this.width=l,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ir,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let i;return function(...n){return e?(clearTimeout(i),i=setTimeout(t,e,n)):t.apply(this,n),e}}((t=>this.update(t)),o.resizeDelay||0),this._dataChanges=[],Sr[this.id]=this,s&&a?(xi.listen(this,"complete",Er),xi.listen(this,"progress",Ar),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:n,_aspectRatio:r}=this;return F(t)?e&&r?r:n?i/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return er}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ci(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return he(this.canvas,this.ctx),this}stop(){return xi.stop(this),this}resize(t,e){xi.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,n=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,t,e,r),s=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ci(this,s,!0)&&(this.notifyPlugins("resize",{size:o}),Y(i.onResize,[this,o],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){G(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,n=Object.keys(i).reduce(((t,e)=>(t[e]=!1,t)),{});let r=[];e&&(r=r.concat(Object.keys(e).map((t=>{const i=e[t],n=ar(t,i),r="r"===n,o="x"===n;return{options:i,dposition:r?"chartArea":o?"bottom":"left",dtype:r?"radialLinear":o?"category":"linear"}})))),G(r,(e=>{const r=e.options,o=r.id,s=ar(o,r),a=j(r.type,e.dtype);void 0!==r.position&&br(r.position,s)===br(e.dposition)||(r.position=e.dposition),n[o]=!0;let c=null;if(o in i&&i[o].type===a)c=i[o];else{c=new(er.getScale(a))({id:o,type:a,ctx:this.ctx,chart:this}),i[c.id]=c}c.init(r,t)})),G(n,((t,e)=>{t||delete i[e]})),G(i,(t=>{Cn.configure(this,t,t.options),Cn.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort(((t,e)=>t.index-e.index)),i>e){for(let t=e;t<i;++t)this._destroyDatasetMeta(t);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(vr("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,i)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(i)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=e.length;i<n;i++){const n=e[i];let r=this.getDatasetMeta(i);const o=n.type||this.config.type;if(r.type&&r.type!==o&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=o,r.indexAxis=n.indexAxis||or(o,this.options),r.order=n.order||0,r.index=i,r.label=""+n.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{const e=er.getController(o),{datasetElementType:n,dataElementType:s}=se.datasets[o];Object.assign(e,{dataElementType:er.getElement(s),datasetElementType:n&&er.getElement(n)}),r.controller=new e(this,i),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){G(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let t=0,e=this.data.datasets.length;t<e;t++){const{controller:e}=this.getDatasetMeta(t),i=!n&&-1===r.indexOf(e);e.buildOrUpdateElements(i),o=Math.max(+e.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),n||G(r,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(vr("z","_idx"));const{_active:s,_lastEvent:a}=this;a?this._eventHandler(a,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){G(this.scales,(t=>{Cn.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);ot(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:r}of e){xr(t,n,"_removeElements"===i?-r:r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),n=i(0);for(let t=1;t<e;t++)if(!ot(n,i(t)))return;return Array.from(n).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Cn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],G(this.boxes,(t=>{i&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,rt(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),n={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(i.controller._update(e),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(xi.has(this)?this.attached&&!xi.running(this)&&xi.start(this):(this.draw(),Er({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(t,e)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let n,r;for(n=0,r=e.length;n<r;++n){const r=e[n];t&&!r.visible||i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},n=Si(this,t);!1!==this.notifyPlugins("beforeDatasetDraw",i)&&(n&&ge(e,n),t.controller.draw(),n&&pe(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return fe(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,n){const r=dn.modes[e];return"function"==typeof r?r(this,t,i,n):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let n=i.filter((t=>t&&t._dataset===e)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=Oe(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const n=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,n);nt(e)?(r.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update((e=>e.datasetIndex===t?n:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),xi.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),he(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Sr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(i,n)=>{e.addEventListener(this,i,n),t[i]=n},n=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};G(this.options.events,(t=>i(t,n)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(i,n)=>{e.addEventListener(this,i,n),t[i]=n},n=(i,n)=>{t[i]&&(e.removeEventListener(this,i,n),delete t[i])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const s=()=>{n("attach",s),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,n("resize",r),this._stop(),this._resize(0,0),i("attach",s)},e.isAttached(this.canvas)?s():o()}unbindEvents(){G(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},G(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const n=i?"set":"remove";let r,o,s,a;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+n+"DatasetHoverStyle"]()),s=0,a=t.length;s<a;++s){o=t[s];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map((({datasetIndex:t,index:e})=>{const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[e],index:e}}));!X(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,i){const n=this.options.hover,r=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=r(e,t),s=i?t:r(t,e);o.length&&this.updateHoverStyle(o,n.mode,!1),s.length&&n.mode&&this.updateHoverStyle(s,n.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},n=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,n))return;const r=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(r||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:n=[],options:r}=this,o=e,s=this._getActiveElements(t,n,i,o),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),c=function(t,e,i,n){return i&&"mouseout"!==t.type?n?e:t:null}(t,this._lastEvent,i,a);i&&(this._lastEvent=null,Y(r.onHover,[t,s,this],this),a&&Y(r.onClick,[t,s,this],this));const l=!X(s,n);return(l||e)&&(this._active=s,this._updateHoverStyles(s,n,e)),this._lastEvent=c,l}_getActiveElements(t,e,i,n){if("mouseout"===t.type)return[];if(!i)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,n)}}function Mr(){return G(Tr.instances,(t=>t._plugins.invalidate()))}function Dr(t,e,i,n){const r=Se(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const o=(i-e)/2,s=Math.min(o,n*e/2),a=t=>{const e=(i-Math.min(o,t))*n/2;return Tt(t,0,Math.min(o,e))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Tt(r.innerStart,0,s),innerEnd:Tt(r.innerEnd,0,s)}}function Or(t,e,i,n){return{x:i+t*Math.cos(e),y:n+t*Math.sin(e)}}function Rr(t,e,i,n,r,o){const{x:s,y:a,startAngle:c,pixelMargin:l,innerRadius:h}=e,d=Math.max(e.outerRadius+n+i-l,0),u=h>0?h+n+i+l:0;let f=0;const g=r-c;if(n){const t=((h>0?h-n:0)+(d>0?d-n:0))/2;f=(g-(0!==t?g*t/(t+n):g))/2}const p=(g-Math.max(.001,g*d-i/st)/d)/2,m=c+p+f,y=r-p-f,{outerStart:w,outerEnd:_,innerStart:b,innerEnd:v}=Dr(e,u,d,y-m),E=d-w,A=d-_,C=m+w/E,S=y-_/A,I=u+b,x=u+v,T=m+b/I,M=y-v/x;if(t.beginPath(),o){const e=(C+S)/2;if(t.arc(s,a,d,C,e),t.arc(s,a,d,e,S),_>0){const e=Or(A,S,s,a);t.arc(e.x,e.y,_,S,y+dt)}const i=Or(x,y,s,a);if(t.lineTo(i.x,i.y),v>0){const e=Or(x,M,s,a);t.arc(e.x,e.y,v,y+dt,M+Math.PI)}const n=(y-v/u+(m+b/u))/2;if(t.arc(s,a,u,y-v/u,n,!0),t.arc(s,a,u,n,m+b/u,!0),b>0){const e=Or(I,T,s,a);t.arc(e.x,e.y,b,T+Math.PI,m-dt)}const r=Or(E,m,s,a);if(t.lineTo(r.x,r.y),w>0){const e=Or(E,C,s,a);t.arc(e.x,e.y,w,m-dt,C)}}else{t.moveTo(s,a);const e=Math.cos(C)*d+s,i=Math.sin(C)*d+a;t.lineTo(e,i);const n=Math.cos(S)*d+s,r=Math.sin(S)*d+a;t.lineTo(n,r)}t.closePath()}function Nr(t,e,i,n,r){const{fullCircles:o,startAngle:s,circumference:a,options:c}=e,{borderWidth:l,borderJoinStyle:h,borderDash:d,borderDashOffset:u,borderRadius:f}=c,g="inner"===c.borderAlign;if(!l)return;t.setLineDash(d||[]),t.lineDashOffset=u,g?(t.lineWidth=2*l,t.lineJoin=h||"round"):(t.lineWidth=l,t.lineJoin=h||"bevel");let p=e.endAngle;if(o){Rr(t,e,i,n,p,r);for(let e=0;e<o;++e)t.stroke();isNaN(a)||(p=s+(a%at||at))}g&&function(t,e,i){const{startAngle:n,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:c}=e;let l=r/a;t.beginPath(),t.arc(o,s,a,n-l,i+l),c>r?(l=r/c,t.arc(o,s,c,i+l,n-l,!0)):t.arc(o,s,r,i+dt,n-dt),t.closePath(),t.clip()}(t,e,p),c.selfJoin&&p-s>=st&&0===f&&"miter"!==h&&function(t,e,i){const{startAngle:n,x:r,y:o,outerRadius:s,innerRadius:a,options:c}=e,{borderWidth:l,borderJoinStyle:h}=c,d=Math.min(l/s,It(n-i));if(t.beginPath(),t.arc(r,o,s-l/2,n+d/2,i-d/2),a>0){const e=Math.min(l/a,It(n-i));t.arc(r,o,a+l/2,i-e/2,n+e/2,!0)}else{const e=Math.min(l/2,s*It(n-i));if("round"===h)t.arc(r,o,e,i-st/2,n+st/2,!0);else if("bevel"===h){const s=2*e*e,a=-s*Math.cos(i+st/2)+r,c=-s*Math.sin(i+st/2)+o,l=s*Math.cos(n+st/2)+r,h=s*Math.sin(n+st/2)+o;t.lineTo(a,c),t.lineTo(l,h)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}(t,e,p),o||(Rr(t,e,i,n,p,r),t.stroke())}function kr(t,e,i=e){t.lineCap=j(i.borderCapStyle,e.borderCapStyle),t.setLineDash(j(i.borderDash,e.borderDash)),t.lineDashOffset=j(i.borderDashOffset,e.borderDashOffset),t.lineJoin=j(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=j(i.borderWidth,e.borderWidth),t.strokeStyle=j(i.borderColor,e.borderColor)}function Lr(t,e,i){t.lineTo(i.x,i.y)}function Pr(t,e,i={}){const n=t.length,{start:r=0,end:o=n-1}=i,{start:s,end:a}=e,c=Math.max(r,s),l=Math.min(o,a),h=r<s&&o<s||r>a&&o>a;return{count:n,start:c,loop:e.loop,ilen:l<c&&!h?n+l-c:l-c}}function Br(t,e,i,n){const{points:r,options:o}=e,{count:s,start:a,loop:c,ilen:l}=Pr(r,i,n),h=function(t){return t.stepped?me:t.tension||"monotone"===t.cubicInterpolationMode?ye:Lr}(o);let d,u,f,{move:g=!0,reverse:p}=n||{};for(d=0;d<=l;++d)u=r[(a+(p?l-d:d))%s],u.skip||(g?(t.moveTo(u.x,u.y),g=!1):h(t,f,u,p,o.stepped),f=u);return c&&(u=r[(a+(p?l:0))%s],h(t,f,u,p,o.stepped)),!!c}function Fr(t,e,i,n){const r=e.points,{count:o,start:s,ilen:a}=Pr(r,i,n),{move:c=!0,reverse:l}=n||{};let h,d,u,f,g,p,m=0,y=0;const w=t=>(s+(l?a-t:t))%o,_=()=>{f!==g&&(t.lineTo(m,g),t.lineTo(m,f),t.lineTo(m,p))};for(c&&(d=r[w(0)],t.moveTo(d.x,d.y)),h=0;h<=a;++h){if(d=r[w(h)],d.skip)continue;const e=d.x,i=d.y,n=0|e;n===u?(i<f?f=i:i>g&&(g=i),m=(y*m+e)/++y):(_(),t.lineTo(e,i),u=n,y=0,f=g=i),p=i}_()}function Hr(t){const e=t.options,i=e.borderDash&&e.borderDash.length;return!(t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||i)?Fr:Br}const Vr="function"==typeof Path2D;function zr(t,e,i,n){Vr&&!e.options.segment?function(t,e,i,n){let r=e._path;r||(r=e._path=new Path2D,e.path(r,i,n)&&r.closePath()),kr(t,e.options),t.stroke(r)}(t,e,i,n):function(t,e,i,n){const{segments:r,options:o}=e,s=Hr(e);for(const a of r)kr(t,o,a.style),t.beginPath(),s(t,e,a,{start:i,end:i+n-1})&&t.closePath(),t.stroke()}(t,e,i,n)}class Ur extends Un{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;$e(this._points,i,t,n,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const i=t.points,n=t.options.spanGaps,r=i.length;if(!r)return[];const o=!!t._loop,{start:s,end:a}=function(t,e,i,n){let r=0,o=e-1;if(i&&!n)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,i&&(o+=r);o>r&&t[o%e].skip;)o--;return o%=e,{start:r,end:o}}(i,r,o,n);return vi(t,!0===n?[{start:s,end:a,loop:o}]:function(t,e,i,n){const r=t.length,o=[];let s,a=e,c=t[e];for(s=e+1;s<=i;++s){const i=t[s%r];i.skip||i.stop?c.skip||(n=!1,o.push({start:e%r,end:(s-1)%r,loop:n}),e=a=i.stop?s:null):(a=s,c.skip&&(e=s)),c=i}return null!==a&&o.push({start:e%r,end:a%r,loop:n}),o}(i,s,a<s?a+r:a,!!t._fullLoop&&0===s&&a===r-1),i,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,n=t[e],r=this.points,o=bi(this,{property:e,start:n,end:n});if(!o.length)return;const s=[],a=function(t){return t.stepped?ui:t.tension||"monotone"===t.cubicInterpolationMode?fi:di}(i);let c,l;for(c=0,l=o.length;c<l;++c){const{start:l,end:h}=o[c],d=r[l],u=r[h];if(d===u){s.push(d);continue}const f=a(d,u,Math.abs((n-d[e])/(u[e]-d[e])),i.stepped);f[e]=t[e],s.push(f)}return 1===s.length?s[0]:s}pathSegment(t,e,i){return Hr(this)(t,this,e,i)}path(t,e,i){const n=this.segments,r=Hr(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const s of n)o&=r(t,this,s,{start:e,end:e+i-1});return!!o}draw(t,e,i,n){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),zr(t,this,i,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function jr(t,e,i,n){const r=t.options,{[i]:o}=t.getProps([i],n);return Math.abs(e-o)<r.radius+r.hitRadius}function Wr(t,e){const{x:i,y:n,base:r,width:o,height:s}=t.getProps(["x","y","base","width","height"],e);let a,c,l,h,d;return t.horizontal?(d=s/2,a=Math.min(i,r),c=Math.max(i,r),l=n-d,h=n+d):(d=o/2,a=i-d,c=i+d,l=Math.min(n,r),h=Math.max(n,r)),{left:a,top:l,right:c,bottom:h}}function Yr(t,e,i,n){return t?0:Tt(e,i,n)}function Gr(t){const e=Wr(t),i=e.right-e.left,n=e.bottom-e.top,r=function(t,e,i){const n=t.options.borderWidth,r=t.borderSkipped,o=Ie(n);return{t:Yr(r.top,o.top,0,i),r:Yr(r.right,o.right,0,e),b:Yr(r.bottom,o.bottom,0,i),l:Yr(r.left,o.left,0,e)}}(t,i/2,n/2),o=function(t,e,i){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,o=xe(r),s=Math.min(e,i),a=t.borderSkipped,c=n||V(r);return{topLeft:Yr(!c||a.top||a.left,o.topLeft,0,s),topRight:Yr(!c||a.top||a.right,o.topRight,0,s),bottomLeft:Yr(!c||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Yr(!c||a.bottom||a.right,o.bottomRight,0,s)}}(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:i-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Xr(t,e,i,n){const r=null===e,o=null===i,s=t&&!(r&&o)&&Wr(t,n);return s&&(r||Mt(e,s.left,s.right))&&(o||Mt(i,s.top,s.bottom))}function Zr(t,e){t.rect(e.x,e.y,e.w,e.h)}function qr(t,e,i={}){const n=t.x!==i.x?-e:0,r=t.y!==i.y?-e:0,o=(t.x+t.w!==i.x+i.w?e:0)-n,s=(t.y+t.h!==i.y+i.h?e:0)-r;return{x:t.x+n,y:t.y+r,w:t.w+o,h:t.h+s,radius:t.radius}}var Qr=Object.freeze({__proto__:null,ArcElement:class extends Un{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const n=this.getProps(["x","y"],i),{angle:r,distance:o}=At(n,{x:t,y:e}),{startAngle:s,endAngle:a,innerRadius:c,outerRadius:l,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=(this.options.spacing+this.options.borderWidth)/2,u=j(h,a-s),f=xt(r,s,a)&&s!==a,g=u>=at||f,p=Mt(o,c+d,l+d);return g&&p}getCenterPoint(t){const{x:e,y:i,startAngle:n,endAngle:r,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:c}=this.options,l=(n+r)/2,h=(o+s+c+a)/2;return{x:e+Math.cos(l)*h,y:i+Math.sin(l)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,n=(e.offset||0)/4,r=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>at?Math.floor(i/at):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const s=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(s)*n,Math.sin(s)*n);const a=n*(1-Math.sin(Math.min(st,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,i,n,r){const{fullCircles:o,startAngle:s,circumference:a}=e;let c=e.endAngle;if(o){Rr(t,e,i,n,c,r);for(let e=0;e<o;++e)t.fill();isNaN(a)||(c=s+(a%at||at))}Rr(t,e,i,n,c,r),t.fill()}(t,this,a,r,o),Nr(t,this,a,r,o),t.restore()}},BarElement:class extends Un{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:n}}=this,{inner:r,outer:o}=Gr(this),s=(a=o.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?ve:Zr;var a;t.save(),o.w===r.w&&o.h===r.h||(t.beginPath(),s(t,qr(o,e,r)),t.clip(),s(t,qr(r,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),s(t,qr(r,e)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,e,i){return Xr(this,t,e,i)}inXRange(t,e){return Xr(this,t,null,e)}inYRange(t,e){return Xr(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:n,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+n)/2:e,y:r?i:(i+n)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:Ur,PointElement:class extends Un{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const n=this.options,{x:r,y:o}=this.getProps(["x","y"],i);return Math.pow(t-r,2)+Math.pow(e-o,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,e){return jr(this,t,"x",e)}inYRange(t,e){return jr(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const i=this.options;this.skip||i.radius<.1||!fe(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,de(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}});const Kr=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],$r=Kr.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function Jr(t){return Kr[t%Kr.length]}function to(t){return $r[t%$r.length]}function eo(t){let e=0;return(i,n)=>{const r=t.getDatasetMeta(n).controller;r instanceof $i?e=function(t,e){return t.backgroundColor=t.data.map((()=>Jr(e++))),e}(i,e):r instanceof Ji?e=function(t,e){return t.backgroundColor=t.data.map((()=>to(e++))),e}(i,e):r&&(e=function(t,e){return t.borderColor=Jr(e),t.backgroundColor=to(e),++e}(i,e))}}function io(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var no={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){if(!i.enabled)return;const{data:{datasets:n},options:r}=t.config,{elements:o}=r,s=io(n)||(a=r)&&(a.borderColor||a.backgroundColor)||o&&io(o)||"rgba(0,0,0,0.1)"!==se.borderColor||"rgba(0,0,0,0.1)"!==se.backgroundColor;var a;if(!i.forceOverride&&s)return;const c=eo(t);n.forEach(c)}};function ro(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function oo(t){t.data.datasets.forEach((t=>{ro(t)}))}var so={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled)return void oo(t);const n=t.width;t.data.datasets.forEach(((e,r)=>{const{_data:o,indexAxis:s}=e,a=t.getDatasetMeta(r),c=o||e.data;if("y"===De([s,t.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const l=t.scales[a.xAxisID];if("linear"!==l.type&&"time"!==l.type)return;if(t.options.parsing)return;let{start:h,count:d}=function(t,e){const i=e.length;let n,r=0;const{iScale:o}=t,{min:s,max:a,minDefined:c,maxDefined:l}=o.getUserBounds();return c&&(r=Tt(Ot(e,o.axis,s).lo,0,i-1)),n=l?Tt(Ot(e,o.axis,a).hi+1,r,i)-r:i-r,{start:r,count:n}}(a,c);if(d<=(i.threshold||4*n))return void ro(e);let u;switch(F(o)&&(e._data=c,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),i.algorithm){case"lttb":u=function(t,e,i,n,r){const o=r.samples||n;if(o>=i)return t.slice(e,e+i);const s=[],a=(i-2)/(o-2);let c=0;const l=e+i-1;let h,d,u,f,g,p=e;for(s[c++]=t[p],h=0;h<o-2;h++){let n,r=0,o=0;const l=Math.floor((h+1)*a)+1+e,m=Math.min(Math.floor((h+2)*a)+1,i)+e,y=m-l;for(n=l;n<m;n++)r+=t[n].x,o+=t[n].y;r/=y,o/=y;const w=Math.floor(h*a)+1+e,_=Math.min(Math.floor((h+1)*a)+1,i)+e,{x:b,y:v}=t[p];for(u=f=-1,n=w;n<_;n++)f=.5*Math.abs((b-r)*(t[n].y-v)-(b-t[n].x)*(o-v)),f>u&&(u=f,d=t[n],g=n);s[c++]=d,p=g}return s[c++]=t[l],s}(c,h,d,n,i);break;case"min-max":u=function(t,e,i,n){let r,o,s,a,c,l,h,d,u,f,g=0,p=0;const m=[],y=e+i-1,w=t[e].x,_=t[y].x-w;for(r=e;r<e+i;++r){o=t[r],s=(o.x-w)/_*n,a=o.y;const e=0|s;if(e===c)a<u?(u=a,l=r):a>f&&(f=a,h=r),g=(p*g+o.x)/++p;else{const i=r-1;if(!F(l)&&!F(h)){const e=Math.min(l,h),n=Math.max(l,h);e!==d&&e!==i&&m.push({...t[e],x:g}),n!==d&&n!==i&&m.push({...t[n],x:g})}r>0&&i!==d&&m.push(t[i]),m.push(o),c=e,p=0,u=f=a,l=h=d=r}}return m}(c,h,d,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}e._decimated=u}))},destroy(t){oo(t)}};function ao(t,e,i,n){if(n)return;let r=e[t],o=i[t];return"angle"===t&&(r=It(r),o=It(o)),{property:t,start:r,end:o}}function co(t,e,i){for(;e>t;e--){const t=i[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function lo(t,e,i,n){return t&&e?n(t[i],e[i]):t?t[i]:e?e[i]:0}function ho(t,e){let i=[],n=!1;return H(t)?(n=!0,i=t):i=function(t,e){const{x:i=null,y:n=null}=t||{},r=e.points,o=[];return e.segments.forEach((({start:t,end:e})=>{e=co(t,e,r);const s=r[t],a=r[e];null!==n?(o.push({x:s.x,y:n}),o.push({x:a.x,y:n})):null!==i&&(o.push({x:i,y:s.y}),o.push({x:i,y:a.y}))})),o}(t,e),i.length?new Ur({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function uo(t){return t&&!1!==t.fill}function fo(t,e,i){let n=t[e].fill;const r=[e];let o;if(!i)return n;for(;!1!==n&&-1===r.indexOf(n);){if(!z(n))return n;if(o=t[n],!o)return!1;if(o.visible)return n;r.push(n),n=o.fill}return!1}function go(t,e,i){const n=function(t){const e=t.options,i=e.fill;let n=j(i&&i.target,i);void 0===n&&(n=!!e.backgroundColor);if(!1===n||null===n)return!1;if(!0===n)return"origin";return n}(t);if(V(n))return!isNaN(n.value)&&n;let r=parseFloat(n);return z(r)&&Math.floor(r)===r?function(t,e,i,n){"-"!==t&&"+"!==t||(i=e+i);if(i===e||i<0||i>=n)return!1;return i}(n[0],e,r,i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function po(t,e,i){const n=[];for(let r=0;r<i.length;r++){const o=i[r],{first:s,last:a,point:c}=mo(o,e,"x");if(!(!c||s&&a))if(s)n.unshift(c);else if(t.push(c),!a)break}t.push(...n)}function mo(t,e,i){const n=t.interpolate(e,i);if(!n)return{};const r=n[i],o=t.segments,s=t.points;let a=!1,c=!1;for(let t=0;t<o.length;t++){const e=o[t],n=s[e.start][i],l=s[e.end][i];if(Mt(r,n,l)){a=r===n,c=r===l;break}}return{first:a,last:c,point:n}}class yo{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:n,y:r,radius:o}=this;return e=e||{start:0,end:at},t.arc(n,r,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:n}=this,r=t.angle;return{x:e+Math.cos(r)*n,y:i+Math.sin(r)*n,angle:r}}}function wo(t){const{chart:e,fill:i,line:n}=t;if(z(i))return function(t,e){const i=t.getDatasetMeta(e),n=i&&t.isDatasetVisible(e);return n?i.dataset:null}(e,i);if("stack"===i)return function(t){const{scale:e,index:i,line:n}=t,r=[],o=n.segments,s=n.points,a=function(t,e){const i=[],n=t.getMatchingVisibleMetas("line");for(let t=0;t<n.length;t++){const r=n[t];if(r.index===e)break;r.hidden||i.unshift(r.dataset)}return i}(e,i);a.push(ho({x:null,y:e.bottom},n));for(let t=0;t<o.length;t++){const e=o[t];for(let t=e.start;t<=e.end;t++)po(r,s[t],a)}return new Ur({points:r,options:{}})}(t);if("shape"===i)return!0;const r=function(t){const e=t.scale||{};if(e.getPointPositionForValue)return function(t){const{scale:e,fill:i}=t,n=e.options,r=e.getLabels().length,o=n.reverse?e.max:e.min,s=function(t,e,i){let n;return n="start"===t?i:"end"===t?e.options.reverse?e.min:e.max:V(t)?t.value:e.getBaseValue(),n}(i,e,o),a=[];if(n.grid.circular){const t=e.getPointPositionForValue(0,o);return new yo({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(s)})}for(let t=0;t<r;++t)a.push(e.getPointPositionForValue(t,s));return a}(t);return function(t){const{scale:e={},fill:i}=t,n=function(t,e){let i=null;return"start"===t?i=e.bottom:"end"===t?i=e.top:V(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i}(i,e);if(z(n)){const t=e.isHorizontal();return{x:t?n:null,y:t?null:n}}return null}(t)}(t);return r instanceof yo?r:ho(r,n)}function _o(t,e,i){const n=wo(e),{chart:r,index:o,line:s,scale:a,axis:c}=e,l=s.options,h=l.fill,d=l.backgroundColor,{above:u=d,below:f=d}=h||{},g=r.getDatasetMeta(o),p=Si(r,g);n&&s.points.length&&(ge(t,i),function(t,e){const{line:i,target:n,above:r,below:o,area:s,scale:a,clip:c}=e,l=i._loop?"angle":e.axis;t.save();let h=o;o!==r&&("x"===l?(bo(t,n,s.top),Eo(t,{line:i,target:n,color:r,scale:a,property:l,clip:c}),t.restore(),t.save(),bo(t,n,s.bottom)):"y"===l&&(vo(t,n,s.left),Eo(t,{line:i,target:n,color:o,scale:a,property:l,clip:c}),t.restore(),t.save(),vo(t,n,s.right),h=r));Eo(t,{line:i,target:n,color:h,scale:a,property:l,clip:c}),t.restore()}(t,{line:s,target:n,above:u,below:f,area:i,scale:a,axis:c,clip:p}),pe(t))}function bo(t,e,i){const{segments:n,points:r}=e;let o=!0,s=!1;t.beginPath();for(const a of n){const{start:n,end:c}=a,l=r[n],h=r[co(n,c,r)];o?(t.moveTo(l.x,l.y),o=!1):(t.lineTo(l.x,i),t.lineTo(l.x,l.y)),s=!!e.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(h.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function vo(t,e,i){const{segments:n,points:r}=e;let o=!0,s=!1;t.beginPath();for(const a of n){const{start:n,end:c}=a,l=r[n],h=r[co(n,c,r)];o?(t.moveTo(l.x,l.y),o=!1):(t.lineTo(i,l.y),t.lineTo(l.x,l.y)),s=!!e.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(i,h.y)}t.lineTo(i,e.first().y),t.closePath(),t.clip()}function Eo(t,e){const{line:i,target:n,property:r,color:o,scale:s,clip:a}=e,c=function(t,e,i){const n=t.segments,r=t.points,o=e.points,s=[];for(const t of n){let{start:n,end:a}=t;a=co(n,a,r);const c=ao(i,r[n],r[a],t.loop);if(!e.segments){s.push({source:t,target:c,start:r[n],end:r[a]});continue}const l=bi(e,c);for(const e of l){const n=ao(i,o[e.start],o[e.end],e.loop),a=_i(t,r,n);for(const t of a)s.push({source:t,target:e,start:{[i]:lo(c,n,"start",Math.max)},end:{[i]:lo(c,n,"end",Math.min)}})}}return s}(i,n,r);for(const{source:e,target:l,start:h,end:d}of c){const{style:{backgroundColor:c=o}={}}=e,u=!0!==n;t.save(),t.fillStyle=c,Ao(t,s,a,u&&ao(r,h,d)),t.beginPath();const f=!!i.pathSegment(t,e);let g;if(u){f?t.closePath():Co(t,n,d,r);const e=!!n.pathSegment(t,l,{move:f,reverse:!0});g=f&&e,g||Co(t,n,h,r)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function Ao(t,e,i,n){const r=e.chart.chartArea,{property:o,start:s,end:a}=n||{};if("x"===o||"y"===o){let e,n,c,l;"x"===o?(e=s,n=r.top,c=a,l=r.bottom):(e=r.left,n=s,c=r.right,l=a),t.beginPath(),i&&(e=Math.max(e,i.left),c=Math.min(c,i.right),n=Math.max(n,i.top),l=Math.min(l,i.bottom)),t.rect(e,n,c-e,l-n),t.clip()}}function Co(t,e,i,n){const r=e.interpolate(i,n);r&&t.lineTo(r.x,r.y)}var So={id:"filler",afterDatasetsUpdate(t,e,i){const n=(t.data.datasets||[]).length,r=[];let o,s,a,c;for(s=0;s<n;++s)o=t.getDatasetMeta(s),a=o.dataset,c=null,a&&a.options&&a instanceof Ur&&(c={visible:t.isDatasetVisible(s),index:s,fill:go(a,s,n),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=c,r.push(c);for(s=0;s<n;++s)c=r[s],c&&!1!==c.fill&&(c.fill=fo(r,s,i.propagate))},beforeDraw(t,e,i){const n="beforeDraw"===i.drawTime,r=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let e=r.length-1;e>=0;--e){const i=r[e].$filler;i&&(i.line.updateControlPoints(o,i.axis),n&&i.fill&&_o(t.ctx,i,o))}},beforeDatasetsDraw(t,e,i){if("beforeDatasetsDraw"!==i.drawTime)return;const n=t.getSortedVisibleDatasetMetas();for(let e=n.length-1;e>=0;--e){const i=n[e].$filler;uo(i)&&_o(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,i){const n=e.meta.$filler;uo(n)&&"beforeDatasetDraw"===i.drawTime&&_o(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Io=(t,e)=>{let{boxHeight:i=e,boxWidth:n=e}=t;return t.usePointStyle&&(i=Math.min(i,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(e,i)}};class xo extends Un{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Y(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,i)=>t.sort(e,i,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,n=Me(i.font),r=n.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:a}=Io(i,r);let c,l;e.font=n.string,this.isHorizontal()?(c=this.maxWidth,l=this._fitRows(o,r,s,a)+10):(l=this.maxHeight,c=this._fitCols(o,n,s,a)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(l,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,n){const{ctx:r,maxWidth:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],c=this.lineWidths=[0],l=n+s;let h=t;r.textAlign="left",r.textBaseline="middle";let d=-1,u=-l;return this.legendItems.forEach(((t,f)=>{const g=i+e/2+r.measureText(t.text).width;(0===f||c[c.length-1]+g+2*s>o)&&(h+=l,c[c.length-(f>0?0:1)]=0,u+=l,d++),a[f]={left:0,top:u,row:d,width:g,height:n},c[c.length-1]+=g+s})),h}_fitCols(t,e,i,n){const{ctx:r,maxHeight:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],c=this.columnSizes=[],l=o-t;let h=s,d=0,u=0,f=0,g=0;return this.legendItems.forEach(((t,o)=>{const{itemWidth:p,itemHeight:m}=function(t,e,i,n,r){const o=function(t,e,i,n){let r=t.text;r&&"string"!=typeof r&&(r=r.reduce(((t,e)=>t.length>e.length?t:e)));return e+i.size/2+n.measureText(r).width}(n,t,e,i),s=function(t,e,i){let n=t;"string"!=typeof e.text&&(n=To(e,i));return n}(r,n,e.lineHeight);return{itemWidth:o,itemHeight:s}}(i,e,r,t,n);o>0&&u+m+2*s>l&&(h+=d+s,c.push({width:d,height:u}),f+=d+s,g++,d=u=0),a[o]={left:f,top:u,col:g,width:p,height:m},d=Math.max(d,p),u+=m+s})),h+=d,c.push({width:d,height:u}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:n},rtl:r}}=this,o=gi(r,this.left,this.width);if(this.isHorizontal()){let r=0,s=Ht(i,this.left+n,this.right-this.lineWidths[r]);for(const a of e)r!==a.row&&(r=a.row,s=Ht(i,this.left+n,this.right-this.lineWidths[r])),a.top+=this.top+t+n,a.left=o.leftForLtr(o.x(s),a.width),s+=a.width+n}else{let r=0,s=Ht(i,this.top+t+n,this.bottom-this.columnSizes[r].height);for(const a of e)a.col!==r&&(r=a.col,s=Ht(i,this.top+t+n,this.bottom-this.columnSizes[r].height)),a.top=s,a.left+=this.left+n,a.left=o.leftForLtr(o.x(a.left),a.width),s+=a.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;ge(t,this),this._draw(),pe(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:n}=this,{align:r,labels:o}=t,s=se.color,a=gi(t.rtl,this.left,this.width),c=Me(o.font),{padding:l}=o,h=c.size,d=h/2;let u;this.drawTitle(),n.textAlign=a.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=c.string;const{boxWidth:f,boxHeight:g,itemHeight:p}=Io(o,h),m=this.isHorizontal(),y=this._computeTitleHeight();u=m?{x:Ht(r,this.left+l,this.right-i[0]),y:this.top+l+y,line:0}:{x:this.left+l,y:Ht(r,this.top+y+l,this.bottom-e[0].height),line:0},pi(this.ctx,t.textDirection);const w=p+l;this.legendItems.forEach(((_,b)=>{n.strokeStyle=_.fontColor,n.fillStyle=_.fontColor;const v=n.measureText(_.text).width,E=a.textAlign(_.textAlign||(_.textAlign=o.textAlign)),A=f+d+v;let C=u.x,S=u.y;a.setWidth(this.width),m?b>0&&C+A+l>this.right&&(S=u.y+=w,u.line++,C=u.x=Ht(r,this.left+l,this.right-i[u.line])):b>0&&S+w>this.bottom&&(C=u.x=C+e[u.line].width+l,u.line++,S=u.y=Ht(r,this.top+y+l,this.bottom-e[u.line].height));if(function(t,e,i){if(isNaN(f)||f<=0||isNaN(g)||g<0)return;n.save();const r=j(i.lineWidth,1);if(n.fillStyle=j(i.fillStyle,s),n.lineCap=j(i.lineCap,"butt"),n.lineDashOffset=j(i.lineDashOffset,0),n.lineJoin=j(i.lineJoin,"miter"),n.lineWidth=r,n.strokeStyle=j(i.strokeStyle,s),n.setLineDash(j(i.lineDash,[])),o.usePointStyle){const s={radius:g*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:r},c=a.xPlus(t,f/2);ue(n,s,c,e+d,o.pointStyleWidth&&f)}else{const o=e+Math.max((h-g)/2,0),s=a.leftForLtr(t,f),c=xe(i.borderRadius);n.beginPath(),Object.values(c).some((t=>0!==t))?ve(n,{x:s,y:o,w:f,h:g,radius:c}):n.rect(s,o,f,g),n.fill(),0!==r&&n.stroke()}n.restore()}(a.x(C),S,_),C=((t,e,i,n)=>t===(n?"left":"right")?i:"center"===t?(e+i)/2:e)(E,C+f+d,m?C+A:this.right,t.rtl),function(t,e,i){be(n,i.text,t,e+p/2,c,{strikethrough:i.hidden,textAlign:a.textAlign(i.textAlign)})}(a.x(C),S,_),m)u.x+=A+l;else if("string"!=typeof _.text){const t=c.lineHeight;u.y+=To(_,t)+l}else u.y+=w})),mi(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Me(e.font),n=Te(e.padding);if(!e.display)return;const r=gi(t.rtl,this.left,this.width),o=this.ctx,s=e.position,a=i.size/2,c=n.top+a;let l,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),l=this.top+c,h=Ht(t.align,h,this.right-d);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);l=c+Ht(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const u=Ht(s,h,h+d);o.textAlign=r.textAlign(Ft(s)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,be(o,e.text,u,l,i)}_computeTitleHeight(){const t=this.options.title,e=Me(t.font),i=Te(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,n,r;if(Mt(t,this.left,this.right)&&Mt(e,this.top,this.bottom))for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(n=r[i],Mt(t,n.left,n.left+n.width)&&Mt(e,n.top,n.top+n.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const o=this._hoveredItem,s=(r=i,null!==(n=o)&&null!==r&&n.datasetIndex===r.datasetIndex&&n.index===r.index);o&&!s&&Y(e.onLeave,[t,o,this],this),this._hoveredItem=i,i&&!s&&Y(e.onHover,[t,i,this],this)}else i&&Y(e.onClick,[t,i,this],this);var n,r}}function To(t,e){return e*(t.text?t.text.length:0)}var Mo={id:"legend",_element:xo,start(t,e,i){const n=t.legend=new xo({ctx:t.ctx,options:i,chart:t});Cn.configure(t,n,i),Cn.addBox(t,n)},stop(t){Cn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const n=t.legend;Cn.configure(t,n,i),n.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const n=e.datasetIndex,r=i.chart;r.isDatasetVisible(n)?(r.hide(n),e.hidden=!0):(r.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const c=t.controller.getStyle(i?0:void 0),l=Te(c.borderWidth);return{text:e[t.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Do extends Un{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const n=H(i.text)?i.text.length:1;this._padding=Te(i.padding);const r=n*Me(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:n,right:r,options:o}=this,s=o.align;let a,c,l,h=0;return this.isHorizontal()?(c=Ht(s,i,r),l=e+t,a=r-i):("left"===o.position?(c=i+t,l=Ht(s,n,e),h=-.5*st):(c=r-t,l=Ht(s,e,n),h=.5*st),a=n-e),{titleX:c,titleY:l,maxWidth:a,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Me(e.font),n=i.lineHeight/2+this._padding.top,{titleX:r,titleY:o,maxWidth:s,rotation:a}=this._drawArgs(n);be(t,e.text,0,0,i,{color:e.color,maxWidth:s,rotation:a,textAlign:Ft(e.align),textBaseline:"middle",translation:[r,o]})}}var Oo={id:"title",_element:Do,start(t,e,i){!function(t,e){const i=new Do({ctx:t.ctx,options:e,chart:t});Cn.configure(t,i,e),Cn.addBox(t,i),t.titleBlock=i}(t,i)},stop(t){const e=t.titleBlock;Cn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const n=t.titleBlock;Cn.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ro=new WeakMap;var No={id:"subtitle",start(t,e,i){const n=new Do({ctx:t.ctx,options:i,chart:t});Cn.configure(t,n,i),Cn.addBox(t,n),Ro.set(t,n)},stop(t){Cn.removeBox(t,Ro.get(t)),Ro.delete(t)},beforeUpdate(t,e,i){const n=Ro.get(t);Cn.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ko={average(t){if(!t.length)return!1;let e,i,n=new Set,r=0,o=0;for(e=0,i=t.length;e<i;++e){const i=t[e].element;if(i&&i.hasValue()){const t=i.tooltipPosition();n.add(t.x),r+=t.y,++o}}if(0===o||0===n.size)return!1;return{x:[...n].reduce(((t,e)=>t+e))/n.size,y:r/o}},nearest(t,e){if(!t.length)return!1;let i,n,r,o=e.x,s=e.y,a=Number.POSITIVE_INFINITY;for(i=0,n=t.length;i<n;++i){const n=t[i].element;if(n&&n.hasValue()){const t=Ct(e,n.getCenterPoint());t<a&&(a=t,r=n)}}if(r){const t=r.tooltipPosition();o=t.x,s=t.y}return{x:o,y:s}}};function Lo(t,e){return e&&(H(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Po(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Bo(t,e){const{element:i,datasetIndex:n,index:r}=e,o=t.getDatasetMeta(n).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:t,label:s,parsed:o.getParsed(r),raw:t.data.datasets[n].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:n,element:i}}function Fo(t,e){const i=t.chart.ctx,{body:n,footer:r,title:o}=t,{boxWidth:s,boxHeight:a}=e,c=Me(e.bodyFont),l=Me(e.titleFont),h=Me(e.footerFont),d=o.length,u=r.length,f=n.length,g=Te(e.padding);let p=g.height,m=0,y=n.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(y+=t.beforeBody.length+t.afterBody.length,d&&(p+=d*l.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){p+=f*(e.displayColors?Math.max(a,c.lineHeight):c.lineHeight)+(y-f)*c.lineHeight+(y-1)*e.bodySpacing}u&&(p+=e.footerMarginTop+u*h.lineHeight+(u-1)*e.footerSpacing);let w=0;const _=function(t){m=Math.max(m,i.measureText(t).width+w)};return i.save(),i.font=l.string,G(t.title,_),i.font=c.string,G(t.beforeBody.concat(t.afterBody),_),w=e.displayColors?s+2+e.boxPadding:0,G(n,(t=>{G(t.before,_),G(t.lines,_),G(t.after,_)})),w=0,i.font=h.string,G(t.footer,_),i.restore(),m+=g.width,{width:m,height:p}}function Ho(t,e,i,n){const{x:r,width:o}=i,{width:s,chartArea:{left:a,right:c}}=t;let l="center";return"center"===n?l=r<=(a+c)/2?"left":"right":r<=o/2?l="left":r>=s-o/2&&(l="right"),function(t,e,i,n){const{x:r,width:o}=n,s=i.caretSize+i.caretPadding;return"left"===t&&r+o+s>e.width||"right"===t&&r-o-s<0||void 0}(l,t,e,i)&&(l="center"),l}function Vo(t,e,i){const n=i.yAlign||e.yAlign||function(t,e){const{y:i,height:n}=e;return i<n/2?"top":i>t.height-n/2?"bottom":"center"}(t,i);return{xAlign:i.xAlign||e.xAlign||Ho(t,e,i,n),yAlign:n}}function zo(t,e,i,n){const{caretSize:r,caretPadding:o,cornerRadius:s}=t,{xAlign:a,yAlign:c}=i,l=r+o,{topLeft:h,topRight:d,bottomLeft:u,bottomRight:f}=xe(s);let g=function(t,e){let{x:i,width:n}=t;return"right"===e?i-=n:"center"===e&&(i-=n/2),i}(e,a);const p=function(t,e,i){let{y:n,height:r}=t;return"top"===e?n+=i:n-="bottom"===e?r+i:r/2,n}(e,c,l);return"center"===c?"left"===a?g+=l:"right"===a&&(g-=l):"left"===a?g-=Math.max(h,u)+r:"right"===a&&(g+=Math.max(d,f)+r),{x:Tt(g,0,n.width-e.width),y:Tt(p,0,n.height-e.height)}}function Uo(t,e,i){const n=Te(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-n.right:t.x+n.left}function jo(t){return Lo([],Po(t))}function Wo(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}const Yo={beforeTitle:P,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,n=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return i[e.dataIndex]}return""},afterTitle:P,beforeBody:P,beforeLabel:P,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const i=t.formattedValue;return F(i)||(e+=i),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:P,afterBody:P,beforeFooter:P,footer:P,afterFooter:P};function Go(t,e,i,n){const r=t[e].call(i,n);return void 0===r?Yo[e].call(i,n):r}class Xo extends Un{static positioners=ko;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&e.options.animation&&i.animations,r=new Oi(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,i=this._tooltipItems,Oe(t,{tooltip:e,tooltipItems:i,type:"tooltip"})));var t,e,i}getTitle(t,e){const{callbacks:i}=e,n=Go(i,"beforeTitle",this,t),r=Go(i,"title",this,t),o=Go(i,"afterTitle",this,t);let s=[];return s=Lo(s,Po(n)),s=Lo(s,Po(r)),s=Lo(s,Po(o)),s}getBeforeBody(t,e){return jo(Go(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,n=[];return G(t,(t=>{const e={before:[],lines:[],after:[]},r=Wo(i,t);Lo(e.before,Po(Go(r,"beforeLabel",this,t))),Lo(e.lines,Go(r,"label",this,t)),Lo(e.after,Po(Go(r,"afterLabel",this,t))),n.push(e)})),n}getAfterBody(t,e){return jo(Go(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,n=Go(i,"beforeFooter",this,t),r=Go(i,"footer",this,t),o=Go(i,"afterFooter",this,t);let s=[];return s=Lo(s,Po(n)),s=Lo(s,Po(r)),s=Lo(s,Po(o)),s}_createItems(t){const e=this._active,i=this.chart.data,n=[],r=[],o=[];let s,a,c=[];for(s=0,a=e.length;s<a;++s)c.push(Bo(this.chart,e[s]));return t.filter&&(c=c.filter(((e,n,r)=>t.filter(e,n,r,i)))),t.itemSort&&(c=c.sort(((e,n)=>t.itemSort(e,n,i)))),G(c,(e=>{const i=Wo(t.callbacks,e);n.push(Go(i,"labelColor",this,e)),r.push(Go(i,"labelPointStyle",this,e)),o.push(Go(i,"labelTextColor",this,e))})),this.labelColors=n,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=c,c}update(t,e){const i=this.options.setContext(this.getContext()),n=this._active;let r,o=[];if(n.length){const t=ko[i.position].call(this,n,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const e=this._size=Fo(this,i),s=Object.assign({},t,e),a=Vo(this.chart,i,s),c=zo(i,s,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:c.x,y:c.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,n){const r=this.getCaretPosition(t,i,n);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,i){const{xAlign:n,yAlign:r}=this,{caretSize:o,cornerRadius:s}=i,{topLeft:a,topRight:c,bottomLeft:l,bottomRight:h}=xe(s),{x:d,y:u}=t,{width:f,height:g}=e;let p,m,y,w,_,b;return"center"===r?(_=u+g/2,"left"===n?(p=d,m=p-o,w=_+o,b=_-o):(p=d+f,m=p+o,w=_-o,b=_+o),y=p):(m="left"===n?d+Math.max(a,l)+o:"right"===n?d+f-Math.max(c,h)-o:this.caretX,"top"===r?(w=u,_=w-o,p=m-o,y=m+o):(w=u+g,_=w+o,p=m+o,y=m-o),b=w),{x1:p,x2:m,x3:y,y1:w,y2:_,y3:b}}drawTitle(t,e,i){const n=this.title,r=n.length;let o,s,a;if(r){const c=gi(i.rtl,this.x,this.width);for(t.x=Uo(this,i.titleAlign,i),e.textAlign=c.textAlign(i.titleAlign),e.textBaseline="middle",o=Me(i.titleFont),s=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,a=0;a<r;++a)e.fillText(n[a],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s,a+1===r&&(t.y+=i.titleMarginBottom-s)}}_drawColorBox(t,e,i,n,r){const o=this.labelColors[i],s=this.labelPointStyles[i],{boxHeight:a,boxWidth:c}=r,l=Me(r.bodyFont),h=Uo(this,"left",r),d=n.x(h),u=a<l.lineHeight?(l.lineHeight-a)/2:0,f=e.y+u;if(r.usePointStyle){const e={radius:Math.min(c,a)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},i=n.leftForLtr(d,c)+c/2,l=f+a/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,de(t,e,i,l),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,de(t,e,i,l)}else{t.lineWidth=V(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const e=n.leftForLtr(d,c),i=n.leftForLtr(n.xPlus(d,1),c-2),s=xe(o.borderRadius);Object.values(s).some((t=>0!==t))?(t.beginPath(),t.fillStyle=r.multiKeyBackground,ve(t,{x:e,y:f,w:c,h:a,radius:s}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),ve(t,{x:i,y:f+1,w:c-2,h:a-2,radius:s}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,f,c,a),t.strokeRect(e,f,c,a),t.fillStyle=o.backgroundColor,t.fillRect(i,f+1,c-2,a-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:n}=this,{bodySpacing:r,bodyAlign:o,displayColors:s,boxHeight:a,boxWidth:c,boxPadding:l}=i,h=Me(i.bodyFont);let d=h.lineHeight,u=0;const f=gi(i.rtl,this.x,this.width),g=function(i){e.fillText(i,f.x(t.x+u),t.y+d/2),t.y+=d+r},p=f.textAlign(o);let m,y,w,_,b,v,E;for(e.textAlign=o,e.textBaseline="middle",e.font=h.string,t.x=Uo(this,p,i),e.fillStyle=i.bodyColor,G(this.beforeBody,g),u=s&&"right"!==p?"center"===o?c/2+l:c+2+l:0,_=0,v=n.length;_<v;++_){for(m=n[_],y=this.labelTextColors[_],e.fillStyle=y,G(m.before,g),w=m.lines,s&&w.length&&(this._drawColorBox(e,t,_,f,i),d=Math.max(h.lineHeight,a)),b=0,E=w.length;b<E;++b)g(w[b]),d=h.lineHeight;G(m.after,g)}u=0,d=h.lineHeight,G(this.afterBody,g),t.y-=r}drawFooter(t,e,i){const n=this.footer,r=n.length;let o,s;if(r){const a=gi(i.rtl,this.x,this.width);for(t.x=Uo(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=a.textAlign(i.footerAlign),e.textBaseline="middle",o=Me(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,s=0;s<r;++s)e.fillText(n[s],a.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,n){const{xAlign:r,yAlign:o}=this,{x:s,y:a}=t,{width:c,height:l}=i,{topLeft:h,topRight:d,bottomLeft:u,bottomRight:f}=xe(n.cornerRadius);e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.beginPath(),e.moveTo(s+h,a),"top"===o&&this.drawCaret(t,e,i,n),e.lineTo(s+c-d,a),e.quadraticCurveTo(s+c,a,s+c,a+d),"center"===o&&"right"===r&&this.drawCaret(t,e,i,n),e.lineTo(s+c,a+l-f),e.quadraticCurveTo(s+c,a+l,s+c-f,a+l),"bottom"===o&&this.drawCaret(t,e,i,n),e.lineTo(s+u,a+l),e.quadraticCurveTo(s,a+l,s,a+l-u),"center"===o&&"left"===r&&this.drawCaret(t,e,i,n),e.lineTo(s,a+h),e.quadraticCurveTo(s,a,s+h,a),e.closePath(),e.fill(),n.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,n=i&&i.x,r=i&&i.y;if(n||r){const i=ko[t.position].call(this,this._active,this._eventPosition);if(!i)return;const o=this._size=Fo(this,t),s=Object.assign({},i,this._size),a=Vo(e,t,s),c=zo(t,s,a,e);n._to===c.x&&r._to===c.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=o.width,this.height=o.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const n={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Te(e.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&s&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,n,e),pi(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),mi(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,n=t.map((({datasetIndex:t,index:e})=>{const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[e],index:e}})),r=!X(i,n),o=this._positionChanged(n,e);(r||o)&&(this._active=n,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,i),s=this._positionChanged(o,t),a=e||!X(o,r)||s;return a&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,i,n){const r=this.options;if("mouseout"===t.type)return[];if(!n)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:n,options:r}=this,o=ko[r.position].call(this,t,e);return!1!==o&&(i!==o.x||n!==o.y)}}var Zo={id:"tooltip",_element:Xo,positioners:ko,afterInit(t,e,i){i&&(t.tooltip=new Xo({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const i={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Yo},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},qo=Object.freeze({__proto__:null,Colors:no,Decimation:so,Filler:So,Legend:Mo,SubTitle:No,Title:Oo,Tooltip:Zo});function Qo(t,e,i,n){const r=t.indexOf(e);if(-1===r)return((t,e,i,n)=>("string"==typeof e?(i=t.push(e)-1,n.unshift({index:i,label:e})):isNaN(e)&&(i=null),i))(t,e,i,n);return r!==t.lastIndexOf(e)?i:r}function Ko(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}function $o(t,e){const i=[],{bounds:n,step:r,min:o,max:s,precision:a,count:c,maxTicks:l,maxDigits:h,includeBounds:d}=t,u=r||1,f=l-1,{min:g,max:p}=e,m=!F(o),y=!F(s),w=!F(c),_=(p-g)/(h+1);let b,v,E,A,C=yt((p-g)/f/u)*u;if(C<1e-14&&!m&&!y)return[{value:g},{value:p}];A=Math.ceil(p/C)-Math.floor(g/C),A>f&&(C=yt(A*C/f/u)*u),F(a)||(b=Math.pow(10,a),C=Math.ceil(C*b)/b),"ticks"===n?(v=Math.floor(g/C)*C,E=Math.ceil(p/C)*C):(v=g,E=p),m&&y&&r&&function(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}((s-o)/r,C/1e3)?(A=Math.round(Math.min((s-o)/C,l)),C=(s-o)/A,v=o,E=s):w?(v=m?o:v,E=y?s:E,A=c-1,C=(E-v)/A):(A=(E-v)/C,A=mt(A,Math.round(A),C/1e3)?Math.round(A):Math.ceil(A));const S=Math.max(Et(C),Et(v));b=Math.pow(10,F(a)?S:a),v=Math.round(v*b)/b,E=Math.round(E*b)/b;let I=0;for(m&&(d&&v!==o?(i.push({value:o}),v<o&&I++,mt(Math.round((v+I*C)*b)/b,o,Jo(o,_,t))&&I++):v<o&&I++);I<A;++I){const t=Math.round((v+I*C)*b)/b;if(y&&t>s)break;i.push({value:t})}return y&&d&&E!==s?i.length&&mt(i[i.length-1].value,s,Jo(s,_,t))?i[i.length-1].value=s:i.push({value:s}):y&&E!==s||i.push({value:E}),i}function Jo(t,e,{horizontal:i,minRotation:n}){const r=bt(n),o=(i?Math.sin(r):Math.cos(r))||.001,s=.75*e*(""+t).length;return Math.min(e/o,s)}class ts extends $n{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return F(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:n,max:r}=this;const o=t=>n=e?n:t,s=t=>r=i?r:t;if(t){const t=pt(n),e=pt(r);t<0&&e<0?s(0):t>0&&e>0&&o(0)}if(n===r){let e=0===r?1:Math.abs(.05*r);s(r+e),t||o(n-e)}this.min=n,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:i,stepSize:n}=t;return n?(e=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n=$o({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&_t(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const n=(i-e)/Math.max(t.length-1,1)/2;e-=n,i+=n}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return $t(t,this.chart.options.locale,this.options.ticks.format)}}class es extends ts{static id="linear";static defaults={ticks:{callback:te.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=z(t)?t:0,this.max=z(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=bt(this.options.ticks.minRotation),n=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/n))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const is=t=>Math.floor(gt(t)),ns=(t,e)=>Math.pow(10,is(t)+e);function rs(t){return 1===t/Math.pow(10,is(t))}function os(t,e,i){const n=Math.pow(10,i),r=Math.floor(t/n);return Math.ceil(e/n)-r}function ss(t,{min:e,max:i}){e=U(t.min,e);const n=[],r=is(e);let o=function(t,e){let i=is(e-t);for(;os(t,e,i)>10;)i++;for(;os(t,e,i)<10;)i--;return Math.min(i,is(t))}(e,i),s=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),c=r>o?Math.pow(10,r):0,l=Math.round((e-c)*s)/s,h=Math.floor((e-c)/a/10)*a*10;let d=Math.floor((l-h)/Math.pow(10,o)),u=U(t.min,Math.round((c+h+d*Math.pow(10,o))*s)/s);for(;u<i;)n.push({value:u,major:rs(u),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,s=o>=0?1:s),u=Math.round((c+h+d*Math.pow(10,o))*s)/s;const f=U(t.max,u);return n.push({value:f,major:rs(f),significand:d}),n}class as extends $n{static id="logarithmic";static defaults={ticks:{callback:te.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=ts.prototype.parse.apply(this,[t,e]);if(0!==i)return z(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=z(t)?Math.max(0,t):null,this.max=z(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!z(this._userMin)&&(this.min=t===ns(this.min,0)?ns(this.min,-1):ns(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,n=this.max;const r=e=>i=t?i:e,o=t=>n=e?n:t;i===n&&(i<=0?(r(1),o(10)):(r(ns(i,-1)),o(ns(n,1)))),i<=0&&r(ns(n,-1)),n<=0&&o(ns(i,1)),this.min=i,this.max=n}buildTicks(){const t=this.options,e=ss({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&_t(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":$t(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=gt(t),this._valueRange=gt(this.max)-gt(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(gt(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function cs(t){const e=t.ticks;if(e.display&&t.display){const t=Te(e.backdropPadding);return j(e.font&&e.font.size,se.font.size)+t.height}return 0}function ls(t,e,i,n,r){return t===n||t===r?{start:e-i/2,end:e+i/2}:t<n||t>r?{start:e-i,end:e}:{start:e,end:e+i}}function hs(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),n=[],r=[],o=t._pointLabels.length,s=t.options.pointLabels,a=s.centerPointLabels?st/o:0;for(let d=0;d<o;d++){const o=s.setContext(t.getPointLabelContext(d));r[d]=o.padding;const u=t.getPointPosition(d,t.drawingArea+r[d],a),f=Me(o.font),g=(c=t.ctx,l=f,h=H(h=t._pointLabels[d])?h:[h],{w:ce(c,l.string,h),h:h.length*l.lineHeight});n[d]=g;const p=It(t.getIndexAngle(d)+a),m=Math.round(vt(p));ds(i,e,p,ls(m,u.x,g.w,0,180),ls(m,u.y,g.h,90,270))}var c,l,h;t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=function(t,e,i){const n=[],r=t._pointLabels.length,o=t.options,{centerPointLabels:s,display:a}=o.pointLabels,c={extra:cs(o)/2,additionalAngle:s?st/r:0};let l;for(let o=0;o<r;o++){c.padding=i[o],c.size=e[o];const r=us(t,o,c);n.push(r),"auto"===a&&(r.visible=fs(r,l),r.visible&&(l=r))}return n}(t,n,r)}function ds(t,e,i,n,r){const o=Math.abs(Math.sin(i)),s=Math.abs(Math.cos(i));let a=0,c=0;n.start<e.l?(a=(e.l-n.start)/o,t.l=Math.min(t.l,e.l-a)):n.end>e.r&&(a=(n.end-e.r)/o,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(c=(e.t-r.start)/s,t.t=Math.min(t.t,e.t-c)):r.end>e.b&&(c=(r.end-e.b)/s,t.b=Math.max(t.b,e.b+c))}function us(t,e,i){const n=t.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=i,c=t.getPointPosition(e,n+r+s,o),l=Math.round(vt(It(c.angle+dt))),h=function(t,e,i){90===i||270===i?t-=e/2:(i>270||i<90)&&(t-=e);return t}(c.y,a.h,l),d=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(l),u=function(t,e,i){"right"===i?t-=e:"center"===i&&(t-=e/2);return t}(c.x,a.w,d);return{visible:!0,x:c.x,y:h,textAlign:d,left:u,top:h,right:u+a.w,bottom:h+a.h}}function fs(t,e){if(!e)return!0;const{left:i,top:n,right:r,bottom:o}=t;return!(fe({x:i,y:n},e)||fe({x:i,y:o},e)||fe({x:r,y:n},e)||fe({x:r,y:o},e))}function gs(t,e,i){const{left:n,top:r,right:o,bottom:s}=i,{backdropColor:a}=e;if(!F(a)){const i=xe(e.borderRadius),c=Te(e.backdropPadding);t.fillStyle=a;const l=n-c.left,h=r-c.top,d=o-n+c.width,u=s-r+c.height;Object.values(i).some((t=>0!==t))?(t.beginPath(),ve(t,{x:l,y:h,w:d,h:u,radius:i}),t.fill()):t.fillRect(l,h,d,u)}}function ps(t,e,i,n){const{ctx:r}=t;if(i)r.arc(t.xCenter,t.yCenter,e,0,at);else{let i=t.getPointPosition(0,e);r.moveTo(i.x,i.y);for(let o=1;o<n;o++)i=t.getPointPosition(o,e),r.lineTo(i.x,i.y)}}class ms extends ts{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:te.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Te(cs(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=z(t)&&!isNaN(t)?t:0,this.max=z(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/cs(this.options))}generateTickLabels(t){ts.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const i=Y(this.options.pointLabels.callback,[t,e],this);return i||0===i?i:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?hs(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,n){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,n))}getIndexAngle(t){return It(t*(at/(this._pointLabels.length||1))+bt(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(F(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(F(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function(t,e,i){return Oe(t,{label:i,index:e,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const n=this.getIndexAngle(t)-dt+i;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:n,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:n,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),ps(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:n,border:r}=e,o=this._pointLabels.length;let s,a,c;if(e.pointLabels.display&&function(t,e){const{ctx:i,options:{pointLabels:n}}=t;for(let r=e-1;r>=0;r--){const e=t._pointLabelItems[r];if(!e.visible)continue;const o=n.setContext(t.getPointLabelContext(r));gs(i,o,e);const s=Me(o.font),{x:a,y:c,textAlign:l}=e;be(i,t._pointLabels[r],a,c+s.lineHeight/2,s,{color:o.color,textAlign:l,textBaseline:"middle"})}}(this,o),n.display&&this.ticks.forEach(((t,e)=>{if(0!==e||0===e&&this.min<0){a=this.getDistanceFromCenterForValue(t.value);const i=this.getContext(e),s=n.setContext(i),c=r.setContext(i);!function(t,e,i,n,r){const o=t.ctx,s=e.circular,{color:a,lineWidth:c}=e;!s&&!n||!a||!c||i<0||(o.save(),o.strokeStyle=a,o.lineWidth=c,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),ps(t,i,s,n),o.closePath(),o.stroke(),o.restore())}(this,s,a,o,c)}})),i.display){for(t.save(),s=o-1;s>=0;s--){const n=i.setContext(this.getPointLabelContext(s)),{color:r,lineWidth:o}=n;o&&r&&(t.lineWidth=o,t.strokeStyle=r,t.setLineDash(n.borderDash),t.lineDashOffset=n.borderDashOffset,a=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(s,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const n=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((n,s)=>{if(0===s&&this.min>=0&&!e.reverse)return;const a=i.setContext(this.getContext(s)),c=Me(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[s].value),a.showLabelBackdrop){t.font=c.string,o=t.measureText(n.label).width,t.fillStyle=a.backdropColor;const e=Te(a.backdropPadding);t.fillRect(-o/2-e.left,-r-c.size/2-e.top,o+e.width,c.size+e.height)}be(t,n.label,0,-r,c,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),t.restore()}drawTitle(){}}const ys={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ws=Object.keys(ys);function _s(t,e){return t-e}function bs(t,e){if(F(e))return null;const i=t._adapter,{parser:n,round:r,isoWeekday:o}=t._parseOpts;let s=e;return"function"==typeof n&&(s=n(s)),z(s)||(s="string"==typeof n?i.parse(s,n):i.parse(s)),null===s?null:(r&&(s="week"!==r||!wt(o)&&!0!==o?i.startOf(s,r):i.startOf(s,"isoWeek",o)),+s)}function vs(t,e,i,n){const r=ws.length;for(let o=ws.indexOf(t);o<r-1;++o){const t=ys[ws[o]],r=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((i-e)/(r*t.size))<=n)return ws[o]}return ws[r-1]}function Es(t,e,i){if(i){if(i.length){const{lo:n,hi:r}=Dt(i,e);t[i[n]>=e?i[n]:i[r]]=!0}}else t[e]=!0}function As(t,e,i){const n=[],r={},o=e.length;let s,a;for(s=0;s<o;++s)a=e[s],r[a]=s,n.push({value:a,major:!1});return 0!==o&&i?function(t,e,i,n){const r=t._adapter,o=+r.startOf(e[0].value,n),s=e[e.length-1].value;let a,c;for(a=o;a<=s;a=+r.add(a,1,n))c=i[a],c>=0&&(e[c].major=!0);return e}(t,n,r,i):n}class Cs extends $n{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),n=this._adapter=new rn(t.adapters.date);n.init(e),$(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:bs(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:n,max:r,minDefined:o,maxDefined:s}=this.getUserBounds();function a(t){o||isNaN(t.min)||(n=Math.min(n,t.min)),s||isNaN(t.max)||(r=Math.max(r,t.max))}o&&s||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),n=z(n)&&!isNaN(n)?n:+e.startOf(Date.now(),i),r=z(r)&&!isNaN(r)?r:+e.endOf(Date.now(),i)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,n="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const r=this.min,o=function(t,e,i){let n=0,r=t.length;for(;n<r&&t[n]<e;)n++;for(;r>n&&t[r-1]>i;)r--;return n>0||r<t.length?t.slice(n,r):t}(n,r,this.max);return this._unit=e.unit||(i.autoSkip?vs(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(t,e,i,n,r){for(let o=ws.length-1;o>=ws.indexOf(i);o--){const i=ws[o];if(ys[i].common&&t._adapter.diff(r,n,i)>=e-1)return i}return ws[i?ws.indexOf(i):0]}(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(t){for(let e=ws.indexOf(t)+1,i=ws.length;e<i;++e)if(ys[ws[e]].common)return ws[e]}(this._unit):void 0,this.initOffsets(n),t.reverse&&o.reverse(),As(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t=[]){let e,i,n=0,r=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),n=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,i=this.getDecimalForValue(t[t.length-1]),r=1===t.length?i:(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Tt(n,0,o),r=Tt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,e=this.min,i=this.max,n=this.options,r=n.time,o=r.unit||vs(r.minUnit,e,i,this._getLabelCapacity(e)),s=j(n.ticks.stepSize,1),a="week"===o&&r.isoWeekday,c=wt(a)||!0===a,l={};let h,d,u=e;if(c&&(u=+t.startOf(u,"isoWeek",a)),u=+t.startOf(u,c?"day":o),t.diff(i,e,o)>1e5*s)throw new Error(e+" and "+i+" are too far apart with stepSize of "+s+" "+o);const f="data"===n.ticks.source&&this.getDataTimestamps();for(h=u,d=0;h<i;h=+t.add(h,s,o),d++)Es(l,h,f);return h!==i&&"ticks"!==n.bounds&&1!==d||Es(l,h,f),Object.keys(l).sort(_s).map((t=>+t))}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,n=this._unit,r=e||i[n];return this._adapter.format(t,r)}_tickFormatFunction(t,e,i,n){const r=this.options,o=r.ticks.callback;if(o)return Y(o,[t,e,i],this);const s=r.time.displayFormats,a=this._unit,c=this._majorUnit,l=a&&s[a],h=c&&s[c],d=i[e],u=c&&h&&d&&d.major;return this._adapter.format(t,n||(u?h:l))}generateTickLabels(t){let e,i,n;for(e=0,i=t.length;e<i;++e)n=t[e],n.label=this._tickFormatFunction(n.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,n=bt(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(n),o=Math.sin(n),s=this._resolveTickFontOptions(0).size;return{w:i*r+s*o,h:i*o+s*r}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,n=i[e.unit]||i.millisecond,r=this._tickFormatFunction(t,0,As(this,[t],this._majorUnit),n),o=this._getLabelSize(r),s=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return s>0?s:1}getDataTimestamps(){let t,e,i=this._cache.data||[];if(i.length)return i;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,e=n.length;t<e;++t)i=i.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const n=this.getLabels();for(e=0,i=n.length;e<i;++e)t.push(bs(this,n[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Lt(t.sort(_s))}}function Ss(t,e,i){let n,r,o,s,a=0,c=t.length-1;i?(e>=t[a].pos&&e<=t[c].pos&&({lo:a,hi:c}=Ot(t,"pos",e)),({pos:n,time:o}=t[a]),({pos:r,time:s}=t[c])):(e>=t[a].time&&e<=t[c].time&&({lo:a,hi:c}=Ot(t,"time",e)),({time:n,pos:o}=t[a]),({time:r,pos:s}=t[c]));const l=r-n;return l?o+(s-o)*(e-n)/l:o}var Is=Object.freeze({__proto__:null,CategoryScale:class extends $n{static id="category";static defaults={ticks:{callback:Ko}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:i,label:n}of e)t[i]===n&&t.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(F(t))return null;const i=this.getLabels();return((t,e)=>null===t?null:Tt(Math.round(t),0,e))(e=isFinite(e)&&i[e]===t?e:Qo(i,t,j(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,n=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=t;i<=e;i++)n.push({value:i});return n}getLabelForValue(t){return Ko.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:es,LogarithmicScale:as,RadialLinearScale:ms,TimeScale:Cs,TimeSeriesScale:class extends Cs{static id="timeseries";static defaults=Cs.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Ss(e,this.min),this._tableRange=Ss(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,n=[],r=[];let o,s,a,c,l;for(o=0,s=t.length;o<s;++o)c=t[o],c>=e&&c<=i&&n.push(c);if(n.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,s=n.length;o<s;++o)l=n[o+1],a=n[o-1],c=n[o],Math.round((l+a)/2)!==c&&r.push({time:c,pos:o/(s-1)});return r}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return i.includes(t)&&i.length||i.splice(0,0,t),i.includes(e)&&1!==i.length||i.push(e),i.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Ss(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Ss(this._table,i*this._tableRange+this._minPos,!0)}}});const xs=[tn,Qr,qo,Is];Tr.register(...xs);const Ts=Tr},6395:t=>{"use strict";t.exports=!1},6469:(t,e,i)=>{"use strict";var n=i(8227),r=i(2360),o=i(4913).f,s=n("unscopables"),a=Array.prototype;void 0===a[s]&&o(a,s,{configurable:!0,value:r(null)}),t.exports=function(t){a[s][t]=!0}},6499:(t,e,i)=>{"use strict";var n=i(6518),r=i(9565),o=i(9306),s=i(6043),a=i(1103),c=i(2652);n({target:"Promise",stat:!0,forced:i(537)},{all:function(t){var e=this,i=s.f(e),n=i.resolve,l=i.reject,h=a((function(){var i=o(e.resolve),s=[],a=0,h=1;c(t,(function(t){var o=a++,c=!1;h++,r(i,e,t).then((function(t){c||(c=!0,s[o]=t,--h||n(s))}),l)})),--h||n(s)}));return h.error&&l(h.value),i.promise}})},6518:(t,e,i)=>{"use strict";var n=i(4576),r=i(7347).f,o=i(6699),s=i(6840),a=i(9433),c=i(7740),l=i(2796);t.exports=function(t,e){var i,h,d,u,f,g=t.target,p=t.global,m=t.stat;if(i=p?n:m?n[g]||a(g,{}):n[g]&&n[g].prototype)for(h in e){if(u=e[h],d=t.dontCallGetSet?(f=r(i,h))&&f.value:i[h],!l(p?h:g+(m?".":"#")+h,t.forced)&&void 0!==d){if(typeof u==typeof d)continue;c(u,d)}(t.sham||d&&d.sham)&&o(u,"sham",!0),s(i,h,u,t)}}},6682:(t,e,i)=>{"use strict";var n=i(9565),r=i(8551),o=i(4901),s=i(2195),a=i(7323),c=TypeError;t.exports=function(t,e){var i=t.exec;if(o(i)){var l=n(i,t,e);return null!==l&&r(l),l}if("RegExp"===s(t))return n(a,t,e);throw new c("RegExp#exec called on incompatible receiver")}},6699:(t,e,i)=>{"use strict";var n=i(3724),r=i(4913),o=i(6980);t.exports=n?function(t,e,i){return r.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},6706:(t,e,i)=>{"use strict";var n=i(9504),r=i(9306);t.exports=function(t,e,i){try{return n(r(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(t){}}},6801:(t,e,i)=>{"use strict";var n=i(3724),r=i(8686),o=i(4913),s=i(8551),a=i(5397),c=i(1072);e.f=n&&!r?Object.defineProperties:function(t,e){s(t);for(var i,n=a(e),r=c(e),l=r.length,h=0;l>h;)o.f(t,i=r[h++],n[i]);return t}},6823:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},6840:(t,e,i)=>{"use strict";var n=i(4901),r=i(4913),o=i(283),s=i(9433);t.exports=function(t,e,i,a){a||(a={});var c=a.enumerable,l=void 0!==a.name?a.name:e;if(n(i)&&o(i,l,a),a.global)c?t[e]=i:s(e,i);else{try{a.unsafe?t[e]&&(c=!0):delete t[e]}catch(t){}c?t[e]=i:r.f(t,e,{value:i,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},6955:(t,e,i)=>{"use strict";var n=i(2140),r=i(4901),o=i(2195),s=i(8227)("toStringTag"),a=Object,c="Arguments"===o(function(){return arguments}());t.exports=n?o:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=a(t),s))?i:c?o(e):"Object"===(n=o(e))&&r(e.callee)?"Arguments":n}},6969:(t,e,i)=>{"use strict";var n=i(2777),r=i(757);t.exports=function(t){var e=n(t,"string");return r(e)?e:e+""}},6980:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7040:(t,e,i)=>{"use strict";var n=i(4495);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:(t,e,i)=>{"use strict";var n=i(9504),r=i(9039),o=i(2195),s=Object,a=n("".split);t.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?a(t,""):s(t)}:s},7323:(t,e,i)=>{"use strict";var n,r,o=i(9565),s=i(9504),a=i(655),c=i(7979),l=i(8429),h=i(5745),d=i(2360),u=i(1181).get,f=i(3635),g=i(8814),p=h("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,y=m,w=s("".charAt),_=s("".indexOf),b=s("".replace),v=s("".slice),E=(r=/b*/g,o(m,n=/a/,"a"),o(m,r,"a"),0!==n.lastIndex||0!==r.lastIndex),A=l.BROKEN_CARET,C=void 0!==/()??/.exec("")[1];(E||C||A||f||g)&&(y=function(t){var e,i,n,r,s,l,h,f=this,g=u(f),S=a(t),I=g.raw;if(I)return I.lastIndex=f.lastIndex,e=o(y,I,S),f.lastIndex=I.lastIndex,e;var x=g.groups,T=A&&f.sticky,M=o(c,f),D=f.source,O=0,R=S;if(T&&(M=b(M,"y",""),-1===_(M,"g")&&(M+="g"),R=v(S,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==w(S,f.lastIndex-1))&&(D="(?: "+D+")",R=" "+R,O++),i=new RegExp("^(?:"+D+")",M)),C&&(i=new RegExp("^"+D+"$(?!\\s)",M)),E&&(n=f.lastIndex),r=o(m,T?i:f,R),T?r?(r.input=v(r.input,O),r[0]=v(r[0],O),r.index=f.lastIndex,f.lastIndex+=r[0].length):f.lastIndex=0:E&&r&&(f.lastIndex=f.global?r.index+r[0].length:n),C&&r&&r.length>1&&o(p,r[0],i,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r&&x)for(r.groups=l=d(null),s=0;s<x.length;s++)l[(h=x[s])[0]]=r[h[1]];return r}),t.exports=y},7347:(t,e,i)=>{"use strict";var n=i(3724),r=i(9565),o=i(8773),s=i(6980),a=i(5397),c=i(6969),l=i(9297),h=i(5917),d=Object.getOwnPropertyDescriptor;e.f=n?d:function(t,e){if(t=a(t),e=c(e),h)try{return d(t,e)}catch(t){}if(l(t,e))return s(!r(o.f,t,e),t[e])}},7400:t=>{"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7433:(t,e,i)=>{"use strict";var n=i(4376),r=i(3517),o=i(34),s=i(8227)("species"),a=Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,(r(e)&&(e===a||n(e.prototype))||o(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?a:e}},7452:t=>{"use strict";t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},7476:(t,e,i)=>{"use strict";var n=i(2195),r=i(9504);t.exports=function(t){if("Function"===n(t))return r(t)}},7495:(t,e,i)=>{"use strict";var n=i(6518),r=i(7323);n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},7588:(t,e,i)=>{"use strict";var n=i(6518),r=i(2652),o=i(9306),s=i(8551),a=i(1767);n({target:"Iterator",proto:!0,real:!0},{forEach:function(t){s(this),o(t);var e=a(this),i=0;r(e,(function(e){t(e,i++)}),{IS_RECORD:!0})}})},7629:(t,e,i)=>{"use strict";var n=i(6395),r=i(4576),o=i(9433),s="__core-js_shared__",a=t.exports=r[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.41.0",mode:n?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7633:(t,e,i)=>{"use strict";var n=i(7751),r=i(2106),o=i(8227),s=i(3724),a=o("species");t.exports=function(t){var e=n(t);s&&e&&!e[a]&&r(e,a,{configurable:!0,get:function(){return this}})}},7657:(t,e,i)=>{"use strict";var n,r,o,s=i(9039),a=i(4901),c=i(34),l=i(2360),h=i(2787),d=i(6840),u=i(8227),f=i(6395),g=u("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(r=h(h(o)))!==Object.prototype&&(n=r):p=!0),!c(n)||s((function(){var t={};return n[g].call(t)!==t}))?n={}:f&&(n=l(n)),a(n[g])||d(n,g,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},7680:(t,e,i)=>{"use strict";var n=i(9504);t.exports=n([].slice)},7740:(t,e,i)=>{"use strict";var n=i(9297),r=i(5031),o=i(7347),s=i(4913);t.exports=function(t,e,i){for(var a=r(e),c=s.f,l=o.f,h=0;h<a.length;h++){var d=a[h];n(t,d)||i&&n(i,d)||c(t,d,l(e,d))}}},7743:(t,e,i)=>{"use strict";var n=i(6518),r=i(9565),o=i(9306),s=i(6043),a=i(1103),c=i(2652);n({target:"Promise",stat:!0,forced:i(537)},{race:function(t){var e=this,i=s.f(e),n=i.reject,l=a((function(){var s=o(e.resolve);c(t,(function(t){r(s,e,t).then(i.resolve,n)}))}));return l.error&&n(l.value),i.promise}})},7750:(t,e,i)=>{"use strict";var n=i(4117),r=TypeError;t.exports=function(t){if(n(t))throw new r("Can't call method on "+t);return t}},7751:(t,e,i)=>{"use strict";var n=i(4576),r=i(4901);t.exports=function(t,e){return arguments.length<2?(i=n[t],r(i)?i:void 0):n[t]&&n[t][e];var i}},7829:(t,e,i)=>{"use strict";var n=i(8183).charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},7860:(t,e,i)=>{"use strict";var n=i(2839);t.exports=/web0s(?!.*chrome)/i.test(n)},7979:(t,e,i)=>{"use strict";var n=i(8551);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},8014:(t,e,i)=>{"use strict";var n=i(1291),r=Math.min;t.exports=function(t){var e=n(t);return e>0?r(e,9007199254740991):0}},8111:(t,e,i)=>{"use strict";var n=i(6518),r=i(4576),o=i(679),s=i(8551),a=i(4901),c=i(2787),l=i(2106),h=i(4659),d=i(9039),u=i(9297),f=i(8227),g=i(7657).IteratorPrototype,p=i(3724),m=i(6395),y="constructor",w="Iterator",_=f("toStringTag"),b=TypeError,v=r[w],E=m||!a(v)||v.prototype!==g||!d((function(){v({})})),A=function(){if(o(this,g),c(this)===g)throw new b("Abstract class Iterator not directly constructable")},C=function(t,e){p?l(g,t,{configurable:!0,get:function(){return e},set:function(e){if(s(this),this===g)throw new b("You can't redefine this property");u(this,t)?this[t]=e:h(this,t,e)}}):g[t]=e};u(g,_)||C(_,w),!E&&u(g,y)&&g[y]!==Object||C(y,A),A.prototype=g,n({global:!0,constructor:!0,forced:E},{Iterator:A})},8183:(t,e,i)=>{"use strict";var n=i(9504),r=i(1291),o=i(655),s=i(7750),a=n("".charAt),c=n("".charCodeAt),l=n("".slice),h=function(t){return function(e,i){var n,h,d=o(s(e)),u=r(i),f=d.length;return u<0||u>=f?t?"":void 0:(n=c(d,u))<55296||n>56319||u+1===f||(h=c(d,u+1))<56320||h>57343?t?a(d,u):n:t?l(d,u,u+2):h-56320+(n-55296<<10)+65536}};t.exports={codeAt:h(!1),charAt:h(!0)}},8227:(t,e,i)=>{"use strict";var n=i(4576),r=i(5745),o=i(9297),s=i(3392),a=i(4495),c=i(7040),l=n.Symbol,h=r("wks"),d=c?l.for||l:l&&l.withoutSetter||s;t.exports=function(t){return o(h,t)||(h[t]=a&&o(l,t)?l[t]:d("Symbol."+t)),h[t]}},8265:t=>{"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},i=this.tail;i?i.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},8289:(t,e,i)=>{"use strict";var n;i.d(e,{j9:()=>K}),function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(n||(n={}));var r,o,s=new Map([[n.QR_CODE,"QR_CODE"],[n.AZTEC,"AZTEC"],[n.CODABAR,"CODABAR"],[n.CODE_39,"CODE_39"],[n.CODE_93,"CODE_93"],[n.CODE_128,"CODE_128"],[n.DATA_MATRIX,"DATA_MATRIX"],[n.MAXICODE,"MAXICODE"],[n.ITF,"ITF"],[n.EAN_13,"EAN_13"],[n.EAN_8,"EAN_8"],[n.PDF_417,"PDF_417"],[n.RSS_14,"RSS_14"],[n.RSS_EXPANDED,"RSS_EXPANDED"],[n.UPC_A,"UPC_A"],[n.UPC_E,"UPC_E"],[n.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function a(t){return Object.values(n).includes(t)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"}(r||(r={})),function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"}(o||(o={}));var c,l=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[o.SCAN_TYPE_CAMERA,o.SCAN_TYPE_FILE],t}(),h=function(){function t(t,e){this.format=t,this.formatName=e}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!s.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,s.get(e))},t}(),d=function(){function t(){}return t.createFromText=function(t){return{decodedText:t,result:{text:t}}},t.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},t}();!function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"}(c||(c={}));var u=function(){function t(){}return t.createFrom=function(t){return{errorMessage:t,type:c.UNKWOWN_ERROR}},t}(),f=function(){function t(t){this.verbose=t}return t.prototype.log=function(t){this.verbose&&console.log(t)},t.prototype.warn=function(t){this.verbose&&console.warn(t)},t.prototype.logError=function(t,e){(this.verbose||!0===e)&&console.error(t)},t.prototype.logErrors=function(t){if(0===t.length)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},t}();function g(t){return null==t}var p,m,y=function(){function t(){}return t.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},t.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),w=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(t){return"Last Match: ".concat(t)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),_=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),b=function(){function t(){}return t.isMediaStreamConstraintsValid=function(t,e){if("object"!=typeof t){var i=typeof t;return e.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var n=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),r=0,o=Object.keys(t);r<o.length;r++){var s=o[r];if(n.has(s))return e.logError("".concat(s," is not supported videoConstaints."),!0),!1}return!0},t}(),v=i(9255),E=function(){function t(t,e,i){if(this.formatMap=new Map([[n.QR_CODE,v.BarcodeFormat.QR_CODE],[n.AZTEC,v.BarcodeFormat.AZTEC],[n.CODABAR,v.BarcodeFormat.CODABAR],[n.CODE_39,v.BarcodeFormat.CODE_39],[n.CODE_93,v.BarcodeFormat.CODE_93],[n.CODE_128,v.BarcodeFormat.CODE_128],[n.DATA_MATRIX,v.BarcodeFormat.DATA_MATRIX],[n.MAXICODE,v.BarcodeFormat.MAXICODE],[n.ITF,v.BarcodeFormat.ITF],[n.EAN_13,v.BarcodeFormat.EAN_13],[n.EAN_8,v.BarcodeFormat.EAN_8],[n.PDF_417,v.BarcodeFormat.PDF_417],[n.RSS_14,v.BarcodeFormat.RSS_14],[n.RSS_EXPANDED,v.BarcodeFormat.RSS_EXPANDED],[n.UPC_A,v.BarcodeFormat.UPC_A],[n.UPC_E,v.BarcodeFormat.UPC_E],[n.UPC_EAN_EXTENSION,v.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!v)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=e,this.logger=i;var r=this.createZXingFormats(t),o=new Map;o.set(v.DecodeHintType.POSSIBLE_FORMATS,r),o.set(v.DecodeHintType.TRY_HARDER,!1),this.hints=o}return t.prototype.decodeAsync=function(t){var e=this;return new Promise((function(i,n){try{i(e.decode(t))}catch(t){n(t)}}))},t.prototype.decode=function(t){var e=new v.MultiFormatReader(this.verbose,this.hints),i=new v.HTMLCanvasElementLuminanceSource(t),n=new v.BinaryBitmap(new v.HybridBinarizer(i)),r=e.decode(n);return{text:r.text,format:h.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach((function(e,i,n){t.set(e,i)})),t},t.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},t.prototype.createZXingFormats=function(t){for(var e=[],i=0,n=t;i<n.length;i++){var r=n[i];this.formatMap.has(r)?e.push(this.formatMap.get(r)):this.logger.logError("".concat(r," is not supported by")+"ZXingHtml5QrcodeShim")}return e},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),A=function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))},C=function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},S=function(){function t(e,i,r){if(this.formatMap=new Map([[n.QR_CODE,"qr_code"],[n.AZTEC,"aztec"],[n.CODABAR,"codabar"],[n.CODE_39,"code_39"],[n.CODE_93,"code_93"],[n.CODE_128,"code_128"],[n.DATA_MATRIX,"data_matrix"],[n.ITF,"itf"],[n.EAN_13,"ean_13"],[n.EAN_8,"ean_8"],[n.PDF_417,"pdf417"],[n.UPC_A,"upc_a"],[n.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=r;var o=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){return"BarcodeDetector"in window&&void 0!==new BarcodeDetector({formats:["qr_code"]})},t.prototype.decodeAsync=function(t){return A(this,void 0,void 0,(function(){var e,i;return C(this,(function(n){switch(n.label){case 0:return[4,this.detector.detect(t)];case 1:if(!(e=n.sent())||0===e.length)throw"No barcode or QR code detected.";return[2,{text:(i=this.selectLargestBarcode(e)).rawValue,format:h.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}}))}))},t.prototype.selectLargestBarcode=function(t){for(var e=null,i=0,n=0,r=t;n<r.length;n++){var o=r[n],s=o.boundingBox.width*o.boundingBox.height;s>i&&(i=s,e=o)}if(!e)throw"No largest barcode found";return e},t.prototype.createBarcodeDetectorFormats=function(t){for(var e=[],i=0,n=t;i<n.length;i++){var r=n[i];this.formatMap.has(r)?e.push(this.formatMap.get(r)):this.logger.warn("".concat(r," is not supported by")+"BarcodeDetectorDelegate")}return{formats:e}},t.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},t.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach((function(e,i,n){t.set(e,i)})),t},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),I=function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))},x=function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},T=function(){function t(t,e,i,n){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,e&&S.isSupported()?(this.primaryDecoder=new S(t,i,n),this.secondaryDecoder=new E(t,i,n)):this.primaryDecoder=new E(t,i,n)}return t.prototype.decodeAsync=function(t){return I(this,void 0,void 0,(function(){var e;return x(this,(function(i){switch(i.label){case 0:e=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(e),[7];case 4:return[2]}}))}))},t.prototype.decodeRobustlyAsync=function(t){return I(this,void 0,void 0,(function(){var e,i;return x(this,(function(n){switch(n.label){case 0:e=performance.now(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,n.sent()];case 3:if(i=n.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw i;case 4:return this.possiblyLogPerformance(e),[7];case 5:return[2]}}))}))},t.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(t){if(this.verbose){var e=performance.now()-t;this.executionResults.push(e),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,e=0,i=this.executionResults;e<i.length;e++){t+=i[e]}var n=t/this.executionResults.length;console.log("".concat(n," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),M=(p=function(t,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},p(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),D=function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))},O=function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},R=function(){function t(t,e){this.name=t,this.track=e}return t.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},t.prototype.apply=function(t){var e={};e[this.name]=t;var i={advanced:[e]};return this.track.applyConstraints(i)},t.prototype.value=function(){var t=this.track.getSettings();return this.name in t?t[this.name]:null},t}(),N=function(t){function e(e){return t.call(this,"zoom",e)||this}return M(e,t),e}(function(t){function e(e,i){return t.call(this,e,i)||this}return M(e,t),e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(t){var e={};e[this.name]=t;var i={advanced:[e]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities()[this.name];return{min:t.min,max:t.max,step:t.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(R)),k=function(t){function e(e){return t.call(this,"torch",e)||this}return M(e,t),e}(R),L=function(){function t(t){this.track=t}return t.prototype.zoomFeature=function(){return new N(this.track)},t.prototype.torchFeature=function(){return new k(this.track)},t}(),P=function(){function t(t,e,i){this.isClosed=!1,this.parentElement=t,this.mediaStream=e,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return t.prototype.createVideoElement=function(t){var e=document.createElement("video");return e.style.width="".concat(t,"px"),e.style.display="block",e.muted=!0,e.setAttribute("muted","true"),e.playsInline=!0,e},t.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var e=function(){var i=t.surface.clientWidth,n=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(i,n),t.surface.removeEventListener("playing",e)};this.surface.addEventListener("playing",e),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,i,n,r){return D(this,void 0,void 0,(function(){var o,s;return O(this,(function(a){switch(a.label){case 0:return o=new t(e,i,r),n.aspectRatio?(s={aspectRatio:n.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(s)]):[3,2];case 1:a.sent(),a.label=2;case 2:return o.setupSurface(),[2,o]}}))}))},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(t){this.failIfClosed();var e=this,i=function(){setTimeout(t,200),e.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(t){return D(this,void 0,void 0,(function(){return O(this,(function(e){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]}))}))},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise((function(e,i){var n=t.mediaStream.getVideoTracks().length,r=0;t.mediaStream.getVideoTracks().forEach((function(i){t.mediaStream.removeTrack(i),i.stop(),++r>=n&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),e())}))}))},t.prototype.getCapabilities=function(){return new L(this.getFirstTrackOrFail())},t}(),B=function(){function t(t){this.mediaStream=t}return t.prototype.render=function(t,e,i){return D(this,void 0,void 0,(function(){return O(this,(function(n){return[2,P.create(t,this.mediaStream,e,i)]}))}))},t.create=function(e){return D(this,void 0,void 0,(function(){var i;return O(this,(function(n){switch(n.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return[2,new t(n.sent())]}}))}))},t}(),F=function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))},H=function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},V=function(){function t(){}return t.failIfNotSupported=function(){return F(this,void 0,void 0,(function(){return H(this,(function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]}))}))},t.prototype.create=function(t){return F(this,void 0,void 0,(function(){return H(this,(function(e){return[2,B.create(t)]}))}))},t}(),z=function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))},U=function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},j=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=y.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=y.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var t=location.host.split(":")[0];return"127.0.0.1"===t||"localhost"===t},t.getCamerasFromMediaDevices=function(){return z(this,void 0,void 0,(function(){var t,e,i,n,r,o,s;return U(this,(function(a){switch(a.label){case 0:return t=function(t){for(var e=0,i=t.getVideoTracks();e<i.length;e++){var n=i[e];n.enabled=!1,n.stop(),t.removeTrack(n)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return e=a.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=a.sent(),n=[],r=0,o=i;r<o.length;r++)"videoinput"===(s=o[r]).kind&&n.push({id:s.deviceId,label:s.label});return t(e),[2,n]}}))}))},t.getCamerasFromMediaStreamTrack=function(){return new Promise((function(t,e){MediaStreamTrack.getSources((function(e){for(var i=[],n=0,r=e;n<r.length;n++){var o=r[n];"video"===o.kind&&i.push({id:o.id,label:o.label})}t(i)}))}))},t}();!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"}(m||(m={}));var W,Y=function(){function t(){this.state=m.NOT_STARTED,this.onGoingTransactionNewState=m.UNKNOWN}return t.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},t.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===m.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=m.UNKNOWN,this.directTransition(t)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===m.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=m.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==m.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(t){switch(this.state){case m.UNKNOWN:throw"Transition from unknown is not allowed";case m.NOT_STARTED:this.failIfNewStateIs(t,[m.PAUSED]);case m.SCANNING:case m.PAUSED:}},t.prototype.failIfNewStateIs=function(t,e){for(var i=0,n=e;i<n.length;i++){if(t===n[i])throw"Cannot transition from ".concat(this.state," to ").concat(t)}},t}(),G=function(){function t(t){this.stateManager=t}return t.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},t.prototype.directTransition=function(t){this.stateManager.directTransition(t)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===m.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==m.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===m.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===m.PAUSED},t}(),X=function(){function t(){}return t.create=function(){return new G(new Y)},t}(),Z=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(l),Q=function(){function t(t,e){this.logger=e,this.fps=q.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=!0===t.disableFlip,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=q.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?b.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!g(this.qrbox)},t.create=function(e,i){return new t(e,i)},t}(),K=function(){function t(t,e){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");var i;this.elementId=t,this.verbose=!1,"boolean"==typeof e?this.verbose=!0===e:e&&(i=e,this.verbose=!0===i.verbose,i.experimentalFeatures),this.logger=new f(this.verbose),this.qrcode=new T(this.getSupportedFormats(e),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=X.create()}return t.prototype.start=function(t,e,i,n){var r,o=this;if(!t)throw"cameraIdOrConfig is required";if(!i||"function"!=typeof i)throw"qrCodeSuccessCallback is required and should be a function.";r=n||(this.verbose?this.logger.log:function(){});var s=Q.create(e,this.logger);this.clearElement();var a=!1;s.videoConstraints&&(s.isMediaStreamConstraintsValid()?a=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var c=a,l=document.getElementById(this.elementId);l.clientWidth?l.clientWidth:q.DEFAULT_WIDTH;l.style.position="relative",this.shouldScan=!0,this.element=l;var h=this,d=this.stateManagerProxy.startTransition(m.SCANNING);return new Promise((function(e,n){var a=c?s.videoConstraints:h.createVideoConstraints(t);if(!a)return d.cancel(),void n("videoConstraints should be defined");var l={};c&&!s.aspectRatio||(l.aspectRatio=s.aspectRatio);var u={onRenderSurfaceReady:function(t,e){h.setupUi(t,e,s),h.isScanning=!0,h.foreverScan(s,i,r)}};V.failIfNotSupported().then((function(t){t.create(a).then((function(t){return t.render(o.element,l,u).then((function(t){h.renderedCamera=t,d.execute(),e(null)})).catch((function(t){d.cancel(),n(t)}))})).catch((function(t){d.cancel(),n(y.errorGettingUserMedia(t))}))})).catch((function(t){d.cancel(),n(y.cameraStreamingNotSupported())}))}))},t.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(m.PAUSED),this.showPausedState(),(g(t)||!0!==t)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,e=function(){t.stateManagerProxy.directTransition(m.SCANNING),t.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume((function(){e()})):e()},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var e=this.stateManagerProxy.startTransition(m.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=this;return this.renderedCamera.close().then((function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),function(){if(t.element){var e=document.getElementById(q.SHADED_REGION_ELEMENT_ID);e&&t.element.removeChild(e)}}(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),e.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()}))},t.prototype.scanFile=function(t,e){return this.scanFileV2(t,e).then((function(t){return t.decodedText}))},t.prototype.scanFileV2=function(t,e){var i=this;if(!(t&&t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(g(e)&&(e=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise((function(n,r){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var t=o.width,s=o.height,a=document.getElementById(i.elementId),c=a.clientWidth?a.clientWidth:q.DEFAULT_WIDTH,l=Math.max(a.clientHeight?a.clientHeight:s,q.FILE_SCAN_MIN_HEIGHT),h=i.computeCanvasDrawConfig(t,s,c,l);if(e){var u=i.createCanvasElement(c,l,"qr-canvas-visible");u.style.display="inline-block",a.appendChild(u);var f=u.getContext("2d");if(!f)throw"Unable to get 2d context from canvas";f.canvas.width=c,f.canvas.height=l,f.drawImage(o,0,0,t,s,h.x,h.y,h.width,h.height)}var g=q.FILE_SCAN_HIDDEN_CANVAS_PADDING,p=Math.max(o.width,h.width),m=Math.max(o.height,h.height),y=p+2*g,w=m+2*g,_=i.createCanvasElement(y,w);a.appendChild(_);var b=_.getContext("2d");if(!b)throw"Unable to get 2d context from canvas";b.canvas.width=y,b.canvas.height=w,b.drawImage(o,0,0,t,s,g,g,p,m);try{i.qrcode.decodeRobustlyAsync(_).then((function(t){n(d.createFromQrcodeResult(t))})).catch(r)}catch(t){r("QR code parse error, error = ".concat(t))}},o.onerror=r,o.onabort=r,o.onstalled=r,o.onsuspend=r,o.src=URL.createObjectURL(t)}))},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return j.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(t){if(!t)throw"videoConstaints is required argument.";if(!b.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},t.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(t){var e=[n.QR_CODE,n.AZTEC,n.CODABAR,n.CODE_39,n.CODE_93,n.CODE_128,n.DATA_MATRIX,n.MAXICODE,n.ITF,n.EAN_13,n.EAN_8,n.PDF_417,n.RSS_14,n.RSS_EXPANDED,n.UPC_A,n.UPC_E,n.UPC_EAN_EXTENSION];if(!t||"boolean"==typeof t)return e;if(!t.formatsToSupport)return e;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===t.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],r=0,o=t.formatsToSupport;r<o.length;r++){var s=o[r];a(s)?i.push(s):this.logger.warn("Invalid format: ".concat(s," passed in config, ignoring."))}if(0===i.length)throw"None of formatsToSupport match supported values.";return i},t.prototype.getUseBarCodeDetectorIfSupported=function(t){if(g(t))return!0;if(!g(t.useBarCodeDetectorIfSupported))return!1!==t.useBarCodeDetectorIfSupported;if(g(t.experimentalFeatures))return!0;var e=t.experimentalFeatures;return!!g(e.useBarCodeDetectorIfSupported)||!1!==e.useBarCodeDetectorIfSupported},t.prototype.validateQrboxSize=function(t,e,i){var n=this,r=i.qrbox;this.validateQrboxConfig(r);var o,s=this.toQrdimensions(t,e,r),a=function(t){if(t<q.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(q.MIN_QR_BOX_SIZE,"px.")};a(s.width),a(s.height),s.width=((o=s.width)>t&&(n.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),o=t),o)},t.prototype.validateQrboxConfig=function(t){if("number"!=typeof t&&"function"!=typeof t&&(void 0===t.width||void 0===t.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(t,e,i){if("number"==typeof i)return{width:i,height:i};if("function"==typeof i)try{return i(t,e)}catch(t){throw new Error("qrbox config was passed as a function but it failed with unknown error"+t)}return i},t.prototype.setupUi=function(t,e,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(t,e,i);var n=g(i.qrbox)?{width:t,height:e}:i.qrbox;this.validateQrboxConfig(n);var r=this.toQrdimensions(t,e,n);r.height>e&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=i.isShadedBoxEnabled()&&r.height<=e,s={x:0,y:0,width:t,height:e},a=o?this.getShadedRegionBounds(t,e,r):s,c=this.createCanvasElement(a.width,a.height),l=c.getContext("2d",{willReadFrequently:!0});l.canvas.width=a.width,l.canvas.height=a.height,this.element.append(c),o&&this.possiblyInsertShadingElement(this.element,t,e,r),this.createScannerPausedUiElement(this.element),this.qrRegion=a,this.context=l,this.canvasElement=c},t.prototype.createScannerPausedUiElement=function(t){var e=document.createElement("div");e.innerText=y.scannerPaused(),e.style.display="none",e.style.position="absolute",e.style.top="0px",e.style.zIndex="1",e.style.background="rgba(9, 9, 9, 0.46)",e.style.color="#FFECEC",e.style.textAlign="center",e.style.width="100%",t.appendChild(e),this.scannerPausedUiElement=e},t.prototype.scanContext=function(t,e){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then((function(e){return t(e.text,d.createFromQrcodeResult(e)),i.possiblyUpdateShaders(!0),!0})).catch((function(t){i.possiblyUpdateShaders(!1);var n=y.codeParseError(t);return e(n,u.createFrom(n)),!1}))},t.prototype.foreverScan=function(t,e,i){var n=this;if(this.shouldScan&&this.renderedCamera){var r=this.renderedCamera.getSurface(),o=r.videoWidth/r.clientWidth,s=r.videoHeight/r.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var a=this.qrRegion.width*o,c=this.qrRegion.height*s,l=this.qrRegion.x*o,h=this.qrRegion.y*s;this.context.drawImage(r,l,h,a,c,0,0,this.qrRegion.width,this.qrRegion.height);var d=function(){n.foreverScanTimeout=setTimeout((function(){n.foreverScan(t,e,i)}),n.getTimeoutFps(t.fps))};this.scanContext(e,i).then((function(r){r||!0===t.disableFlip?d():(n.context.translate(n.context.canvas.width,0),n.context.scale(-1,1),n.scanContext(e,i).finally((function(){d()})))})).catch((function(t){n.logger.logError("Error happend while scanning context",t),d()}))}},t.prototype.createVideoConstraints=function(t){if("string"==typeof t)return{deviceId:{exact:t}};if("object"==typeof t){var e="facingMode",i="deviceId",n={user:!0,environment:!0},r="exact",o=function(t){if(t in n)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(t,"'")},s=Object.keys(t);if(1!==s.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(s.length," keys");var a=Object.keys(t)[0];if(a!==e&&a!==i)throw"Only '".concat(e,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(a!==e){var c=t.deviceId;if("string"==typeof c)return{deviceId:c};if("object"==typeof c){if(r in c)return{deviceId:{exact:c["".concat(r)]}};throw"'deviceId' should be string or object with"+" ".concat(r," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof c)}var l=t.facingMode;if("string"==typeof l){if(o(l))return{facingMode:l}}else{if("object"!=typeof l)throw"Invalid type of 'facingMode' = ".concat(typeof l);if(!(r in l))throw"'facingMode' should be string or object with"+" ".concat(r," as key.");if(o(l["".concat(r)]))return{facingMode:{exact:l["".concat(r)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof t)},t.prototype.computeCanvasDrawConfig=function(t,e,i,n){if(t<=i&&e<=n)return{x:(i-t)/2,y:(n-e)/2,width:t,height:e};var r=t,o=e;return t>i&&(e*=i/t,t=i),e>n&&(t*=n/e,e=n),this.logger.log("Image downsampled from "+"".concat(r,"X").concat(o)+" to ".concat(t,"X").concat(e,".")),this.computeCanvasDrawConfig(t,e,i,n)},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},t.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach((function(e){e.style.backgroundColor=t?q.BORDER_SHADER_MATCH_COLOR:q.BORDER_SHADER_DEFAULT_COLOR})),this.qrMatch=t)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(t,e,i){var n=t,r=e,o=document.createElement("canvas");return o.style.width="".concat(n,"px"),o.style.height="".concat(r,"px"),o.style.display="none",o.id=g(i)?"qr-canvas":i,o},t.prototype.getShadedRegionBounds=function(t,e,i){if(i.width>t||i.height>e)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-i.width)/2,y:(e-i.height)/2,width:i.width,height:i.height}},t.prototype.possiblyInsertShadingElement=function(t,e,i,n){if(!(e-n.width<1||i-n.height<1)){var r=document.createElement("div");r.style.position="absolute";var o=(e-n.width)/2,s=(i-n.height)/2;if(r.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),r.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),r.style.borderTop="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),r.style.borderBottom="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),r.style.boxSizing="border-box",r.style.top="0px",r.style.bottom="0px",r.style.left="0px",r.style.right="0px",r.id="".concat(q.SHADED_REGION_ELEMENT_ID),e-n.width<11||i-n.height<11)this.hasBorderShaders=!1;else{var a=40;this.insertShaderBorders(r,a,5,-5,null,0,!0),this.insertShaderBorders(r,a,5,-5,null,0,!1),this.insertShaderBorders(r,a,5,null,-5,0,!0),this.insertShaderBorders(r,a,5,null,-5,0,!1),this.insertShaderBorders(r,5,45,-5,null,-5,!0),this.insertShaderBorders(r,5,45,null,-5,-5,!0),this.insertShaderBorders(r,5,45,-5,null,-5,!1),this.insertShaderBorders(r,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}t.append(r)}},t.prototype.insertShaderBorders=function(t,e,i,n,r,o,s){var a=document.createElement("div");a.style.position="absolute",a.style.backgroundColor=q.BORDER_SHADER_DEFAULT_COLOR,a.style.width="".concat(e,"px"),a.style.height="".concat(i,"px"),null!==n&&(a.style.top="".concat(n,"px")),null!==r&&(a.style.bottom="".concat(r,"px")),s?a.style.left="".concat(o,"px"):a.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(a),t.appendChild(a)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(t){return 1e3/t},t}(),$="data:image/svg+xml;base64,",J=$+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",tt=$+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",et=$+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",it=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),nt=function(){function t(){this.data=it.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},t.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=it.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),rt=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=_.poweredBy();var e=document.createElement("a");e.innerText="ScanApp",e.href="https://scanapp.org",e.target="new",e.style.color="white",this.infoDiv.appendChild(e);var i=document.createElement("br"),n=document.createElement("br");this.infoDiv.appendChild(i),this.infoDiv.appendChild(n);var r=document.createElement("a");r.innerText=_.reportIssues(),r.href="https://github.com/mebjas/html5-qrcode/issues",r.target="new",r.style.color="white",this.infoDiv.appendChild(r),t.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),ot=function(){function t(t,e){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=e,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(t){var e=this;this.infoIcon.alt="Info icon",this.infoIcon.src=et,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(t){return e.onHoverIn()},this.infoIcon.onmouseout=function(t){return e.onHoverOut()},this.infoIcon.onclick=function(t){return e.onClick()},t.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=et,this.infoIcon.style.opacity="0.6")},t}(),st=function(){function t(){var t=this;this.infoDiv=new rt,this.infoIcon=new ot((function(){t.infoDiv.show()}),(function(){t.infoDiv.hide()}))}return t.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},t}(),at=function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))},ct=function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},lt=function(){function t(){}return t.hasPermissions=function(){return at(this,void 0,void 0,(function(){var t,e,i,n;return ct(this,(function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=r.sent(),e=0,i=t;e<i.length;e++)if("videoinput"===(n=i[e]).kind&&n.label)return[2,!0];return[2,!1]}}))}))},t}(),ht=function(){function t(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,i=this.supportedScanTypes;e<i.length;e++){var n=i[e];if(t.isCameraScanType(n))return!0}return!1},t.isCameraScanType=function(t){return t===o.SCAN_TYPE_CAMERA},t.isFileScanType=function(t){return t===o.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(t){if(!t||0===t.length)return l.DEFAULT_SUPPORTED_SCAN_TYPE;var e=l.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>e)throw"Max ".concat(e," values expected for ")+"supportedScanTypes";for(var i=0,n=t;i<n.length;i++){var r=n[i];if(!l.DEFAULT_SUPPORTED_SCAN_TYPE.includes(r))throw"Unsupported scan type ".concat(r)}return t},t}(),dt=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),ut=function(){function t(){}return t.createElement=function(t,e){var i=document.createElement(t);return i.id=e,i.classList.add(dt.ALL_ELEMENT_CLASS),"button"===t&&i.setAttribute("type","button"),i},t}(),ft=function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))},gt=function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},pt=function(){function t(t,e,i){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=e,this.onTorchActionFailureCallback=i}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return ft(this,void 0,void 0,(function(){var t,e;return gt(this,(function(i){switch(i.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return i.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return e=i.sent(),this.propagateFailure(t,e),this.buttonController.enable(),[3,4];case 4:return[2]}}))}))},t.prototype.updateUiBasedOnLatestSettings=function(t,e){t===e?(this.buttonController.setText(e?w.torchOffButton():w.torchOnButton()),this.isTorchOn=e):this.propagateFailure(e),this.buttonController.enable()},t.prototype.propagateFailure=function(t,e){var i=t?w.torchOnFailedMessage():w.torchOffFailedMessage();e&&(i+="; Error = "+e),this.onTorchActionFailureCallback(i)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),mt=function(){function t(t,e){this.onTorchActionFailureCallback=e,this.torchButton=ut.createElement("button",dt.TORCH_BUTTON_ID),this.torchController=new pt(t,this,e)}return t.prototype.render=function(t,e){var i=this;this.torchButton.innerText=w.torchOnButton(),this.torchButton.style.display=e.display,this.torchButton.style.marginLeft=e.marginLeft;var n=this;this.torchButton.addEventListener("click",(function(t){return ft(i,void 0,void 0,(function(){return gt(this,(function(t){switch(t.label){case 0:return[4,n.torchController.flipState()];case 1:return t.sent(),n.torchController.isTorchEnabled()?(n.torchButton.classList.remove(dt.TORCH_BUTTON_CLASS_TORCH_OFF),n.torchButton.classList.add(dt.TORCH_BUTTON_CLASS_TORCH_ON)):(n.torchButton.classList.remove(dt.TORCH_BUTTON_CLASS_TORCH_ON),n.torchButton.classList.add(dt.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}}))}))})),t.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(t){this.torchController=new pt(t,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(t){this.torchButton.innerText=t},t.prototype.reset=function(){this.torchButton.innerText=w.torchOnButton(),this.torchController.reset()},t.create=function(e,i,n,r){var o=new t(i,r);return o.render(e,n),o},t}(),yt=function(){function t(t,e,i){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=e?"block":"none",t.appendChild(this.fileBasedScanRegion);var n=document.createElement("label");n.setAttribute("for",this.getFileScanInputId()),n.style.display="inline-block",this.fileBasedScanRegion.appendChild(n),this.fileSelectionButton=ut.createElement("button",dt.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",(function(t){n.click()})),n.append(this.fileSelectionButton),this.fileScanInput=ut.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",n.appendChild(this.fileScanInput);var r=this;this.fileScanInput.addEventListener("change",(function(t){if(null!=t&&null!=t.target){var e=t.target;if(!e.files||0!==e.files.length){var n=e.files[0],o=n.name;r.setImageNameToButton(o),i(n)}}}));var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",(function(t){r.fileBasedScanRegion.style.border=r.fileBasedScanRegionActiveBorder(),t.stopPropagation(),t.preventDefault()})),this.fileBasedScanRegion.addEventListener("dragleave",(function(t){r.fileBasedScanRegion.style.border=r.fileBasedScanRegionDefaultBorder(),t.stopPropagation(),t.preventDefault()})),this.fileBasedScanRegion.addEventListener("dragover",(function(t){r.fileBasedScanRegion.style.border=r.fileBasedScanRegionActiveBorder(),t.stopPropagation(),t.preventDefault()})),this.fileBasedScanRegion.addEventListener("drop",(function(t){t.stopPropagation(),t.preventDefault(),r.fileBasedScanRegion.style.border=r.fileBasedScanRegionDefaultBorder();var e=t.dataTransfer;if(e){var n=e.files;if(!n||0===n.length)return;for(var s=!1,a=0;a<n.length;++a){var c=n.item(a);if(c){if(c.type.match(/image.*/)){s=!0;var l=c.name;r.setImageNameToButton(l),i(c),o.innerText=w.dragAndDropMessage();break}}}s||(o.innerText=w.dragAndDropMessageOnlyImages())}}))}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=w.dragAndDropMessage(),t.style.fontWeight="400",t},t.prototype.setImageNameToButton=function(t){if(t.length>20){var e=t.substring(0,8),i=t.length,n=t.substring(i-8,i);t="".concat(e,"....").concat(n)}var r=w.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=r},t.prototype.setInitialValueToButton=function(){var t=w.fileSelectionChooseImage()+" - "+w.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,i,n){return new t(e,i,n)},t}(),wt=function(){function t(t){this.selectElement=ut.createElement("select",dt.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return t.prototype.render=function(t){var e=document.createElement("span");e.style.marginRight="10px";var i=this.cameras.length;if(0===i)throw new Error("No cameras found");if(1===i)e.style.display="none";else{var n=w.selectCamera();e.innerText="".concat(n," (").concat(this.cameras.length,")  ")}for(var r=1,o=0,s=this.cameras;o<s.length;o++){var a=s[o],c=a.id,l=null==a.label?c:a.label;l&&""!==l||(l=[w.anonymousCameraPrefix(),r++].join(" "));var h=document.createElement("option");h.value=c,h.innerText=l,this.options.push(h),this.selectElement.appendChild(h)}e.appendChild(this.selectElement),t.appendChild(e)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return!0===this.selectElement.disabled},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(t){for(var e=0,i=this.options;e<i.length;e++){if(i[e].value===t)return!0}return!1},t.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},t.prototype.hasSingleItem=function(){return 1===this.cameras.length},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,i){var n=new t(i);return n.render(e),n},t}(),_t=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=ut.createElement("input",dt.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(t,e){this.zoomElementContainer.style.display=e?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var i=w.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(i),this.rangeText.style.marginRight="10px";var n=this;this.rangeInput.addEventListener("input",(function(){return n.onValueChange()})),this.rangeInput.addEventListener("change",(function(){return n.onValueChange()})),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var t=w.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(t,e,i,n){this.rangeInput.min=t.toString(),this.rangeInput.max=e.toString(),this.rangeInput.step=n.toString(),this.rangeInput.value=i.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,i){var n=new t;return n.render(e,i),n},t}();!function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"}(W||(W={}));!function(){function t(t,e,i){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(e),this.verbose=!0===i,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new ht(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new f(this.verbose),this.persistedDataManager=new nt,!0!==e.rememberLastUsedCamera&&this.persistedDataManager.reset()}t.prototype.render=function(t,e){var i=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(e,n){if(t)t(e,n);else{if(i.lastMatchFound===e)return;i.lastMatchFound=e,i.setHeaderMessage(w.lastMatch(e),W.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(t,i){e&&e(t,i)};var n,r,o=document.getElementById(this.elementId);if(!o)throw"HTML Element with id=".concat(this.elementId," not found");o.innerHTML="",this.createBasicLayout(o),this.html5Qrcode=new K(this.getScanRegionId(),(n=this.config,r=this.verbose,{formatsToSupport:n.formatsToSupport,useBarCodeDetectorIfSupported:n.useBarCodeDetectorIfSupported,experimentalFeatures:n.experimentalFeatures,verbose:r}))},t.prototype.pause=function(t){(g(t)||!0!==t)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var t=this,e=function(){var e=document.getElementById(t.elementId);e&&(e.innerHTML="",t.resetBasicLayout(e))};return this.html5Qrcode?new Promise((function(i,n){t.html5Qrcode?t.html5Qrcode.isScanning?t.html5Qrcode.stop().then((function(n){t.html5Qrcode?(t.html5Qrcode.clear(),e(),i()):i()})).catch((function(e){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",e),n(e)})):(t.html5Qrcode.clear(),e(),i()):i()})):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(t){return t?(t.fps||(t.fps=l.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!l.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=l.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=l.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:l.SCAN_DEFAULT_FPS,rememberLastUsedCamera:l.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:l.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var e=document.createElement("div"),i=this.getScanRegionId();e.id=i,e.style.width="100%",e.style.minHeight="100px",e.style.textAlign="center",t.appendChild(e),ht.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var n=document.createElement("div"),r=this.getDashboardId();n.id=r,n.style.width="100%",t.appendChild(n),this.setupInitialDashboard(n)},t.prototype.resetBasicLayout=function(t){t.style.border="none"},t.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(t){var e=document.createElement("div");e.style.textAlign="left",e.style.margin="0px",t.appendChild(e),(new st).renderInto(e);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",e.appendChild(i)},t.prototype.createSection=function(t){var e=document.createElement("div");e.id=this.getDashboardSectionId(),e.style.width="100%",e.style.padding="10px 0px 10px 0px",e.style.textAlign="left",t.appendChild(e)},t.prototype.createCameraListUi=function(t,e,i){var n=this;n.showHideScanTypeSwapLink(!1),n.setHeaderMessage(w.cameraPermissionRequesting());var r=function(){i||n.createPermissionButton(t,e)};K.getCameras().then((function(i){n.persistedDataManager.setHasPermission(!0),n.showHideScanTypeSwapLink(!0),n.resetHeaderMessage(),i&&i.length>0?(t.removeChild(e),n.renderCameraSelection(i)):(n.setHeaderMessage(w.noCameraFound(),W.STATUS_WARNING),r())})).catch((function(t){n.persistedDataManager.setHasPermission(!1),i?i.disabled=!1:r(),n.setHeaderMessage(t,W.STATUS_WARNING),n.showHideScanTypeSwapLink(!0)}))},t.prototype.createPermissionButton=function(t,e){var i=this,n=ut.createElement("button",this.getCameraPermissionButtonId());n.innerText=w.cameraPermissionTitle(),n.addEventListener("click",(function(){n.disabled=!0,i.createCameraListUi(t,e,n)})),e.appendChild(n)},t.prototype.createPermissionsUi=function(t,e){var i=this;ht.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?lt.hasPermissions().then((function(n){n?i.createCameraListUi(t,e):(i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,e))})).catch((function(n){i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,e)})):this.createPermissionButton(t,e)},t.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),e=document.createElement("div");t.appendChild(e);var i=document.createElement("div");i.id=this.getDashboardSectionCameraScanRegionId(),i.style.display=ht.isCameraScanType(this.currentScanType)?"block":"none",e.appendChild(i);var n=document.createElement("div");n.style.textAlign="center",i.appendChild(n),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(i,n),this.renderFileScanUi(e)},t.prototype.renderFileScanUi=function(t){var e=ht.isFileScanType(this.currentScanType),i=this;this.fileSelectionUi=yt.create(t,e,(function(t){if(!i.html5Qrcode)throw"html5Qrcode not defined";ht.isFileScanType(i.currentScanType)&&(i.setHeaderMessage(w.loadingImage()),i.html5Qrcode.scanFileV2(t,!0).then((function(t){i.resetHeaderMessage(),i.qrCodeSuccessCallback(t.decodedText,t)})).catch((function(t){i.setHeaderMessage(t,W.STATUS_WARNING),i.qrCodeErrorCallback(t,u.createFrom(t))})))}))},t.prototype.renderCameraSelection=function(t){var e=this,i=this,n=document.getElementById(this.getDashboardSectionCameraScanRegionId());n.style.textAlign="center";var r=_t.create(n,!1),o=wt.create(n,t),s=document.createElement("span"),a=ut.createElement("button",dt.CAMERA_START_BUTTON_ID);a.innerText=w.scanButtonStartScanningText(),s.appendChild(a);var c,l=ut.createElement("button",dt.CAMERA_STOP_BUTTON_ID);l.innerText=w.scanButtonStopScanningText(),l.style.display="none",l.disabled=!0,s.appendChild(l);n.appendChild(s);var h=function(t){t||(a.style.display="none"),a.innerText=w.scanButtonStartScanningText(),a.style.opacity="1",a.disabled=!1,t&&(a.style.display="inline-block")};if(a.addEventListener("click",(function(t){a.innerText=w.scanButtonScanningStarting(),o.disable(),a.disabled=!0,a.style.opacity="0.5",e.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!1),i.resetHeaderMessage();var n,d=o.getValue();i.persistedDataManager.setLastUsedCameraId(d),i.html5Qrcode.start(d,(n=i.config,{fps:n.fps,qrbox:n.qrbox,aspectRatio:n.aspectRatio,disableFlip:n.disableFlip,videoConstraints:n.videoConstraints}),i.qrCodeSuccessCallback,i.qrCodeErrorCallback).then((function(t){l.disabled=!1,l.style.display="inline-block",h(!1);var n=i.html5Qrcode.getRunningTrackCameraCapabilities();!0===e.config.showTorchButtonIfSupported&&function(t){t.torchFeature().isSupported()?(c?c.updateTorchCapability(t.torchFeature()):c=mt.create(s,t.torchFeature(),{display:"none",marginLeft:"5px"},(function(t){i.setHeaderMessage(t,W.STATUS_WARNING)})),c.show()):c&&c.hide()}(n),!0===e.config.showZoomSliderIfSupported&&function(t){var i=t.zoomFeature();if(i.isSupported()){r.setOnCameraZoomValueChangeCallback((function(t){i.apply(t)}));var n,o,s,a=1;e.config.defaultZoomValueIfSupported&&(a=e.config.defaultZoomValueIfSupported),n=a,o=i.min(),a=n>(s=i.max())?s:n<o?o:n,r.setValues(i.min(),i.max(),a,i.step()),r.show()}}(n)})).catch((function(t){i.showHideScanTypeSwapLink(!0),o.enable(),h(!0),i.setHeaderMessage(t,W.STATUS_WARNING)}))})),o.hasSingleItem()&&a.click(),l.addEventListener("click",(function(t){if(!i.html5Qrcode)throw"html5Qrcode not defined";l.disabled=!0,i.html5Qrcode.stop().then((function(t){e.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!0),o.enable(),a.disabled=!1,l.style.display="none",a.style.display="inline-block",c&&(c.reset(),c.hide()),r.removeOnCameraZoomValueChangeCallback(),r.hide(),i.insertCameraScanImageToScanRegion()})).catch((function(t){l.disabled=!1,i.setHeaderMessage(t,W.STATUS_WARNING)}))})),i.persistedDataManager.getLastUsedCameraId()){var d=i.persistedDataManager.getLastUsedCameraId();o.hasValue(d)?(o.setValue(d),a.click()):i.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var t=this,e=w.textIfCameraScanSelected(),i=w.textIfFileScanSelected(),n=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");r.style.textAlign="center";var s=ut.createElement("span",this.getDashboardSectionSwapLinkId());s.style.textDecoration="underline",s.style.cursor="pointer",s.innerText=ht.isCameraScanType(this.currentScanType)?e:i,s.addEventListener("click",(function(){t.sectionSwapAllowed?(t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,ht.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),s.innerText=i,t.currentScanType=o.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),s.innerText=e,t.currentScanType=o.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0):t.verbose&&t.logger.logError("Section swap called when not allowed")})),r.appendChild(s),n.appendChild(r)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,e=this;this.persistedDataManager.hasCameraPermissions()&&lt.hasPermissions().then((function(i){if(i){var n=document.getElementById(e.getCameraPermissionButtonId());if(!n)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";n.click()}else e.persistedDataManager.setHasPermission(!1)})).catch((function(t){e.persistedDataManager.setHasPermission(!1)}))},t.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},t.prototype.setHeaderMessage=function(t,e){e||(e=W.STATUS_DEFAULT);var i=this.getHeaderMessageDiv();switch(i.innerText=t,i.style.display="block",e){case W.STATUS_SUCCESS:i.style.background="rgba(106, 175, 80, 0.26)",i.style.color="#477735";break;case W.STATUS_WARNING:i.style.background="rgba(203, 36, 49, 0.14)",i.style.color="#cb2431";break;case W.STATUS_DEFAULT:default:i.style.background="rgba(0, 0, 0, 0)",i.style.color="rgb(17, 17, 17)"}},t.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(!0!==t&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var t=this,e=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return e.innerHTML="<br>",void e.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(i){e.innerHTML="<br>",e.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=J,this.cameraScanImage.alt=w.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var t=this,e=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return e.innerHTML="<br>",void e.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(i){e.innerHTML="<br>",e.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=tt,this.fileScanImage.alt=w.fileScanAltText()},t.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return dt.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return dt.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}()},8429:(t,e,i)=>{"use strict";var n=i(9039),r=i(4576).RegExp,o=n((function(){var t=r("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),s=o||n((function(){return!r("a","y").sticky})),a=o||n((function(){var t=r("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:o}},8459:(t,e,i)=>{"use strict";var n=i(6518),r=i(3904);n({global:!0,forced:parseFloat!==r},{parseFloat:r})},8480:(t,e,i)=>{"use strict";var n=i(1828),r=i(8727).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},8551:(t,e,i)=>{"use strict";var n=i(34),r=String,o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(r(t)+" is not an object")}},8622:(t,e,i)=>{"use strict";var n=i(4576),r=i(4901),o=n.WeakMap;t.exports=r(o)&&/native code/.test(String(o))},8686:(t,e,i)=>{"use strict";var n=i(3724),r=i(9039);t.exports=n&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8727:t=>{"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745:(t,e,i)=>{"use strict";var n=i(616),r=Function.prototype,o=r.apply,s=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(o):function(){return s.apply(o,arguments)})},8773:(t,e)=>{"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!i.call({1:2},1);e.f=r?function(t){var e=n(this,t);return!!e&&e.enumerable}:i},8814:(t,e,i)=>{"use strict";var n=i(9039),r=i(4576).RegExp;t.exports=n((function(){var t=r("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},8981:(t,e,i)=>{"use strict";var n=i(7750),r=Object;t.exports=function(t){return r(n(t))}},8992:(t,e,i)=>{"use strict";i(8111)},9039:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},9213:(t,e,i)=>{"use strict";var n=i(6080),r=i(9504),o=i(7055),s=i(8981),a=i(6198),c=i(1469),l=r([].push),h=function(t){var e=1===t,i=2===t,r=3===t,h=4===t,d=6===t,u=7===t,f=5===t||d;return function(g,p,m,y){for(var w,_,b=s(g),v=o(b),E=a(v),A=n(p,m),C=0,S=y||c,I=e?S(g,E):i||u?S(g,0):void 0;E>C;C++)if((f||C in v)&&(_=A(w=v[C],C,b),t))if(e)I[C]=_;else if(_)switch(t){case 3:return!0;case 5:return w;case 6:return C;case 2:l(I,w)}else switch(t){case 4:return!1;case 7:l(I,w)}return d?-1:r||h?h:I}};t.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},9225:(t,e,i)=>{"use strict";var n,r,o,s,a=i(4576),c=i(8745),l=i(6080),h=i(4901),d=i(9297),u=i(9039),f=i(397),g=i(7680),p=i(4055),m=i(2812),y=i(9544),w=i(6193),_=a.setImmediate,b=a.clearImmediate,v=a.process,E=a.Dispatch,A=a.Function,C=a.MessageChannel,S=a.String,I=0,x={},T="onreadystatechange";u((function(){n=a.location}));var M=function(t){if(d(x,t)){var e=x[t];delete x[t],e()}},D=function(t){return function(){M(t)}},O=function(t){M(t.data)},R=function(t){a.postMessage(S(t),n.protocol+"//"+n.host)};_&&b||(_=function(t){m(arguments.length,1);var e=h(t)?t:A(t),i=g(arguments,1);return x[++I]=function(){c(e,void 0,i)},r(I),I},b=function(t){delete x[t]},w?r=function(t){v.nextTick(D(t))}:E&&E.now?r=function(t){E.now(D(t))}:C&&!y?(s=(o=new C).port2,o.port1.onmessage=O,r=l(s.postMessage,s)):a.addEventListener&&h(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!u(R)?(r=R,a.addEventListener("message",O,!1)):r=T in p("script")?function(t){f.appendChild(p("script"))[T]=function(){f.removeChild(this),M(t)}}:function(t){setTimeout(D(t),0)}),t.exports={set:_,clear:b}},9228:(t,e,i)=>{"use strict";i(7495);var n=i(9565),r=i(6840),o=i(7323),s=i(9039),a=i(8227),c=i(6699),l=a("species"),h=RegExp.prototype;t.exports=function(t,e,i,d){var u=a(t),f=!s((function(){var e={};return e[u]=function(){return 7},7!==""[t](e)})),g=f&&!s((function(){var e=!1,i=/a/;return"split"===t&&((i={}).constructor={},i.constructor[l]=function(){return i},i.flags="",i[u]=/./[u]),i.exec=function(){return e=!0,null},i[u](""),!e}));if(!f||!g||i){var p=/./[u],m=e(u,""[t],(function(t,e,i,r,s){var a=e.exec;return a===o||a===h.exec?f&&!s?{done:!0,value:n(p,e,i,r)}:{done:!0,value:n(t,i,e,r)}:{done:!1}}));r(String.prototype,t,m[0]),r(h,u,m[1])}d&&c(h[u],"sham",!0)}},9255:function(t,e,i){!function(t){"use strict";function e(t){return null==t}var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};function r(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function o(t,e){var i=Object.setPrototypeOf;i?i(t,e):t.__proto__=e}function s(t,e){void 0===e&&(e=t.constructor);var i=Error.captureStackTrace;i&&i(t,e)}var a,c=function(t){function e(e){var i=this.constructor,n=t.call(this,e)||this;return Object.defineProperty(n,"name",{value:i.name,enumerable:!1}),o(n,i.prototype),s(n),n}return r(e,t),e}(Error);class l extends c{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}l.kind="Exception";class h extends l{}h.kind="ArgumentException";class d extends l{}d.kind="IllegalArgumentException";class u{constructor(t){if(this.binarizer=t,null===t)throw new d("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,e){return this.binarizer.getBlackRow(t,e)}getBlackMatrix(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,e,i,n){const r=this.binarizer.getLuminanceSource().crop(t,e,i,n);return new u(this.binarizer.createBinarizer(r))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new u(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new u(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch(t){return""}}}class f extends l{static getChecksumInstance(){return new f}}f.kind="ChecksumException";class g{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class p{static arraycopy(t,e,i,n,r){for(;r--;)i[n++]=t[e++]}static currentTimeMillis(){return Date.now()}}class m extends l{}m.kind="IndexOutOfBoundsException";class y extends m{constructor(t=void 0,e=void 0){super(e),this.index=t,this.message=e}}y.kind="ArrayIndexOutOfBoundsException";class w{static fill(t,e){for(let i=0,n=t.length;i<n;i++)t[i]=e}static fillWithin(t,e,i,n){w.rangeCheck(t.length,e,i);for(let r=e;r<i;r++)t[r]=n}static rangeCheck(t,e,i){if(e>i)throw new d("fromIndex("+e+") > toIndex("+i+")");if(e<0)throw new y(e);if(i>t)throw new y(i)}static asList(...t){return t}static create(t,e,i){return Array.from({length:t}).map((t=>Array.from({length:e}).fill(i)))}static createInt32Array(t,e,i){return Array.from({length:t}).map((t=>Int32Array.from({length:e}).fill(i)))}static equals(t,e){if(!t)return!1;if(!e)return!1;if(!t.length)return!1;if(!e.length)return!1;if(t.length!==e.length)return!1;for(let i=0,n=t.length;i<n;i++)if(t[i]!==e[i])return!1;return!0}static hashCode(t){if(null===t)return 0;let e=1;for(const i of t)e=31*e+i;return e}static fillUint8Array(t,e){for(let i=0;i!==t.length;i++)t[i]=e}static copyOf(t,e){return t.slice(0,e)}static copyOfUint8Array(t,e){if(t.length<=e){const i=new Uint8Array(e);return i.set(t),i}return t.slice(0,e)}static copyOfRange(t,e,i){const n=i-e,r=new Int32Array(n);return p.arraycopy(t,e,r,0,n),r}static binarySearch(t,e,i){void 0===i&&(i=w.numberComparator);let n=0,r=t.length-1;for(;n<=r;){const o=r+n>>1,s=i(e,t[o]);if(s>0)n=o+1;else{if(!(s<0))return o;r=o-1}}return-n-1}static numberComparator(t,e){return t-e}}class _{static numberOfTrailingZeros(t){let e;if(0===t)return 32;let i=31;return e=t<<16,0!==e&&(i-=16,t=e),e=t<<8,0!==e&&(i-=8,t=e),e=t<<4,0!==e&&(i-=4,t=e),e=t<<2,0!==e&&(i-=2,t=e),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(0===t)return 32;let e=1;return t>>>16==0&&(e+=16,t<<=16),t>>>24==0&&(e+=8,t<<=8),t>>>28==0&&(e+=4,t<<=4),t>>>30==0&&(e+=2,t<<=2),e-=t>>>31,e}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135,t+=t>>>8,63&(t+=t>>>16)}static truncDivision(t,e){return Math.trunc(t/e)}static parseInt(t,e=void 0){return parseInt(t,e)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=Number.MAX_SAFE_INTEGER;class b{constructor(t,e){void 0===t?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,this.bits=null==e?b.makeArray(t):e)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>32*this.bits.length){const e=b.makeArray(t);p.arraycopy(this.bits,0,e,0,this.bits.length),this.bits=e}}get(t){return!!(this.bits[Math.floor(t/32)]&1<<(31&t))}set(t){this.bits[Math.floor(t/32)]|=1<<(31&t)}flip(t){this.bits[Math.floor(t/32)]^=1<<(31&t)}getNextSet(t){const e=this.size;if(t>=e)return e;const i=this.bits;let n=Math.floor(t/32),r=i[n];r&=~((1<<(31&t))-1);const o=i.length;for(;0===r;){if(++n===o)return e;r=i[n]}const s=32*n+_.numberOfTrailingZeros(r);return s>e?e:s}getNextUnset(t){const e=this.size;if(t>=e)return e;const i=this.bits;let n=Math.floor(t/32),r=~i[n];r&=~((1<<(31&t))-1);const o=i.length;for(;0===r;){if(++n===o)return e;r=~i[n]}const s=32*n+_.numberOfTrailingZeros(r);return s>e?e:s}setBulk(t,e){this.bits[Math.floor(t/32)]=e}setRange(t,e){if(e<t||t<0||e>this.size)throw new d;if(e===t)return;e--;const i=Math.floor(t/32),n=Math.floor(e/32),r=this.bits;for(let o=i;o<=n;o++){const s=(2<<(o<n?31:31&e))-(1<<(o>i?0:31&t));r[o]|=s}}clear(){const t=this.bits.length,e=this.bits;for(let i=0;i<t;i++)e[i]=0}isRange(t,e,i){if(e<t||t<0||e>this.size)throw new d;if(e===t)return!0;e--;const n=Math.floor(t/32),r=Math.floor(e/32),o=this.bits;for(let s=n;s<=r;s++){const a=(2<<(s<r?31:31&e))-(1<<(s>n?0:31&t))&4294967295;if((o[s]&a)!==(i?a:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(t,e){if(e<0||e>32)throw new d("Num bits must be between 0 and 32");this.ensureCapacity(this.size+e);for(let i=e;i>0;i--)this.appendBit(1==(t>>i-1&1))}appendBitArray(t){const e=t.size;this.ensureCapacity(this.size+e);for(let i=0;i<e;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new d("Sizes don't match");const e=this.bits;for(let i=0,n=e.length;i<n;i++)e[i]^=t.bits[i]}toBytes(t,e,i,n){for(let r=0;r<n;r++){let n=0;for(let e=0;e<8;e++)this.get(t)&&(n|=1<<7-e),t++;e[i+r]=n}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),e=Math.floor((this.size-1)/32),i=e+1,n=this.bits;for(let r=0;r<i;r++){let i=n[r];i=i>>1&1431655765|(1431655765&i)<<1,i=i>>2&858993459|(858993459&i)<<2,i=i>>4&252645135|(252645135&i)<<4,i=i>>8&16711935|(16711935&i)<<8,i=i>>16&65535|(65535&i)<<16,t[e-r]=i}if(this.size!==32*i){const e=32*i-this.size;let n=t[0]>>>e;for(let r=1;r<i;r++){const i=t[r];n|=i<<32-e,t[r-1]=n,n=i>>>e}t[i-1]=n}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof b))return!1;const e=t;return this.size===e.size&&w.equals(this.bits,e.bits)}hashCode(){return 31*this.size+w.hashCode(this.bits)}toString(){let t="";for(let e=0,i=this.size;e<i;e++)7&e||(t+=" "),t+=this.get(e)?"X":".";return t}clone(){return new b(this.size,this.bits.slice())}}!function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ASSUME_GS1=7]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(a||(a={}));var v,E=a;class A extends l{static getFormatInstance(){return new A}}A.kind="FormatException",function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"}(v||(v={}));class C{constructor(t,e,i,...n){this.valueIdentifier=t,this.name=i,this.values="number"==typeof e?Int32Array.from([e]):e,this.otherEncodingNames=n,C.VALUE_IDENTIFIER_TO_ECI.set(t,this),C.NAME_TO_ECI.set(i,this);const r=this.values;for(let t=0,e=r.length;t!==e;t++){const e=r[t];C.VALUES_TO_ECI.set(e,this)}for(const t of n)C.NAME_TO_ECI.set(t,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new A("incorect value");const e=C.VALUES_TO_ECI.get(t);if(void 0===e)throw new A("incorect value");return e}static getCharacterSetECIByName(t){const e=C.NAME_TO_ECI.get(t);if(void 0===e)throw new A("incorect value");return e}equals(t){if(!(t instanceof C))return!1;const e=t;return this.getName()===e.getName()}}C.VALUE_IDENTIFIER_TO_ECI=new Map,C.VALUES_TO_ECI=new Map,C.NAME_TO_ECI=new Map,C.Cp437=new C(v.Cp437,Int32Array.from([0,2]),"Cp437"),C.ISO8859_1=new C(v.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),C.ISO8859_2=new C(v.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),C.ISO8859_3=new C(v.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),C.ISO8859_4=new C(v.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),C.ISO8859_5=new C(v.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),C.ISO8859_6=new C(v.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),C.ISO8859_7=new C(v.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),C.ISO8859_8=new C(v.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),C.ISO8859_9=new C(v.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),C.ISO8859_10=new C(v.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),C.ISO8859_11=new C(v.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),C.ISO8859_13=new C(v.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),C.ISO8859_14=new C(v.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),C.ISO8859_15=new C(v.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),C.ISO8859_16=new C(v.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),C.SJIS=new C(v.SJIS,20,"SJIS","Shift_JIS"),C.Cp1250=new C(v.Cp1250,21,"Cp1250","windows-1250"),C.Cp1251=new C(v.Cp1251,22,"Cp1251","windows-1251"),C.Cp1252=new C(v.Cp1252,23,"Cp1252","windows-1252"),C.Cp1256=new C(v.Cp1256,24,"Cp1256","windows-1256"),C.UnicodeBigUnmarked=new C(v.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),C.UTF8=new C(v.UTF8,26,"UTF8","UTF-8"),C.ASCII=new C(v.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),C.Big5=new C(v.Big5,28,"Big5"),C.GB18030=new C(v.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),C.EUC_KR=new C(v.EUC_KR,30,"EUC_KR","EUC-KR");class S extends l{}S.kind="UnsupportedOperationException";class I{static decode(t,e){const i=this.encodingName(e);return this.customDecoder?this.customDecoder(t,i):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!I.isBrowser()&&"ISO-8859-1"===t}static encode(t,e){const i=this.encodingName(e);return this.customEncoder?this.customEncoder(t,i):"undefined"==typeof TextEncoder?this.encodeFallback(t):(new TextEncoder).encode(t)}static isBrowser(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)}static encodingName(t){return"string"==typeof t?t:t.getName()}static encodingCharacterSet(t){return t instanceof C?t:C.getCharacterSetECIByName(t)}static decodeFallback(t,e){const i=this.encodingCharacterSet(e);if(I.isDecodeFallbackSupported(i)){let e="";for(let i=0,n=t.length;i<n;i++){let n=t[i].toString(16);n.length<2&&(n="0"+n),e+="%"+n}return decodeURIComponent(e)}if(i.equals(C.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new S(`Encoding ${this.encodingName(e)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(C.UTF8)||t.equals(C.ISO8859_1)||t.equals(C.ASCII)}static encodeFallback(t){const e=btoa(unescape(encodeURIComponent(t))).split(""),i=[];for(let t=0;t<e.length;t++)i.push(e[t].charCodeAt(0));return new Uint8Array(i)}}class x{static castAsNonUtf8Char(t,e=null){const i=e?e.getName():this.ISO88591;return I.decode(new Uint8Array([t]),i)}static guessEncoding(t,e){if(null!=e&&void 0!==e.get(E.CHARACTER_SET))return e.get(E.CHARACTER_SET).toString();const i=t.length;let n=!0,r=!0,o=!0,s=0,a=0,c=0,l=0,h=0,d=0,u=0,f=0,g=0,p=0,m=0;const y=t.length>3&&239===t[0]&&187===t[1]&&191===t[2];for(let e=0;e<i&&(n||r||o);e++){const i=255&t[e];o&&(s>0?128&i?s--:o=!1:128&i&&(64&i?(s++,32&i?(s++,16&i?(s++,8&i?o=!1:l++):c++):a++):o=!1)),n&&(i>127&&i<160?n=!1:i>159&&(i<192||215===i||247===i)&&m++),r&&(h>0?i<64||127===i||i>252?r=!1:h--:128===i||160===i||i>239?r=!1:i>160&&i<224?(d++,f=0,u++,u>g&&(g=u)):i>127?(h++,u=0,f++,f>p&&(p=f)):(u=0,f=0))}return o&&s>0&&(o=!1),r&&h>0&&(r=!1),o&&(y||a+c+l>0)?x.UTF8:r&&(x.ASSUME_SHIFT_JIS||g>=3||p>=3)?x.SHIFT_JIS:n&&r?2===g&&2===d||10*m>=i?x.SHIFT_JIS:x.ISO88591:n?x.ISO88591:r?x.SHIFT_JIS:o?x.UTF8:x.PLATFORM_DEFAULT_ENCODING}static format(t,...e){let i=-1;function n(t,n,r,o,s,a){if("%%"===t)return"%";if(void 0===e[++i])return;t=o?parseInt(o.substr(1)):void 0;let c,l=s?parseInt(s.substr(1)):void 0;switch(a){case"s":c=e[i];break;case"c":c=e[i][0];break;case"f":c=parseFloat(e[i]).toFixed(t);break;case"p":c=parseFloat(e[i]).toPrecision(t);break;case"e":c=parseFloat(e[i]).toExponential(t);break;case"x":c=parseInt(e[i]).toString(l||16);break;case"d":c=parseFloat(parseInt(e[i],l||10).toPrecision(t)).toFixed(0)}c="object"==typeof c?JSON.stringify(c):(+c).toString(l);let h=parseInt(r),d=r&&r[0]+""=="0"?"0":" ";for(;c.length<h;)c=void 0!==n?c+d:d+c;return c}let r=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(r,n)}static getBytes(t,e){return I.encode(t,e)}static getCharCode(t,e=0){return t.charCodeAt(e)}static getCharAt(t){return String.fromCharCode(t)}}x.SHIFT_JIS=C.SJIS.getName(),x.GB2312="GB2312",x.ISO88591=C.ISO8859_1.getName(),x.EUC_JP="EUC_JP",x.UTF8=C.UTF8.getName(),x.PLATFORM_DEFAULT_ENCODING=x.UTF8,x.ASSUME_SHIFT_JIS=!1;class T{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return"string"==typeof t?this.value+=t.toString():this.encoding?this.value+=x.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,e,i){for(let n=e;e<e+i;n++)this.append(t[n]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+1)}substring(t,e){return this.value.substring(t,e)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+e.length)}}class M{constructor(t,e,i,n){if(this.width=t,this.height=e,this.rowSize=i,this.bits=n,null==e&&(e=t),this.height=e,t<1||e<1)throw new d("Both dimensions must be greater than 0");null==i&&(i=Math.floor((t+31)/32)),this.rowSize=i,null==n&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const e=t.length,i=t[0].length,n=new M(i,e);for(let r=0;r<e;r++){const e=t[r];for(let t=0;t<i;t++)e[t]&&n.set(t,r)}return n}static parseFromString(t,e,i){if(null===t)throw new d("stringRepresentation cannot be null");const n=new Array(t.length);let r=0,o=0,s=-1,a=0,c=0;for(;c<t.length;)if("\n"===t.charAt(c)||"\r"===t.charAt(c)){if(r>o){if(-1===s)s=r-o;else if(r-o!==s)throw new d("row lengths do not match");o=r,a++}c++}else if(t.substring(c,c+e.length)===e)c+=e.length,n[r]=!0,r++;else{if(t.substring(c,c+i.length)!==i)throw new d("illegal character encountered: "+t.substring(c));c+=i.length,n[r]=!1,r++}if(r>o){if(-1===s)s=r-o;else if(r-o!==s)throw new d("row lengths do not match");a++}const l=new M(s,a);for(let t=0;t<r;t++)n[t]&&l.set(Math.floor(t%s),Math.floor(t/s));return l}get(t,e){const i=e*this.rowSize+Math.floor(t/32);return!!(this.bits[i]>>>(31&t)&1)}set(t,e){const i=e*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(31&t)&4294967295}unset(t,e){const i=e*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(31&t)&4294967295)}flip(t,e){const i=e*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(31&t)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new d("input matrix dimensions do not match");const e=new b(Math.floor(this.width/32)+1),i=this.rowSize,n=this.bits;for(let r=0,o=this.height;r<o;r++){const o=r*i,s=t.getRow(r,e).getBitArray();for(let t=0;t<i;t++)n[o+t]^=s[t]}}clear(){const t=this.bits,e=t.length;for(let i=0;i<e;i++)t[i]=0}setRegion(t,e,i,n){if(e<0||t<0)throw new d("Left and top must be nonnegative");if(n<1||i<1)throw new d("Height and width must be at least 1");const r=t+i,o=e+n;if(o>this.height||r>this.width)throw new d("The region must fit inside the matrix");const s=this.rowSize,a=this.bits;for(let i=e;i<o;i++){const e=i*s;for(let i=t;i<r;i++)a[e+Math.floor(i/32)]|=1<<(31&i)&4294967295}}getRow(t,e){null==e||e.getSize()<this.width?e=new b(this.width):e.clear();const i=this.rowSize,n=this.bits,r=t*i;for(let t=0;t<i;t++)e.setBulk(32*t,n[r+t]);return e}setRow(t,e){p.arraycopy(e.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),e=this.getHeight();let i=new b(t),n=new b(t);for(let t=0,r=Math.floor((e+1)/2);t<r;t++)i=this.getRow(t,i),n=this.getRow(e-1-t,n),i.reverse(),n.reverse(),this.setRow(t,n),this.setRow(e-1-t,i)}getEnclosingRectangle(){const t=this.width,e=this.height,i=this.rowSize,n=this.bits;let r=t,o=e,s=-1,a=-1;for(let t=0;t<e;t++)for(let e=0;e<i;e++){const c=n[t*i+e];if(0!==c){if(t<o&&(o=t),t>a&&(a=t),32*e<r){let t=0;for(;!(c<<31-t&4294967295);)t++;32*e+t<r&&(r=32*e+t)}if(32*e+31>s){let t=31;for(;c>>>t==0;)t--;32*e+t>s&&(s=32*e+t)}}}return s<r||a<o?null:Int32Array.from([r,o,s-r+1,a-o+1])}getTopLeftOnBit(){const t=this.rowSize,e=this.bits;let i=0;for(;i<e.length&&0===e[i];)i++;if(i===e.length)return null;const n=i/t;let r=i%t*32;const o=e[i];let s=0;for(;!(o<<31-s&4294967295);)s++;return r+=s,Int32Array.from([r,n])}getBottomRightOnBit(){const t=this.rowSize,e=this.bits;let i=e.length-1;for(;i>=0&&0===e[i];)i--;if(i<0)return null;const n=Math.floor(i/t);let r=32*Math.floor(i%t);const o=e[i];let s=31;for(;o>>>s==0;)s--;return r+=s,Int32Array.from([r,n])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof M))return!1;const e=t;return this.width===e.width&&this.height===e.height&&this.rowSize===e.rowSize&&w.equals(this.bits,e.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+w.hashCode(this.bits),t}toString(t="X ",e="  ",i="\n"){return this.buildToString(t,e,i)}buildToString(t,e,i){let n=new T;for(let r=0,o=this.height;r<o;r++){for(let i=0,o=this.width;i<o;i++)n.append(this.get(i,r)?t:e);n.append(i)}return n.toString()}clone(){return new M(this.width,this.height,this.rowSize,this.bits.slice())}}class D extends l{static getNotFoundInstance(){return new D}}D.kind="NotFoundException";class O extends g{constructor(t){super(t),this.luminances=O.EMPTY,this.buckets=new Int32Array(O.LUMINANCE_BUCKETS)}getBlackRow(t,e){const i=this.getLuminanceSource(),n=i.getWidth();null==e||e.getSize()<n?e=new b(n):e.clear(),this.initArrays(n);const r=i.getRow(t,this.luminances),o=this.buckets;for(let t=0;t<n;t++)o[(255&r[t])>>O.LUMINANCE_SHIFT]++;const s=O.estimateBlackPoint(o);if(n<3)for(let t=0;t<n;t++)(255&r[t])<s&&e.set(t);else{let t=255&r[0],i=255&r[1];for(let o=1;o<n-1;o++){const n=255&r[o+1];(4*i-t-n)/2<s&&e.set(o),t=i,i=n}}return e}getBlackMatrix(){const t=this.getLuminanceSource(),e=t.getWidth(),i=t.getHeight(),n=new M(e,i);this.initArrays(e);const r=this.buckets;for(let n=1;n<5;n++){const o=Math.floor(i*n/5),s=t.getRow(o,this.luminances),a=Math.floor(4*e/5);for(let t=Math.floor(e/5);t<a;t++)r[(255&s[t])>>O.LUMINANCE_SHIFT]++}const o=O.estimateBlackPoint(r),s=t.getMatrix();for(let t=0;t<i;t++){const i=t*e;for(let r=0;r<e;r++)(255&s[i+r])<o&&n.set(r,t)}return n}createBinarizer(t){return new O(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const e=this.buckets;for(let t=0;t<O.LUMINANCE_BUCKETS;t++)e[t]=0}static estimateBlackPoint(t){const e=t.length;let i=0,n=0,r=0;for(let o=0;o<e;o++)t[o]>r&&(n=o,r=t[o]),t[o]>i&&(i=t[o]);let o=0,s=0;for(let i=0;i<e;i++){const e=i-n,r=t[i]*e*e;r>s&&(o=i,s=r)}if(n>o){const t=n;n=o,o=t}if(o-n<=e/16)throw new D;let a=o-1,c=-1;for(let e=o-1;e>n;e--){const r=e-n,s=r*r*(o-e)*(i-t[e]);s>c&&(a=e,c=s)}return a<<O.LUMINANCE_SHIFT}}O.LUMINANCE_BITS=5,O.LUMINANCE_SHIFT=8-O.LUMINANCE_BITS,O.LUMINANCE_BUCKETS=1<<O.LUMINANCE_BITS,O.EMPTY=Uint8ClampedArray.from([0]);class R extends O{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const t=this.getLuminanceSource(),e=t.getWidth(),i=t.getHeight();if(e>=R.MINIMUM_DIMENSION&&i>=R.MINIMUM_DIMENSION){const n=t.getMatrix();let r=e>>R.BLOCK_SIZE_POWER;e&R.BLOCK_SIZE_MASK&&r++;let o=i>>R.BLOCK_SIZE_POWER;i&R.BLOCK_SIZE_MASK&&o++;const s=R.calculateBlackPoints(n,r,o,e,i),a=new M(e,i);R.calculateThresholdForBlock(n,r,o,e,i,s,a),this.matrix=a}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new R(t)}static calculateThresholdForBlock(t,e,i,n,r,o,s){const a=r-R.BLOCK_SIZE,c=n-R.BLOCK_SIZE;for(let r=0;r<i;r++){let l=r<<R.BLOCK_SIZE_POWER;l>a&&(l=a);const h=R.cap(r,2,i-3);for(let i=0;i<e;i++){let r=i<<R.BLOCK_SIZE_POWER;r>c&&(r=c);const a=R.cap(i,2,e-3);let d=0;for(let t=-2;t<=2;t++){const e=o[h+t];d+=e[a-2]+e[a-1]+e[a]+e[a+1]+e[a+2]}const u=d/25;R.thresholdBlock(t,r,l,u,n,s)}}}static cap(t,e,i){return t<e?e:t>i?i:t}static thresholdBlock(t,e,i,n,r,o){for(let s=0,a=i*r+e;s<R.BLOCK_SIZE;s++,a+=r)for(let r=0;r<R.BLOCK_SIZE;r++)(255&t[a+r])<=n&&o.set(e+r,i+s)}static calculateBlackPoints(t,e,i,n,r){const o=r-R.BLOCK_SIZE,s=n-R.BLOCK_SIZE,a=new Array(i);for(let r=0;r<i;r++){a[r]=new Int32Array(e);let i=r<<R.BLOCK_SIZE_POWER;i>o&&(i=o);for(let o=0;o<e;o++){let e=o<<R.BLOCK_SIZE_POWER;e>s&&(e=s);let c=0,l=255,h=0;for(let r=0,o=i*n+e;r<R.BLOCK_SIZE;r++,o+=n){for(let e=0;e<R.BLOCK_SIZE;e++){const i=255&t[o+e];c+=i,i<l&&(l=i),i>h&&(h=i)}if(h-l>R.MIN_DYNAMIC_RANGE)for(r++,o+=n;r<R.BLOCK_SIZE;r++,o+=n)for(let e=0;e<R.BLOCK_SIZE;e++)c+=255&t[o+e]}let d=c>>2*R.BLOCK_SIZE_POWER;if(h-l<=R.MIN_DYNAMIC_RANGE&&(d=l/2,r>0&&o>0)){const t=(a[r-1][o]+2*a[r][o-1]+a[r-1][o-1])/4;l<t&&(d=t)}a[r][o]=d}}return a}}R.BLOCK_SIZE_POWER=3,R.BLOCK_SIZE=1<<R.BLOCK_SIZE_POWER,R.BLOCK_SIZE_MASK=R.BLOCK_SIZE-1,R.MINIMUM_DIMENSION=5*R.BLOCK_SIZE,R.MIN_DYNAMIC_RANGE=24;class N{constructor(t,e){this.width=t,this.height=e}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,e,i,n){throw new S("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new S("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new S("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let e=new T;for(let i=0;i<this.height;i++){const n=this.getRow(i,t);for(let t=0;t<this.width;t++){const i=255&n[t];let r;r=i<64?"#":i<128?"+":i<192?".":" ",e.append(r)}e.append("\n")}return e.toString()}}class k extends N{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,e){const i=this.delegate.getRow(t,e),n=this.getWidth();for(let t=0;t<n;t++)i[t]=255-(255&i[t]);return i}getMatrix(){const t=this.delegate.getMatrix(),e=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(e);for(let n=0;n<e;n++)i[n]=255-(255&t[n]);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,e,i,n){return new k(this.delegate.crop(t,e,i,n))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new k(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new k(this.delegate.rotateCounterClockwise45())}}class L extends N{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=L.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const e=t.getContext("2d").getImageData(0,0,t.width,t.height);return L.toGrayscaleBuffer(e.data,t.width,t.height)}static toGrayscaleBuffer(t,e,i){const n=new Uint8ClampedArray(e*i);for(let e=0,i=0,r=t.length;e<r;e+=4,i++){let r;r=0===t[e+3]?255:306*t[e]+601*t[e+1]+117*t[e+2]+512>>10,n[i]=r}return n}getRow(t,e){if(t<0||t>=this.getHeight())throw new d("Requested row is outside the image: "+t);const i=this.getWidth(),n=t*i;return null===e?e=this.buffer.slice(n,n+i):(e.length<i&&(e=new Uint8ClampedArray(i)),e.set(this.buffer.slice(n,n+i))),e}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,e,i,n){return super.crop(t,e,i,n),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const e=this.getTempCanvasElement(),i=e.getContext("2d"),n=t*L.DEGREE_TO_RADIANS,r=this.canvas.width,o=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(n))*r+Math.abs(Math.sin(n))*o),a=Math.ceil(Math.abs(Math.sin(n))*r+Math.abs(Math.cos(n))*o);return e.width=s,e.height=a,i.translate(s/2,a/2),i.rotate(n),i.drawImage(this.canvas,r/-2,o/-2),this.buffer=L.makeBufferFromCanvasImageData(e),this}invert(){return new k(this)}}L.DEGREE_TO_RADIANS=Math.PI/180;class P{constructor(t,e,i){this.deviceId=t,this.label=e,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var B,F=(globalThis||i.g||self||window?(globalThis||i.g||self||window||void 0).__awaiter:void 0)||function(t,e,i,n){function r(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):r(t.value).then(s,a)}c((n=n.apply(t,e||[])).next())}))};class H{constructor(t,e=500,i){this.reader=t,this.timeBetweenScansMillis=e,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return"undefined"!=typeof navigator}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return F(this,void 0,void 0,(function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),e=[];for(const i of t){const t="video"===i.kind?"videoinput":i.kind;if("videoinput"!==t)continue;const n={deviceId:i.deviceId||i.id,label:i.label||`Video device ${e.length+1}`,kind:t,groupId:i.groupId};e.push(n)}return e}))}getVideoInputDevices(){return F(this,void 0,void 0,(function*(){return(yield this.listVideoInputDevices()).map((t=>new P(t.deviceId,t.label)))}))}findDeviceById(t){return F(this,void 0,void 0,(function*(){const e=yield this.listVideoInputDevices();return e?e.find((e=>e.deviceId===t)):null}))}decodeFromInputVideoDevice(t,e){return F(this,void 0,void 0,(function*(){return yield this.decodeOnceFromVideoDevice(t,e)}))}decodeOnceFromVideoDevice(t,e){return F(this,void 0,void 0,(function*(){let i;this.reset(),i=t?{deviceId:{exact:t}}:{facingMode:"environment"};const n={video:i};return yield this.decodeOnceFromConstraints(n,e)}))}decodeOnceFromConstraints(t,e){return F(this,void 0,void 0,(function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,e)}))}decodeOnceFromStream(t,e){return F(this,void 0,void 0,(function*(){this.reset();const i=yield this.attachStreamToVideo(t,e);return yield this.decodeOnce(i)}))}decodeFromInputVideoDeviceContinuously(t,e,i){return F(this,void 0,void 0,(function*(){return yield this.decodeFromVideoDevice(t,e,i)}))}decodeFromVideoDevice(t,e,i){return F(this,void 0,void 0,(function*(){let n;n=t?{deviceId:{exact:t}}:{facingMode:"environment"};const r={video:n};return yield this.decodeFromConstraints(r,e,i)}))}decodeFromConstraints(t,e,i){return F(this,void 0,void 0,(function*(){const n=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(n,e,i)}))}decodeFromStream(t,e,i){return F(this,void 0,void 0,(function*(){this.reset();const n=yield this.attachStreamToVideo(t,e);return yield this.decodeContinuously(n,i)}))}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,e){return F(this,void 0,void 0,(function*(){const i=this.prepareVideoElement(e);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i}))}playVideoOnLoadAsync(t){return new Promise(((e,i)=>this.playVideoOnLoad(t,(()=>e()))))}playVideoOnLoad(t,e){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",e),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return F(this,void 0,void 0,(function*(){if(this.isVideoPlaying(t))console.warn("Trying to play video that is already playing.");else try{yield t.play()}catch(t){console.warn("It was not possible to play the video.")}}))}getMediaElement(t,e){const i=document.getElementById(t);if(!i)throw new h(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==e.toLowerCase())throw new h(`element with id '${t}' must be an ${e} element`);return i}decodeFromImage(t,e){if(!t&&!e)throw new h("either imageElement with a src set or an url must be provided");return e&&!t?this.decodeFromImageUrl(e):this.decodeFromImageElement(t)}decodeFromVideo(t,e){if(!t&&!e)throw new h("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrl(e):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,e,i){if(void 0===t&&void 0===e)throw new h("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrlContinuously(e,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new h("An image element must be provided.");this.reset();const e=this.prepareImageElement(t);let i;return this.imageElement=e,i=this.isImageLoaded(e)?this.decodeOnce(e,!1,!0):this._decodeOnLoadImage(e),i}decodeFromVideoElement(t){const e=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(e)}decodeFromVideoElementContinuously(t,e){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,e)}_decodeFromVideoElementSetup(t){if(!t)throw new h("A video element must be provided.");this.reset();const e=this.prepareVideoElement(t);return this.videoElement=e,e}decodeFromImageUrl(t){if(!t)throw new h("An URL must be provided.");this.reset();const e=this.prepareImageElement();this.imageElement=e;const i=this._decodeOnLoadImage(e);return e.src=t,i}decodeFromVideoUrl(t){if(!t)throw new h("An URL must be provided.");this.reset();const e=this.prepareVideoElement(),i=this.decodeFromVideoElement(e);return e.src=t,i}decodeFromVideoUrlContinuously(t,e){if(!t)throw new h("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(i,e);return i.src=t,n}_decodeOnLoadImage(t){return new Promise(((e,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(e,i),t.addEventListener("load",this.imageLoadedListener)}))}_decodeOnLoadVideo(t){return F(this,void 0,void 0,(function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)}))}_decodeOnLoadVideoContinuously(t,e){return F(this,void 0,void 0,(function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,e)}))}isImageLoaded(t){return!!t.complete&&0!==t.naturalWidth}prepareImageElement(t){let e;return void 0===t&&(e=document.createElement("img"),e.width=200,e.height=200),"string"==typeof t&&(e=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(e=t),e}prepareVideoElement(t){let e;return t||"undefined"==typeof document||(e=document.createElement("video"),e.width=200,e.height=200),"string"==typeof t&&(e=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(e=t),e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.setAttribute("playsinline","true"),e}decodeOnce(t,e=!0,i=!0){this._stopAsyncDecode=!1;const n=(r,o)=>{if(this._stopAsyncDecode)return o(new D("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{r(this.decode(t))}catch(t){if(e&&t instanceof D||(t instanceof f||t instanceof A)&&i)return setTimeout(n,this._timeBetweenDecodingAttempts,r,o);o(t)}};return new Promise(((t,e)=>n(t,e)))}decodeContinuously(t,e){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const n=this.decode(t);e(n,null),setTimeout(i,this.timeBetweenScansMillis)}catch(t){e(null,t),(t instanceof f||t instanceof A||t instanceof D)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const e=this.createBinaryBitmap(t);return this.decodeBitmap(e)}_isHTMLVideoElement(t){return 0!==t.videoWidth}drawFrameOnCanvas(t,e,i){e||(e={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)}drawImageOnCanvas(t,e,i=this.captureCanvasContext){e||(e={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const e=this.getCaptureCanvas(t),i=new L(e),n=new R(i);return new u(n)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const e=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=e}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const e=this.createCaptureCanvas(t);this.captureCanvas=e}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;const e=document.createElement("canvas");let i,n;return void 0!==t&&(t instanceof HTMLVideoElement?(i=t.videoWidth,n=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,n=t.naturalHeight||t.height)),e.style.width=i+"px",e.style.height=n+"px",e.width=i,e.height=n,e}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach((t=>t.stop())),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,e){try{t.srcObject=e}catch(i){t.src=URL.createObjectURL(e)}}cleanVideoSource(t){try{t.srcObject=null}catch(e){t.src=""}this.videoElement.removeAttribute("src")}}class V{constructor(t,e,i=(null==e?0:8*e.length),n,r,o=p.currentTimeMillis()){this.text=t,this.rawBytes=e,this.numBits=i,this.resultPoints=n,this.format=r,this.timestamp=o,this.text=t,this.rawBytes=e,this.numBits=null==i?null==e?0:8*e.length:i,this.resultPoints=n,this.format=r,this.resultMetadata=null,this.timestamp=null==o?p.currentTimeMillis():o}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,e){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(t,e)}putAllMetadata(t){null!==t&&(null===this.resultMetadata?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const e=this.resultPoints;if(null===e)this.resultPoints=t;else if(null!==t&&t.length>0){const i=new Array(e.length+t.length);p.arraycopy(e,0,i,0,e.length),p.arraycopy(t,0,i,e.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}!function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(B||(B={}));var z,U=B;!function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(z||(z={}));var j,W,Y,G,X,Z,q=z;class Q{constructor(t,e,i,n,r=-1,o=-1){this.rawBytes=t,this.text=e,this.byteSegments=i,this.ecLevel=n,this.structuredAppendSequenceNumber=r,this.structuredAppendParity=o,this.numBits=null==t?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class K{exp(t){return this.expTable[t]}log(t){if(0===t)throw new d;return this.logTable[t]}static addOrSubtract(t,e){return t^e}}class ${constructor(t,e){if(0===e.length)throw new d;this.field=t;const i=e.length;if(i>1&&0===e[0]){let t=1;for(;t<i&&0===e[t];)t++;t===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-t),p.arraycopy(e,t,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(0===t)return this.getCoefficient(0);const e=this.coefficients;let i;if(1===t){i=0;for(let t=0,n=e.length;t!==n;t++){const n=e[t];i=K.addOrSubtract(i,n)}return i}i=e[0];const n=e.length,r=this.field;for(let o=1;o<n;o++)i=K.addOrSubtract(r.multiply(t,i),e[o]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new d("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let e=this.coefficients,i=t.coefficients;if(e.length>i.length){const t=e;e=i,i=t}let n=new Int32Array(i.length);const r=i.length-e.length;p.arraycopy(i,0,n,0,r);for(let t=r;t<i.length;t++)n[t]=K.addOrSubtract(e[t-r],i[t]);return new $(this.field,n)}multiply(t){if(!this.field.equals(t.field))throw new d("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const e=this.coefficients,i=e.length,n=t.coefficients,r=n.length,o=new Int32Array(i+r-1),s=this.field;for(let t=0;t<i;t++){const i=e[t];for(let e=0;e<r;e++)o[t+e]=K.addOrSubtract(o[t+e],s.multiply(i,n[e]))}return new $(s,o)}multiplyScalar(t){if(0===t)return this.field.getZero();if(1===t)return this;const e=this.coefficients.length,i=this.field,n=new Int32Array(e),r=this.coefficients;for(let o=0;o<e;o++)n[o]=i.multiply(r[o],t);return new $(i,n)}multiplyByMonomial(t,e){if(t<0)throw new d;if(0===e)return this.field.getZero();const i=this.coefficients,n=i.length,r=new Int32Array(n+t),o=this.field;for(let t=0;t<n;t++)r[t]=o.multiply(i[t],e);return new $(o,r)}divide(t){if(!this.field.equals(t.field))throw new d("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new d("Divide by 0");const e=this.field;let i=e.getZero(),n=this;const r=t.getCoefficient(t.getDegree()),o=e.inverse(r);for(;n.getDegree()>=t.getDegree()&&!n.isZero();){const r=n.getDegree()-t.getDegree(),s=e.multiply(n.getCoefficient(n.getDegree()),o),a=t.multiplyByMonomial(r,s),c=e.buildMonomial(r,s);i=i.addOrSubtract(c),n=n.addOrSubtract(a)}return[i,n]}toString(){let t="";for(let e=this.getDegree();e>=0;e--){let i=this.getCoefficient(e);if(0!==i){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),0===e||1!==i){const e=this.field.log(i);0===e?t+="1":1===e?t+="a":(t+="a^",t+=e)}0!==e&&(1===e?t+="x":(t+="x^",t+=e))}}return t}}class J extends l{}J.kind="ArithmeticException";class tt extends K{constructor(t,e,i){super(),this.primitive=t,this.size=e,this.generatorBase=i;const n=new Int32Array(e);let r=1;for(let i=0;i<e;i++)n[i]=r,r*=2,r>=e&&(r^=t,r&=e-1);this.expTable=n;const o=new Int32Array(e);for(let t=0;t<e-1;t++)o[n[t]]=t;this.logTable=o,this.zero=new $(this,Int32Array.from([0])),this.one=new $(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,e){if(t<0)throw new d;if(0===e)return this.zero;const i=new Int32Array(t+1);return i[0]=e,new $(this,i)}inverse(t){if(0===t)throw new J;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}tt.AZTEC_DATA_12=new tt(4201,4096,1),tt.AZTEC_DATA_10=new tt(1033,1024,1),tt.AZTEC_DATA_6=new tt(67,64,1),tt.AZTEC_PARAM=new tt(19,16,1),tt.QR_CODE_FIELD_256=new tt(285,256,0),tt.DATA_MATRIX_FIELD_256=new tt(301,256,1),tt.AZTEC_DATA_8=tt.DATA_MATRIX_FIELD_256,tt.MAXICODE_FIELD_64=tt.AZTEC_DATA_6;class et extends l{}et.kind="ReedSolomonException";class it extends l{}it.kind="IllegalStateException";class nt{constructor(t){this.field=t}decode(t,e){const i=this.field,n=new $(i,t),r=new Int32Array(e);let o=!0;for(let t=0;t<e;t++){const e=n.evaluateAt(i.exp(t+i.getGeneratorBase()));r[r.length-1-t]=e,0!==e&&(o=!1)}if(o)return;const s=new $(i,r),a=this.runEuclideanAlgorithm(i.buildMonomial(e,1),s,e),c=a[0],l=a[1],h=this.findErrorLocations(c),d=this.findErrorMagnitudes(l,h);for(let e=0;e<h.length;e++){const n=t.length-1-i.log(h[e]);if(n<0)throw new et("Bad error location");t[n]=tt.addOrSubtract(t[n],d[e])}}runEuclideanAlgorithm(t,e,i){if(t.getDegree()<e.getDegree()){const i=t;t=e,e=i}const n=this.field;let r=t,o=e,s=n.getZero(),a=n.getOne();for(;o.getDegree()>=(i/2|0);){let t=r,e=s;if(r=o,s=a,r.isZero())throw new et("r_{i-1} was zero");o=t;let i=n.getZero();const c=r.getCoefficient(r.getDegree()),l=n.inverse(c);for(;o.getDegree()>=r.getDegree()&&!o.isZero();){const t=o.getDegree()-r.getDegree(),e=n.multiply(o.getCoefficient(o.getDegree()),l);i=i.addOrSubtract(n.buildMonomial(t,e)),o=o.addOrSubtract(r.multiplyByMonomial(t,e))}if(a=i.multiply(s).addOrSubtract(e),o.getDegree()>=r.getDegree())throw new it("Division algorithm failed to reduce polynomial?")}const c=a.getCoefficient(0);if(0===c)throw new et("sigmaTilde(0) was zero");const l=n.inverse(c);return[a.multiplyScalar(l),o.multiplyScalar(l)]}findErrorLocations(t){const e=t.getDegree();if(1===e)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(e);let n=0;const r=this.field;for(let o=1;o<r.getSize()&&n<e;o++)0===t.evaluateAt(o)&&(i[n]=r.inverse(o),n++);if(n!==e)throw new et("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,e){const i=e.length,n=new Int32Array(i),r=this.field;for(let o=0;o<i;o++){const s=r.inverse(e[o]);let a=1;for(let t=0;t<i;t++)if(o!==t){const i=r.multiply(e[t],s),n=1&i?-2&i:1|i;a=r.multiply(a,n)}n[o]=r.multiply(t.evaluateAt(s),r.inverse(a)),0!==r.getGeneratorBase()&&(n[o]=r.multiply(n[o],s))}return n}}!function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"}(j||(j={}));class rt{decode(t){this.ddata=t;let e=t.getBits(),i=this.extractBits(e),n=this.correctBits(i),r=rt.convertBoolArrayToByteArray(n),o=rt.getEncodedData(n),s=new Q(r,o,null,null);return s.setNumBits(n.length),s}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let e=t.length,i=j.UPPER,n=j.UPPER,r="",o=0;for(;o<e;)if(n===j.BINARY){if(e-o<5)break;let s=rt.readCode(t,o,5);if(o+=5,0===s){if(e-o<11)break;s=rt.readCode(t,o,11)+31,o+=11}for(let i=0;i<s;i++){if(e-o<8){o=e;break}const i=rt.readCode(t,o,8);r+=x.castAsNonUtf8Char(i),o+=8}n=i}else{let s=n===j.DIGIT?4:5;if(e-o<s)break;let a=rt.readCode(t,o,s);o+=s;let c=rt.getCharacter(n,a);c.startsWith("CTRL_")?(i=n,n=rt.getTable(c.charAt(5)),"L"===c.charAt(6)&&(i=n)):(r+=c,n=i)}return r}static getTable(t){switch(t){case"L":return j.LOWER;case"P":return j.PUNCT;case"M":return j.MIXED;case"D":return j.DIGIT;case"B":return j.BINARY;default:return j.UPPER}}static getCharacter(t,e){switch(t){case j.UPPER:return rt.UPPER_TABLE[e];case j.LOWER:return rt.LOWER_TABLE[e];case j.MIXED:return rt.MIXED_TABLE[e];case j.PUNCT:return rt.PUNCT_TABLE[e];case j.DIGIT:return rt.DIGIT_TABLE[e];default:throw new it("Bad table")}}correctBits(t){let e,i;this.ddata.getNbLayers()<=2?(i=6,e=tt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,e=tt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,e=tt.AZTEC_DATA_10):(i=12,e=tt.AZTEC_DATA_12);let n=this.ddata.getNbDatablocks(),r=t.length/i;if(r<n)throw new A;let o=t.length%i,s=new Int32Array(r);for(let e=0;e<r;e++,o+=i)s[e]=rt.readCode(t,o,i);try{new nt(e).decode(s,r-n)}catch(t){throw new A(t)}let a=(1<<i)-1,c=0;for(let t=0;t<n;t++){let e=s[t];if(0===e||e===a)throw new A;1!==e&&e!==a-1||c++}let l=new Array(n*i-c),h=0;for(let t=0;t<n;t++){let e=s[t];if(1===e||e===a-1)l.fill(e>1,h,h+i-1),h+=i-1;else for(let t=i-1;t>=0;--t)l[h++]=!!(e&1<<t)}return l}extractBits(t){let e=this.ddata.isCompact(),i=this.ddata.getNbLayers(),n=(e?11:14)+4*i,r=new Int32Array(n),o=new Array(this.totalBitsInLayer(i,e));if(e)for(let t=0;t<r.length;t++)r[t]=t;else{let t=n+1+2*_.truncDivision(_.truncDivision(n,2)-1,15),e=n/2,i=_.truncDivision(t,2);for(let t=0;t<e;t++){let n=t+_.truncDivision(t,15);r[e-t-1]=i-n-1,r[e+t]=i+n+1}}for(let s=0,a=0;s<i;s++){let c=4*(i-s)+(e?9:12),l=2*s,h=n-1-l;for(let e=0;e<c;e++){let i=2*e;for(let n=0;n<2;n++)o[a+i+n]=t.get(r[l+n],r[l+e]),o[a+2*c+i+n]=t.get(r[l+e],r[h-n]),o[a+4*c+i+n]=t.get(r[h-n],r[h-e]),o[a+6*c+i+n]=t.get(r[h-e],r[l+n])}a+=8*c}return o}static readCode(t,e,i){let n=0;for(let r=e;r<e+i;r++)n<<=1,t[r]&&(n|=1);return n}static readByte(t,e){let i=t.length-e;return i>=8?rt.readCode(t,e,8):rt.readCode(t,e,i)<<8-i}static convertBoolArrayToByteArray(t){let e=new Uint8Array((t.length+7)/8);for(let i=0;i<e.length;i++)e[i]=rt.readByte(t,8*i);return e}totalBitsInLayer(t,e){return((e?88:112)+16*t)*t}}rt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],rt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],rt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],rt.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],rt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ot{constructor(){}static round(t){return NaN===t?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,e,i,n){const r=t-i,o=e-n;return Math.sqrt(r*r+o*o)}static sum(t){let e=0;for(let i=0,n=t.length;i!==n;i++)e+=t[i];return e}}class st{static floatToIntBits(t){return t}}st.MAX_VALUE=Number.MAX_SAFE_INTEGER;class at{constructor(t,e){this.x=t,this.y=e}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof at){const e=t;return this.x===e.x&&this.y===e.y}return!1}hashCode(){return 31*st.floatToIntBits(this.x)+st.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const e=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),n=this.distance(t[0],t[2]);let r,o,s;if(i>=e&&i>=n?(o=t[0],r=t[1],s=t[2]):n>=i&&n>=e?(o=t[1],r=t[0],s=t[2]):(o=t[2],r=t[0],s=t[1]),this.crossProductZ(r,o,s)<0){const t=r;r=s,s=t}t[0]=r,t[1]=o,t[2]=s}static distance(t,e){return ot.distance(t.x,t.y,e.x,e.y)}static crossProductZ(t,e,i){const n=e.x,r=e.y;return(i.x-n)*(t.y-r)-(i.y-r)*(t.x-n)}}class ct{constructor(t,e){this.bits=t,this.points=e}getBits(){return this.bits}getPoints(){return this.points}}class lt extends ct{constructor(t,e,i,n,r){super(t,e),this.compact=i,this.nbDatablocks=n,this.nbLayers=r}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ht{constructor(t,e,i,n){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),null==e&&(e=ht.INIT_SIZE),null==i&&(i=t.getWidth()/2|0),null==n&&(n=t.getHeight()/2|0);const r=e/2|0;if(this.leftInit=i-r,this.rightInit=i+r,this.upInit=n-r,this.downInit=n+r,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new D}detect(){let t=this.leftInit,e=this.rightInit,i=this.upInit,n=this.downInit,r=!1,o=!0,s=!1,a=!1,c=!1,l=!1,h=!1;const d=this.width,u=this.height;for(;o;){o=!1;let f=!0;for(;(f||!a)&&e<d;)f=this.containsBlackPoint(i,n,e,!1),f?(e++,o=!0,a=!0):a||e++;if(e>=d){r=!0;break}let g=!0;for(;(g||!c)&&n<u;)g=this.containsBlackPoint(t,e,n,!0),g?(n++,o=!0,c=!0):c||n++;if(n>=u){r=!0;break}let p=!0;for(;(p||!l)&&t>=0;)p=this.containsBlackPoint(i,n,t,!1),p?(t--,o=!0,l=!0):l||t--;if(t<0){r=!0;break}let m=!0;for(;(m||!h)&&i>=0;)m=this.containsBlackPoint(t,e,i,!0),m?(i--,o=!0,h=!0):h||i--;if(i<0){r=!0;break}o&&(s=!0)}if(!r&&s){const r=e-t;let o=null;for(let e=1;null===o&&e<r;e++)o=this.getBlackPointOnSegment(t,n-e,t+e,n);if(null==o)throw new D;let s=null;for(let e=1;null===s&&e<r;e++)s=this.getBlackPointOnSegment(t,i+e,t+e,i);if(null==s)throw new D;let a=null;for(let t=1;null===a&&t<r;t++)a=this.getBlackPointOnSegment(e,i+t,e-t,i);if(null==a)throw new D;let c=null;for(let t=1;null===c&&t<r;t++)c=this.getBlackPointOnSegment(e,n-t,e-t,n);if(null==c)throw new D;return this.centerEdges(c,o,a,s)}throw new D}getBlackPointOnSegment(t,e,i,n){const r=ot.round(ot.distance(t,e,i,n)),o=(i-t)/r,s=(n-e)/r,a=this.image;for(let i=0;i<r;i++){const n=ot.round(t+i*o),r=ot.round(e+i*s);if(a.get(n,r))return new at(n,r)}return null}centerEdges(t,e,i,n){const r=t.getX(),o=t.getY(),s=e.getX(),a=e.getY(),c=i.getX(),l=i.getY(),h=n.getX(),d=n.getY(),u=ht.CORR;return r<this.width/2?[new at(h-u,d+u),new at(s+u,a+u),new at(c-u,l-u),new at(r+u,o-u)]:[new at(h+u,d+u),new at(s+u,a-u),new at(c-u,l+u),new at(r-u,o-u)]}containsBlackPoint(t,e,i,n){const r=this.image;if(n){for(let n=t;n<=e;n++)if(r.get(n,i))return!0}else for(let n=t;n<=e;n++)if(r.get(i,n))return!0;return!1}}ht.INIT_SIZE=10,ht.CORR=1;class dt{static checkAndNudgePoints(t,e){const i=t.getWidth(),n=t.getHeight();let r=!0;for(let t=0;t<e.length&&r;t+=2){const o=Math.floor(e[t]),s=Math.floor(e[t+1]);if(o<-1||o>i||s<-1||s>n)throw new D;r=!1,-1===o?(e[t]=0,r=!0):o===i&&(e[t]=i-1,r=!0),-1===s?(e[t+1]=0,r=!0):s===n&&(e[t+1]=n-1,r=!0)}r=!0;for(let t=e.length-2;t>=0&&r;t-=2){const o=Math.floor(e[t]),s=Math.floor(e[t+1]);if(o<-1||o>i||s<-1||s>n)throw new D;r=!1,-1===o?(e[t]=0,r=!0):o===i&&(e[t]=i-1,r=!0),-1===s?(e[t+1]=0,r=!0):s===n&&(e[t+1]=n-1,r=!0)}}}class ut{constructor(t,e,i,n,r,o,s,a,c){this.a11=t,this.a21=e,this.a31=i,this.a12=n,this.a22=r,this.a32=o,this.a13=s,this.a23=a,this.a33=c}static quadrilateralToQuadrilateral(t,e,i,n,r,o,s,a,c,l,h,d,u,f,g,p){const m=ut.quadrilateralToSquare(t,e,i,n,r,o,s,a);return ut.squareToQuadrilateral(c,l,h,d,u,f,g,p).times(m)}transformPoints(t){const e=t.length,i=this.a11,n=this.a12,r=this.a13,o=this.a21,s=this.a22,a=this.a23,c=this.a31,l=this.a32,h=this.a33;for(let d=0;d<e;d+=2){const e=t[d],u=t[d+1],f=r*e+a*u+h;t[d]=(i*e+o*u+c)/f,t[d+1]=(n*e+s*u+l)/f}}transformPointsWithValues(t,e){const i=this.a11,n=this.a12,r=this.a13,o=this.a21,s=this.a22,a=this.a23,c=this.a31,l=this.a32,h=this.a33,d=t.length;for(let u=0;u<d;u++){const d=t[u],f=e[u],g=r*d+a*f+h;t[u]=(i*d+o*f+c)/g,e[u]=(n*d+s*f+l)/g}}static squareToQuadrilateral(t,e,i,n,r,o,s,a){const c=t-i+r-s,l=e-n+o-a;if(0===c&&0===l)return new ut(i-t,r-i,t,n-e,o-n,e,0,0,1);{const h=i-r,d=s-r,u=n-o,f=a-o,g=h*f-d*u,p=(c*f-d*l)/g,m=(h*l-c*u)/g;return new ut(i-t+p*i,s-t+m*s,t,n-e+p*n,a-e+m*a,e,p,m,1)}}static quadrilateralToSquare(t,e,i,n,r,o,s,a){return ut.squareToQuadrilateral(t,e,i,n,r,o,s,a).buildAdjoint()}buildAdjoint(){return new ut(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new ut(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class ft extends dt{sampleGrid(t,e,i,n,r,o,s,a,c,l,h,d,u,f,g,p,m,y,w){const _=ut.quadrilateralToQuadrilateral(n,r,o,s,a,c,l,h,d,u,f,g,p,m,y,w);return this.sampleGridWithTransform(t,e,i,_)}sampleGridWithTransform(t,e,i,n){if(e<=0||i<=0)throw new D;const r=new M(e,i),o=new Float32Array(2*e);for(let e=0;e<i;e++){const i=o.length,s=e+.5;for(let t=0;t<i;t+=2)o[t]=t/2+.5,o[t+1]=s;n.transformPoints(o),dt.checkAndNudgePoints(t,o);try{for(let n=0;n<i;n+=2)t.get(Math.floor(o[n]),Math.floor(o[n+1]))&&r.set(n/2,e)}catch(t){throw new D}}return r}}class gt{static setGridSampler(t){gt.gridSampler=t}static getInstance(){return gt.gridSampler}}gt.gridSampler=new ft;class pt{constructor(t,e){this.x=t,this.y=e}toResultPoint(){return new at(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class mt{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let e=this.getMatrixCenter(),i=this.getBullsEyeCorners(e);if(t){let t=i[0];i[0]=i[2],i[2]=t}this.extractParameters(i);let n=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),r=this.getMatrixCornerPoints(i);return new lt(n,r,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!(this.isValidPoint(t[0])&&this.isValidPoint(t[1])&&this.isValidPoint(t[2])&&this.isValidPoint(t[3])))throw new D;let e=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],e),this.sampleLine(t[1],t[2],e),this.sampleLine(t[2],t[3],e),this.sampleLine(t[3],t[0],e)]);this.shift=this.getRotation(i,e);let n=0;for(let t=0;t<4;t++){let e=i[(this.shift+t)%4];this.compact?(n<<=7,n+=e>>1&127):(n<<=10,n+=(e>>2&992)+(e>>1&31))}let r=this.getCorrectedParameterData(n,this.compact);this.compact?(this.nbLayers=1+(r>>6),this.nbDataBlocks=1+(63&r)):(this.nbLayers=1+(r>>11),this.nbDataBlocks=1+(2047&r))}getRotation(t,e){let i=0;t.forEach(((t,n,r)=>{i=(t>>e-2<<1)+(1&t)+(i<<3)})),i=((1&i)<<11)+(i>>1);for(let t=0;t<4;t++)if(_.bitCount(i^this.EXPECTED_CORNER_BITS[t])<=2)return t;throw new D}getCorrectedParameterData(t,e){let i,n;e?(i=7,n=2):(i=10,n=4);let r=i-n,o=new Int32Array(i);for(let e=i-1;e>=0;--e)o[e]=15&t,t>>=4;try{new nt(tt.AZTEC_PARAM).decode(o,r)}catch(t){throw new D}let s=0;for(let t=0;t<n;t++)s=(s<<4)+o[t];return s}getBullsEyeCorners(t){let e=t,i=t,n=t,r=t,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let t=this.getFirstDifferent(e,o,1,-1),s=this.getFirstDifferent(i,o,1,1),a=this.getFirstDifferent(n,o,-1,1),c=this.getFirstDifferent(r,o,-1,-1);if(this.nbCenterLayers>2){let i=this.distancePoint(c,t)*this.nbCenterLayers/(this.distancePoint(r,e)*(this.nbCenterLayers+2));if(i<.75||i>1.25||!this.isWhiteOrBlackRectangle(t,s,a,c))break}e=t,i=s,n=a,r=c,o=!o}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new D;this.compact=5===this.nbCenterLayers;let s=new at(e.getX()+.5,e.getY()-.5),a=new at(i.getX()+.5,i.getY()+.5),c=new at(n.getX()-.5,n.getY()+.5),l=new at(r.getX()-.5,r.getY()-.5);return this.expandSquare([s,a,c,l],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,e,i,n;try{let r=new ht(this.image).detect();t=r[0],e=r[1],i=r[2],n=r[3]}catch(r){let o=this.image.getWidth()/2,s=this.image.getHeight()/2;t=this.getFirstDifferent(new pt(o+7,s-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new pt(o+7,s+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new pt(o-7,s+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new pt(o-7,s-7),!1,-1,-1).toResultPoint()}let r=ot.round((t.getX()+n.getX()+e.getX()+i.getX())/4),o=ot.round((t.getY()+n.getY()+e.getY()+i.getY())/4);try{let s=new ht(this.image,15,r,o).detect();t=s[0],e=s[1],i=s[2],n=s[3]}catch(s){t=this.getFirstDifferent(new pt(r+7,o-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new pt(r+7,o+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new pt(r-7,o+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new pt(r-7,o-7),!1,-1,-1).toResultPoint()}return r=ot.round((t.getX()+n.getX()+e.getX()+i.getX())/4),o=ot.round((t.getY()+n.getY()+e.getY()+i.getY())/4),new pt(r,o)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,e,i,n,r){let o=gt.getInstance(),s=this.getDimension(),a=s/2-this.nbCenterLayers,c=s/2+this.nbCenterLayers;return o.sampleGrid(t,s,s,a,a,c,a,c,c,a,c,e.getX(),e.getY(),i.getX(),i.getY(),n.getX(),n.getY(),r.getX(),r.getY())}sampleLine(t,e,i){let n=0,r=this.distanceResultPoint(t,e),o=r/i,s=t.getX(),a=t.getY(),c=o*(e.getX()-t.getX())/r,l=o*(e.getY()-t.getY())/r;for(let t=0;t<i;t++)this.image.get(ot.round(s+t*c),ot.round(a+t*l))&&(n|=1<<i-t-1);return n}isWhiteOrBlackRectangle(t,e,i,n){let r=3;t=new pt(t.getX()-r,t.getY()+r),e=new pt(e.getX()-r,e.getY()-r),i=new pt(i.getX()+r,i.getY()-r),n=new pt(n.getX()+r,n.getY()+r);let o=this.getColor(n,t);if(0===o)return!1;let s=this.getColor(t,e);return s===o&&(s=this.getColor(e,i),s===o&&(s=this.getColor(i,n),s===o))}getColor(t,e){let i=this.distancePoint(t,e),n=(e.getX()-t.getX())/i,r=(e.getY()-t.getY())/i,o=0,s=t.getX(),a=t.getY(),c=this.image.get(t.getX(),t.getY()),l=Math.ceil(i);for(let t=0;t<l;t++)s+=n,a+=r,this.image.get(ot.round(s),ot.round(a))!==c&&o++;let h=o/i;return h>.1&&h<.9?0:h<=.1===c?1:-1}getFirstDifferent(t,e,i,n){let r=t.getX()+i,o=t.getY()+n;for(;this.isValid(r,o)&&this.image.get(r,o)===e;)r+=i,o+=n;for(r-=i,o-=n;this.isValid(r,o)&&this.image.get(r,o)===e;)r+=i;for(r-=i;this.isValid(r,o)&&this.image.get(r,o)===e;)o+=n;return o-=n,new pt(r,o)}expandSquare(t,e,i){let n=i/(2*e),r=t[0].getX()-t[2].getX(),o=t[0].getY()-t[2].getY(),s=(t[0].getX()+t[2].getX())/2,a=(t[0].getY()+t[2].getY())/2,c=new at(s+n*r,a+n*o),l=new at(s-n*r,a-n*o);return r=t[1].getX()-t[3].getX(),o=t[1].getY()-t[3].getY(),s=(t[1].getX()+t[3].getX())/2,a=(t[1].getY()+t[3].getY())/2,[c,new at(s+n*r,a+n*o),l,new at(s-n*r,a-n*o)]}isValid(t,e){return t>=0&&t<this.image.getWidth()&&e>0&&e<this.image.getHeight()}isValidPoint(t){let e=ot.round(t.getX()),i=ot.round(t.getY());return this.isValid(e,i)}distancePoint(t,e){return ot.distance(t.getX(),t.getY(),e.getX(),e.getY())}distanceResultPoint(t,e){return ot.distance(t.getX(),t.getY(),e.getX(),e.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class yt{decode(t,e=null){let i=null,n=new mt(t.getBlackMatrix()),r=null,o=null;try{let t=n.detectMirror(!1);r=t.getPoints(),this.reportFoundResultPoints(e,r),o=(new rt).decode(t)}catch(t){i=t}if(null==o)try{let t=n.detectMirror(!0);r=t.getPoints(),this.reportFoundResultPoints(e,r),o=(new rt).decode(t)}catch(t){if(null!=i)throw i;throw t}let s=new V(o.getText(),o.getRawBytes(),o.getNumBits(),r,U.AZTEC,p.currentTimeMillis()),a=o.getByteSegments();null!=a&&s.putMetadata(q.BYTE_SEGMENTS,a);let c=o.getECLevel();return null!=c&&s.putMetadata(q.ERROR_CORRECTION_LEVEL,c),s}reportFoundResultPoints(t,e){if(null!=t){let i=t.get(E.NEED_RESULT_POINT_CALLBACK);null!=i&&e.forEach(((t,e,n)=>{i.foundPossibleResultPoint(t)}))}}reset(){}}class wt extends H{constructor(t=500){super(new yt,t)}}class _t{decode(t,e){try{return this.doDecode(t,e)}catch(i){if(e&&!0===e.get(E.TRY_HARDER)&&t.isRotateSupported()){const i=t.rotateCounterClockwise(),n=this.doDecode(i,e),r=n.getResultMetadata();let o=270;null!==r&&!0===r.get(q.ORIENTATION)&&(o+=r.get(q.ORIENTATION)%360),n.putMetadata(q.ORIENTATION,o);const s=n.getResultPoints();if(null!==s){const t=i.getHeight();for(let e=0;e<s.length;e++)s[e]=new at(t-s[e].getY()-1,s[e].getX())}return n}throw new D}}reset(){}doDecode(t,e){const i=t.getWidth(),n=t.getHeight();let r=new b(i);const o=e&&!0===e.get(E.TRY_HARDER),s=Math.max(1,n>>(o?8:5));let a;a=o?n:15;const c=Math.trunc(n/2);for(let o=0;o<a;o++){const a=Math.trunc((o+1)/2),l=c+s*(1&o?-a:a);if(l<0||l>=n)break;try{r=t.getBlackRow(l,r)}catch(t){continue}for(let t=0;t<2;t++){if(1===t&&(r.reverse(),e&&!0===e.get(E.NEED_RESULT_POINT_CALLBACK))){const t=new Map;e.forEach(((e,i)=>t.set(i,e))),t.delete(E.NEED_RESULT_POINT_CALLBACK),e=t}try{const n=this.decodeRow(l,r,e);if(1===t){n.putMetadata(q.ORIENTATION,180);const t=n.getResultPoints();null!==t&&(t[0]=new at(i-t[0].getX()-1,t[0].getY()),t[1]=new at(i-t[1].getX()-1,t[1].getY()))}return n}catch(t){}}}throw new D}static recordPattern(t,e,i){const n=i.length;for(let t=0;t<n;t++)i[t]=0;const r=t.getSize();if(e>=r)throw new D;let o=!t.get(e),s=0,a=e;for(;a<r;){if(t.get(a)!==o)i[s]++;else{if(++s===n)break;i[s]=1,o=!o}a++}if(s!==n&&(s!==n-1||a!==r))throw new D}static recordPatternInReverse(t,e,i){let n=i.length,r=t.get(e);for(;e>0&&n>=0;)t.get(--e)!==r&&(n--,r=!r);if(n>=0)throw new D;_t.recordPattern(t,e+1,i)}static patternMatchVariance(t,e,i){const n=t.length;let r=0,o=0;for(let i=0;i<n;i++)r+=t[i],o+=e[i];if(r<o)return Number.POSITIVE_INFINITY;const s=r/o;i*=s;let a=0;for(let r=0;r<n;r++){const n=t[r],o=e[r]*s,c=n>o?n-o:o-n;if(c>i)return Number.POSITIVE_INFINITY;a+=c}return a/r}}class bt extends _t{static findStartPattern(t){const e=t.getSize(),i=t.getNextSet(0);let n=0,r=Int32Array.from([0,0,0,0,0,0]),o=i,s=!1;const a=6;for(let c=i;c<e;c++)if(t.get(c)!==s)r[n]++;else{if(n===a-1){let e=bt.MAX_AVG_VARIANCE,i=-1;for(let t=bt.CODE_START_A;t<=bt.CODE_START_C;t++){const n=_t.patternMatchVariance(r,bt.CODE_PATTERNS[t],bt.MAX_INDIVIDUAL_VARIANCE);n<e&&(e=n,i=t)}if(i>=0&&t.isRange(Math.max(0,o-(c-o)/2),o,!1))return Int32Array.from([o,c,i]);o+=r[0]+r[1],r=r.slice(2,r.length-1),r[n-1]=0,r[n]=0,n--}else n++;r[n]=1,s=!s}throw new D}static decodeCode(t,e,i){_t.recordPattern(t,i,e);let n=bt.MAX_AVG_VARIANCE,r=-1;for(let t=0;t<bt.CODE_PATTERNS.length;t++){const i=bt.CODE_PATTERNS[t],o=this.patternMatchVariance(e,i,bt.MAX_INDIVIDUAL_VARIANCE);o<n&&(n=o,r=t)}if(r>=0)return r;throw new D}decodeRow(t,e,i){const n=i&&!0===i.get(E.ASSUME_GS1),r=bt.findStartPattern(e),o=r[2];let s=0;const a=new Uint8Array(20);let c;switch(a[s++]=o,o){case bt.CODE_START_A:c=bt.CODE_CODE_A;break;case bt.CODE_START_B:c=bt.CODE_CODE_B;break;case bt.CODE_START_C:c=bt.CODE_CODE_C;break;default:throw new A}let l=!1,h=!1,d="",u=r[0],g=r[1];const p=Int32Array.from([0,0,0,0,0,0]);let m=0,y=0,w=o,_=0,b=!0,v=!1,C=!1;for(;!l;){const t=h;switch(h=!1,m=y,y=bt.decodeCode(e,p,g),a[s++]=y,y!==bt.CODE_STOP&&(b=!0),y!==bt.CODE_STOP&&(_++,w+=_*y),u=g,g+=p.reduce(((t,e)=>t+e),0),y){case bt.CODE_START_A:case bt.CODE_START_B:case bt.CODE_START_C:throw new A}switch(c){case bt.CODE_CODE_A:if(y<64)d+=C===v?String.fromCharCode(" ".charCodeAt(0)+y):String.fromCharCode(" ".charCodeAt(0)+y+128),C=!1;else if(y<96)d+=C===v?String.fromCharCode(y-64):String.fromCharCode(y+64),C=!1;else switch(y!==bt.CODE_STOP&&(b=!1),y){case bt.CODE_FNC_1:n&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case bt.CODE_FNC_2:case bt.CODE_FNC_3:break;case bt.CODE_FNC_4_A:!v&&C?(v=!0,C=!1):v&&C?(v=!1,C=!1):C=!0;break;case bt.CODE_SHIFT:h=!0,c=bt.CODE_CODE_B;break;case bt.CODE_CODE_B:c=bt.CODE_CODE_B;break;case bt.CODE_CODE_C:c=bt.CODE_CODE_C;break;case bt.CODE_STOP:l=!0}break;case bt.CODE_CODE_B:if(y<96)d+=C===v?String.fromCharCode(" ".charCodeAt(0)+y):String.fromCharCode(" ".charCodeAt(0)+y+128),C=!1;else switch(y!==bt.CODE_STOP&&(b=!1),y){case bt.CODE_FNC_1:n&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case bt.CODE_FNC_2:case bt.CODE_FNC_3:break;case bt.CODE_FNC_4_B:!v&&C?(v=!0,C=!1):v&&C?(v=!1,C=!1):C=!0;break;case bt.CODE_SHIFT:h=!0,c=bt.CODE_CODE_A;break;case bt.CODE_CODE_A:c=bt.CODE_CODE_A;break;case bt.CODE_CODE_C:c=bt.CODE_CODE_C;break;case bt.CODE_STOP:l=!0}break;case bt.CODE_CODE_C:if(y<100)y<10&&(d+="0"),d+=y;else switch(y!==bt.CODE_STOP&&(b=!1),y){case bt.CODE_FNC_1:n&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case bt.CODE_CODE_A:c=bt.CODE_CODE_A;break;case bt.CODE_CODE_B:c=bt.CODE_CODE_B;break;case bt.CODE_STOP:l=!0}}t&&(c=c===bt.CODE_CODE_A?bt.CODE_CODE_B:bt.CODE_CODE_A)}const S=g-u;if(g=e.getNextUnset(g),!e.isRange(g,Math.min(e.getSize(),g+(g-u)/2),!1))throw new D;if(w-=_*m,w%103!==m)throw new f;const I=d.length;if(0===I)throw new D;I>0&&b&&(d=c===bt.CODE_CODE_C?d.substring(0,I-2):d.substring(0,I-1));const x=(r[1]+r[0])/2,T=u+S/2,M=a.length,O=new Uint8Array(M);for(let t=0;t<M;t++)O[t]=a[t];const R=[new at(x,t),new at(T,t)];return new V(d,O,0,R,U.CODE_128,(new Date).getTime())}}bt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],bt.MAX_AVG_VARIANCE=.25,bt.MAX_INDIVIDUAL_VARIANCE=.7,bt.CODE_SHIFT=98,bt.CODE_CODE_C=99,bt.CODE_CODE_B=100,bt.CODE_CODE_A=101,bt.CODE_FNC_1=102,bt.CODE_FNC_2=97,bt.CODE_FNC_3=96,bt.CODE_FNC_4_A=101,bt.CODE_FNC_4_B=100,bt.CODE_START_A=103,bt.CODE_START_B=104,bt.CODE_START_C=105,bt.CODE_STOP=106;class vt extends _t{constructor(t=!1,e=!1){super(),this.usingCheckDigit=t,this.extendedMode=e,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,e,i){let n=this.counters;n.fill(0),this.decodeRowResult="";let r,o,s=vt.findAsteriskPattern(e,n),a=e.getNextSet(s[1]),c=e.getSize();do{vt.recordPattern(e,a,n);let t=vt.toNarrowWidePattern(n);if(t<0)throw new D;r=vt.patternToChar(t),this.decodeRowResult+=r,o=a;for(let t of n)a+=t;a=e.getNextSet(a)}while("*"!==r);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let l,h=0;for(let t of n)h+=t;if(a!==c&&2*(a-o-h)<h)throw new D;if(this.usingCheckDigit){let t=this.decodeRowResult.length-1,e=0;for(let i=0;i<t;i++)e+=vt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(i));if(this.decodeRowResult.charAt(t)!==vt.ALPHABET_STRING.charAt(e%43))throw new f;this.decodeRowResult=this.decodeRowResult.substring(0,t)}if(0===this.decodeRowResult.length)throw new D;l=this.extendedMode?vt.decodeExtended(this.decodeRowResult):this.decodeRowResult;let d=(s[1]+s[0])/2,u=o+h/2;return new V(l,null,0,[new at(d,t),new at(u,t)],U.CODE_39,(new Date).getTime())}static findAsteriskPattern(t,e){let i=t.getSize(),n=t.getNextSet(0),r=0,o=n,s=!1,a=e.length;for(let c=n;c<i;c++)if(t.get(c)!==s)e[r]++;else{if(r===a-1){if(this.toNarrowWidePattern(e)===vt.ASTERISK_ENCODING&&t.isRange(Math.max(0,o-Math.floor((c-o)/2)),o,!1))return[o,c];o+=e[0]+e[1],e.copyWithin(0,2,2+r-1),e[r-1]=0,e[r]=0,r--}else r++;e[r]=1,s=!s}throw new D}static toNarrowWidePattern(t){let e,i=t.length,n=0;do{let r=2147483647;for(let e of t)e<r&&e>n&&(r=e);n=r,e=0;let o=0,s=0;for(let r=0;r<i;r++){let a=t[r];a>n&&(s|=1<<i-1-r,e++,o+=a)}if(3===e){for(let r=0;r<i&&e>0;r++){let i=t[r];if(i>n&&(e--,2*i>=o))return-1}return s}}while(e>3);return-1}static patternToChar(t){for(let e=0;e<vt.CHARACTER_ENCODINGS.length;e++)if(vt.CHARACTER_ENCODINGS[e]===t)return vt.ALPHABET_STRING.charAt(e);if(t===vt.ASTERISK_ENCODING)return"*";throw new D}static decodeExtended(t){let e=t.length,i="";for(let n=0;n<e;n++){let e=t.charAt(n);if("+"===e||"$"===e||"%"===e||"/"===e){let r=t.charAt(n+1),o="\0";switch(e){case"+":if(!(r>="A"&&r<="Z"))throw new A;o=String.fromCharCode(r.charCodeAt(0)+32);break;case"$":if(!(r>="A"&&r<="Z"))throw new A;o=String.fromCharCode(r.charCodeAt(0)-64);break;case"%":if(r>="A"&&r<="E")o=String.fromCharCode(r.charCodeAt(0)-38);else if(r>="F"&&r<="J")o=String.fromCharCode(r.charCodeAt(0)-11);else if(r>="K"&&r<="O")o=String.fromCharCode(r.charCodeAt(0)+16);else if(r>="P"&&r<="T")o=String.fromCharCode(r.charCodeAt(0)+43);else if("U"===r)o="\0";else if("V"===r)o="@";else if("W"===r)o="`";else{if("X"!==r&&"Y"!==r&&"Z"!==r)throw new A;o=""}break;case"/":if(r>="A"&&r<="O")o=String.fromCharCode(r.charCodeAt(0)-32);else{if("Z"!==r)throw new A;o=":"}}i+=o,n++}else i+=e}return i}}vt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",vt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],vt.ASTERISK_ENCODING=148;class Et extends _t{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,e,i){let n=this.decodeStart(e),r=this.decodeEnd(e),o=new T;Et.decodeMiddle(e,n[1],r[0],o);let s=o.toString(),a=null;null!=i&&(a=i.get(E.ALLOWED_LENGTHS)),null==a&&(a=Et.DEFAULT_ALLOWED_LENGTHS);let c=s.length,l=!1,h=0;for(let t of a){if(c===t){l=!0;break}t>h&&(h=t)}if(!l&&c>h&&(l=!0),!l)throw new A;const d=[new at(n[1],t),new at(r[0],t)];return new V(s,null,0,d,U.ITF,(new Date).getTime())}static decodeMiddle(t,e,i,n){let r=new Int32Array(10),o=new Int32Array(5),s=new Int32Array(5);for(r.fill(0),o.fill(0),s.fill(0);e<i;){_t.recordPattern(t,e,r);for(let t=0;t<5;t++){let e=2*t;o[t]=r[e],s[t]=r[e+1]}let i=Et.decodeDigit(o);n.append(i.toString()),i=this.decodeDigit(s),n.append(i.toString()),r.forEach((function(t){e+=t}))}}decodeStart(t){let e=Et.skipWhiteSpace(t),i=Et.findGuardPattern(t,e,Et.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,e){let i=10*this.narrowLineWidth;i=i<e?i:e;for(let n=e-1;i>0&&n>=0&&!t.get(n);n--)i--;if(0!==i)throw new D}static skipWhiteSpace(t){const e=t.getSize(),i=t.getNextSet(0);if(i===e)throw new D;return i}decodeEnd(t){t.reverse();try{let e,i=Et.skipWhiteSpace(t);try{e=Et.findGuardPattern(t,i,Et.END_PATTERN_REVERSED[0])}catch(n){n instanceof D&&(e=Et.findGuardPattern(t,i,Et.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,e[0]);let n=e[0];return e[0]=t.getSize()-e[1],e[1]=t.getSize()-n,e}finally{t.reverse()}}static findGuardPattern(t,e,i){let n=i.length,r=new Int32Array(n),o=t.getSize(),s=!1,a=0,c=e;r.fill(0);for(let l=e;l<o;l++)if(t.get(l)!==s)r[a]++;else{if(a===n-1){if(_t.patternMatchVariance(r,i,Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE)return[c,l];c+=r[0]+r[1],p.arraycopy(r,2,r,0,a-1),r[a-1]=0,r[a]=0,a--}else a++;r[a]=1,s=!s}throw new D}static decodeDigit(t){let e=Et.MAX_AVG_VARIANCE,i=-1,n=Et.PATTERNS.length;for(let r=0;r<n;r++){let n=Et.PATTERNS[r],o=_t.patternMatchVariance(t,n,Et.MAX_INDIVIDUAL_VARIANCE);o<e?(e=o,i=r):o===e&&(i=-1)}if(i>=0)return i%10;throw new D}}Et.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Et.MAX_AVG_VARIANCE=.38,Et.MAX_INDIVIDUAL_VARIANCE=.5,Et.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Et.START_PATTERN=Int32Array.from([1,1,1,1]),Et.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class At extends _t{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let e,i=!1,n=0,r=Int32Array.from([0,0,0]);for(;!i;){r=Int32Array.from([0,0,0]),e=At.findGuardPattern(t,n,!1,this.START_END_PATTERN,r);let o=e[0];n=e[1];let s=o-(n-o);s>=0&&(i=t.isRange(s,o,!1))}return e}static checkChecksum(t){return At.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let e=t.length;if(0===e)return!1;let i=parseInt(t.charAt(e-1),10);return At.getStandardUPCEANChecksum(t.substring(0,e-1))===i}static getStandardUPCEANChecksum(t){let e=t.length,i=0;for(let n=e-1;n>=0;n-=2){let e=t.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(e<0||e>9)throw new A;i+=e}i*=3;for(let n=e-2;n>=0;n-=2){let e=t.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(e<0||e>9)throw new A;i+=e}return(1e3-i)%10}static decodeEnd(t,e){return At.findGuardPattern(t,e,!1,At.START_END_PATTERN,new Int32Array(At.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,e,i,n){return this.findGuardPattern(t,e,i,n,new Int32Array(n.length))}static findGuardPattern(t,e,i,n,r){let o=t.getSize(),s=0,a=e=i?t.getNextUnset(e):t.getNextSet(e),c=n.length,l=i;for(let i=e;i<o;i++)if(t.get(i)!==l)r[s]++;else{if(s===c-1){if(_t.patternMatchVariance(r,n,At.MAX_INDIVIDUAL_VARIANCE)<At.MAX_AVG_VARIANCE)return Int32Array.from([a,i]);a+=r[0]+r[1];let t=r.slice(2,r.length-1);for(let e=0;e<s-1;e++)r[e]=t[e];r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,l=!l}throw new D}static decodeDigit(t,e,i,n){this.recordPattern(t,i,e);let r=this.MAX_AVG_VARIANCE,o=-1,s=n.length;for(let t=0;t<s;t++){let i=n[t],s=_t.patternMatchVariance(e,i,At.MAX_INDIVIDUAL_VARIANCE);s<r&&(r=s,o=t)}if(o>=0)return o;throw new D}}At.MAX_AVG_VARIANCE=.48,At.MAX_INDIVIDUAL_VARIANCE=.7,At.START_END_PATTERN=Int32Array.from([1,1,1]),At.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),At.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),At.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ct{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,e,i){let n=this.decodeRowStringBuffer,r=this.decodeMiddle(e,i,n),o=n.toString(),s=Ct.parseExtensionString(o),a=[new at((i[0]+i[1])/2,t),new at(r,t)],c=new V(o,null,0,a,U.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&c.putAllMetadata(s),c}decodeMiddle(t,e,i){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let r=t.getSize(),o=e[1],s=0;for(let e=0;e<5&&o<r;e++){let r=At.decodeDigit(t,n,o,At.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+r%10);for(let t of n)o+=t;r>=10&&(s|=1<<4-e),4!==e&&(o=t.getNextSet(o),o=t.getNextUnset(o))}if(5!==i.length)throw new D;let a=this.determineCheckDigit(s);if(Ct.extensionChecksum(i.toString())!==a)throw new D;return o}static extensionChecksum(t){let e=t.length,i=0;for(let n=e-2;n>=0;n-=2)i+=t.charAt(n).charCodeAt(0)-"0".charCodeAt(0);i*=3;for(let n=e-1;n>=0;n-=2)i+=t.charAt(n).charCodeAt(0)-"0".charCodeAt(0);return i*=3,i%10}determineCheckDigit(t){for(let e=0;e<10;e++)if(t===this.CHECK_DIGIT_ENCODINGS[e])return e;throw new D}static parseExtensionString(t){if(5!==t.length)return null;let e=Ct.parseExtension5String(t);return null==e?null:new Map([[q.SUGGESTED_PRICE,e]])}static parseExtension5String(t){let e;switch(t.charAt(0)){case"0":e="";break;case"5":e="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}e="";break;default:e=""}let i=parseInt(t.substring(1)),n=i%100;return e+(i/100).toString()+"."+(n<10?"0"+n:n.toString())}}class St{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,e,i){let n=this.decodeRowStringBuffer,r=this.decodeMiddle(e,i,n),o=n.toString(),s=St.parseExtensionString(o),a=[new at((i[0]+i[1])/2,t),new at(r,t)],c=new V(o,null,0,a,U.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&c.putAllMetadata(s),c}decodeMiddle(t,e,i){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let r=t.getSize(),o=e[1],s=0;for(let e=0;e<2&&o<r;e++){let r=At.decodeDigit(t,n,o,At.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+r%10);for(let t of n)o+=t;r>=10&&(s|=1<<1-e),1!==e&&(o=t.getNextSet(o),o=t.getNextUnset(o))}if(2!==i.length)throw new D;if(parseInt(i.toString())%4!==s)throw new D;return o}static parseExtensionString(t){return 2!==t.length?null:new Map([[q.ISSUE_NUMBER,parseInt(t)]])}}class It{static decodeRow(t,e,i){let n=At.findGuardPattern(e,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Ct).decodeRow(t,e,n)}catch(i){return(new St).decodeRow(t,e,n)}}}It.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class xt extends At{constructor(){super(),this.decodeRowStringBuffer="",xt.L_AND_G_PATTERNS=xt.L_PATTERNS.map((t=>Int32Array.from(t)));for(let t=10;t<20;t++){let e=xt.L_PATTERNS[t-10],i=new Int32Array(e.length);for(let t=0;t<e.length;t++)i[t]=e[e.length-t-1];xt.L_AND_G_PATTERNS[t]=i}}decodeRow(t,e,i){let n=xt.findStartGuardPattern(e),r=null==i?null:i.get(E.NEED_RESULT_POINT_CALLBACK);if(null!=r){const e=new at((n[0]+n[1])/2,t);r.foundPossibleResultPoint(e)}let o=this.decodeMiddle(e,n,this.decodeRowStringBuffer),s=o.rowOffset,a=o.resultString;if(null!=r){const e=new at(s,t);r.foundPossibleResultPoint(e)}let c=this.decodeEnd(e,s);if(null!=r){const e=new at((c[0]+c[1])/2,t);r.foundPossibleResultPoint(e)}let l=c[1],h=l+(l-c[0]);if(h>=e.getSize()||!e.isRange(l,h,!1))throw new D;let d=a.toString();if(d.length<8)throw new A;if(!xt.checkChecksum(d))throw new f;let u=(n[1]+n[0])/2,g=(c[1]+c[0])/2,p=this.getBarcodeFormat(),m=[new at(u,t),new at(g,t)],y=new V(d,null,0,m,p,(new Date).getTime()),w=0;try{let i=It.decodeRow(t,e,c[1]);y.putMetadata(q.UPC_EAN_EXTENSION,i.getText()),y.putAllMetadata(i.getResultMetadata()),y.addResultPoints(i.getResultPoints()),w=i.getText().length}catch(t){}let _=null==i?null:i.get(E.ALLOWED_EAN_EXTENSIONS);if(null!=_){let t=!1;for(let e in _)if(w.toString()===e){t=!0;break}if(!t)throw new D}return y}decodeEnd(t,e){return xt.findGuardPattern(t,e,!1,xt.START_END_PATTERN,new Int32Array(xt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return xt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let e=t.length;if(0===e)return!1;let i=parseInt(t.charAt(e-1),10);return xt.getStandardUPCEANChecksum(t.substring(0,e-1))===i}static getStandardUPCEANChecksum(t){let e=t.length,i=0;for(let n=e-1;n>=0;n-=2){let e=t.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(e<0||e>9)throw new A;i+=e}i*=3;for(let n=e-2;n>=0;n-=2){let e=t.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(e<0||e>9)throw new A;i+=e}return(1e3-i)%10}}class Tt extends xt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,e,i){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let r=t.getSize(),o=e[1],s=0;for(let e=0;e<6&&o<r;e++){let r=xt.decodeDigit(t,n,o,xt.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+r%10);for(let t of n)o+=t;r>=10&&(s|=1<<5-e)}i=Tt.determineFirstDigit(i,s),o=xt.findGuardPattern(t,o,!0,xt.MIDDLE_PATTERN,new Int32Array(xt.MIDDLE_PATTERN.length).fill(0))[1];for(let e=0;e<6&&o<r;e++){let e=xt.decodeDigit(t,n,o,xt.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+e);for(let t of n)o+=t}return{rowOffset:o,resultString:i}}getBarcodeFormat(){return U.EAN_13}static determineFirstDigit(t,e){for(let i=0;i<10;i++)if(e===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode("0".charCodeAt(0)+i)+t;throw new D}}Tt.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Mt extends xt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,e,i){const n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let r=t.getSize(),o=e[1];for(let e=0;e<4&&o<r;e++){let e=xt.decodeDigit(t,n,o,xt.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+e);for(let t of n)o+=t}o=xt.findGuardPattern(t,o,!0,xt.MIDDLE_PATTERN,new Int32Array(xt.MIDDLE_PATTERN.length).fill(0))[1];for(let e=0;e<4&&o<r;e++){let e=xt.decodeDigit(t,n,o,xt.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+e);for(let t of n)o+=t}return{rowOffset:o,resultString:i}}getBarcodeFormat(){return U.EAN_8}}class Dt extends xt{constructor(){super(...arguments),this.ean13Reader=new Tt}getBarcodeFormat(){return U.UPC_A}decode(t,e){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,e,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,e,i))}decodeMiddle(t,e,i){return this.ean13Reader.decodeMiddle(t,e,i)}maybeReturnResult(t){let e=t.getText();if("0"===e.charAt(0)){let i=new V(e.substring(1),null,null,t.getResultPoints(),U.UPC_A);return null!=t.getResultMetadata()&&i.putAllMetadata(t.getResultMetadata()),i}throw new D}reset(){this.ean13Reader.reset()}}class Ot extends xt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,e,i){const n=this.decodeMiddleCounters.map((t=>t));n[0]=0,n[1]=0,n[2]=0,n[3]=0;const r=t.getSize();let o=e[1],s=0;for(let e=0;e<6&&o<r;e++){const r=Ot.decodeDigit(t,n,o,Ot.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+r%10);for(let t of n)o+=t;r>=10&&(s|=1<<5-e)}return{rowOffset:o,resultString:Ot.determineNumSysAndCheckDigit(i,s)}}decodeEnd(t,e){return Ot.findGuardPatternWithoutCounters(t,e,!0,Ot.MIDDLE_END_PATTERN)}checkChecksum(t){return xt.checkChecksum(Ot.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,e){for(let i=0;i<=1;i++)for(let n=0;n<10;n++)if(e===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][n])return String.fromCharCode("0".charCodeAt(0)+i)+t+String.fromCharCode("0".charCodeAt(0)+n);throw D.getNotFoundInstance()}getBarcodeFormat(){return U.UPC_E}static convertUPCEtoUPCA(t){const e=t.slice(1,7).split("").map((t=>t.charCodeAt(0))),i=new T;i.append(t.charAt(0));let n=e[5];switch(n){case 0:case 1:case 2:i.appendChars(e,0,2),i.append(n),i.append("0000"),i.appendChars(e,2,3);break;case 3:i.appendChars(e,0,3),i.append("00000"),i.appendChars(e,3,2);break;case 4:i.appendChars(e,0,4),i.append("00000"),i.append(e[4]);break;default:i.appendChars(e,0,5),i.append("0000"),i.append(n)}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}Ot.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ot.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Rt extends _t{constructor(t){super();let i=null==t?null:t.get(E.POSSIBLE_FORMATS),n=[];e(i)?(n.push(new Tt),n.push(new Dt),n.push(new Mt),n.push(new Ot)):(i.indexOf(U.EAN_13)>-1&&n.push(new Tt),i.indexOf(U.UPC_A)>-1&&n.push(new Dt),i.indexOf(U.EAN_8)>-1&&n.push(new Mt),i.indexOf(U.UPC_E)>-1&&n.push(new Ot)),this.readers=n}decodeRow(t,e,i){for(let n of this.readers)try{const r=n.decodeRow(t,e,i),o=r.getBarcodeFormat()===U.EAN_13&&"0"===r.getText().charAt(0),s=null==i?null:i.get(E.POSSIBLE_FORMATS),a=null==s||s.includes(U.UPC_A);if(o&&a){const t=r.getRawBytes(),e=new V(r.getText().substring(1),t,t?t.length:null,r.getResultPoints(),U.UPC_A);return e.putAllMetadata(r.getResultMetadata()),e}return r}catch(t){}throw new D}reset(){for(let t of this.readers)t.reset()}}class Nt extends _t{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,e){for(let i=0;i<e.length;i++)if(_t.patternMatchVariance(t,e[i],Nt.MAX_INDIVIDUAL_VARIANCE)<Nt.MAX_AVG_VARIANCE)return i;throw new D}static count(t){return ot.sum(new Int32Array(t))}static increment(t,e){let i=0,n=e[0];for(let r=1;r<t.length;r++)e[r]>n&&(n=e[r],i=r);t[i]++}static decrement(t,e){let i=0,n=e[0];for(let r=1;r<t.length;r++)e[r]<n&&(n=e[r],i=r);t[i]--}static isFinderPattern(t){let e=t[0]+t[1],i=e/(e+t[2]+t[3]);if(i>=Nt.MIN_FINDER_PATTERN_RATIO&&i<=Nt.MAX_FINDER_PATTERN_RATIO){let e=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;for(let n of t)n>i&&(i=n),n<e&&(e=n);return i<10*e}return!1}}Nt.MAX_AVG_VARIANCE=.2,Nt.MAX_INDIVIDUAL_VARIANCE=.45,Nt.MIN_FINDER_PATTERN_RATIO=9.5/12,Nt.MAX_FINDER_PATTERN_RATIO=12.5/14;class kt{constructor(t,e){this.value=t,this.checksumPortion=e}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof kt))return!1;const e=t;return this.value===e.value&&this.checksumPortion===e.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Lt{constructor(t,e,i,n,r){this.value=t,this.startEnd=e,this.value=t,this.startEnd=e,this.resultPoints=new Array,this.resultPoints.push(new at(i,r)),this.resultPoints.push(new at(n,r))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Lt))return!1;const e=t;return this.value===e.value}hashCode(){return this.value}}class Pt{constructor(){}static getRSSvalue(t,e,i){let n=0;for(let e of t)n+=e;let r=0,o=0,s=t.length;for(let a=0;a<s-1;a++){let c;for(c=1,o|=1<<a;c<t[a];c++,o&=~(1<<a)){let t=Pt.combins(n-c-1,s-a-2);if(i&&0===o&&n-c-(s-a-1)>=s-a-1&&(t-=Pt.combins(n-c-(s-a),s-a-2)),s-a-1>1){let i=0;for(let t=n-c-(s-a-2);t>e;t--)i+=Pt.combins(n-c-t-1,s-a-3);t-=i*(s-1-a)}else n-c>e&&t--;r+=t}n-=c}return r}static combins(t,e){let i,n;t-e>e?(n=e,i=t-e):(n=t-e,i=e);let r=1,o=1;for(let e=t;e>i;e--)r*=e,o<=n&&(r/=o,o++);for(;o<=n;)r/=o,o++;return r}}class Bt{static buildBitArray(t){let e=2*t.length-1;null==t[t.length-1].getRightChar()&&(e-=1);let i=new b(12*e),n=0,r=t[0].getRightChar().getValue();for(let t=11;t>=0;--t)r&1<<t&&i.set(n),n++;for(let e=1;e<t.length;++e){let r=t[e],o=r.getLeftChar().getValue();for(let t=11;t>=0;--t)o&1<<t&&i.set(n),n++;if(null!=r.getRightChar()){let t=r.getRightChar().getValue();for(let e=11;e>=0;--e)t&1<<e&&i.set(n),n++}}return i}}class Ft{constructor(t,e){e?this.decodedInformation=null:(this.finished=t,this.decodedInformation=e)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ht{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Vt extends Ht{constructor(t,e){super(t),this.value=e}getValue(){return this.value}isFNC1(){return this.value===Vt.FNC1}}Vt.FNC1="$";class zt extends Ht{constructor(t,e,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=e}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ut extends Ht{constructor(t,e,i){if(super(t),e<0||e>10||i<0||i>10)throw new A;this.firstDigit=e,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ut.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ut.FNC1}isAnyFNC1(){return this.firstDigit===Ut.FNC1||this.secondDigit===Ut.FNC1}}Ut.FNC1=10;class jt{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new D;let e=t.substring(0,2);for(let i of jt.TWO_DIGIT_DATA_LENGTH)if(i[0]===e)return i[1]===jt.VARIABLE_LENGTH?jt.processVariableAI(2,i[2],t):jt.processFixedAI(2,i[1],t);if(t.length<3)throw new D;let i=t.substring(0,3);for(let e of jt.THREE_DIGIT_DATA_LENGTH)if(e[0]===i)return e[1]===jt.VARIABLE_LENGTH?jt.processVariableAI(3,e[2],t):jt.processFixedAI(3,e[1],t);for(let e of jt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(e[0]===i)return e[1]===jt.VARIABLE_LENGTH?jt.processVariableAI(4,e[2],t):jt.processFixedAI(4,e[1],t);if(t.length<4)throw new D;let n=t.substring(0,4);for(let e of jt.FOUR_DIGIT_DATA_LENGTH)if(e[0]===n)return e[1]===jt.VARIABLE_LENGTH?jt.processVariableAI(4,e[2],t):jt.processFixedAI(4,e[1],t);throw new D}static processFixedAI(t,e,i){if(i.length<t)throw new D;let n=i.substring(0,t);if(i.length<t+e)throw new D;let r=i.substring(t,t+e),o=i.substring(t+e),s="("+n+")"+r,a=jt.parseFieldsInGeneralPurpose(o);return null==a?s:s+a}static processVariableAI(t,e,i){let n,r=i.substring(0,t);n=i.length<t+e?i.length:t+e;let o=i.substring(t,n),s=i.substring(n),a="("+r+")"+o,c=jt.parseFieldsInGeneralPurpose(s);return null==c?a:a+c}}jt.VARIABLE_LENGTH=[],jt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",jt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",jt.VARIABLE_LENGTH,20],["22",jt.VARIABLE_LENGTH,29],["30",jt.VARIABLE_LENGTH,8],["37",jt.VARIABLE_LENGTH,8],["90",jt.VARIABLE_LENGTH,30],["91",jt.VARIABLE_LENGTH,30],["92",jt.VARIABLE_LENGTH,30],["93",jt.VARIABLE_LENGTH,30],["94",jt.VARIABLE_LENGTH,30],["95",jt.VARIABLE_LENGTH,30],["96",jt.VARIABLE_LENGTH,30],["97",jt.VARIABLE_LENGTH,3],["98",jt.VARIABLE_LENGTH,30],["99",jt.VARIABLE_LENGTH,30]],jt.THREE_DIGIT_DATA_LENGTH=[["240",jt.VARIABLE_LENGTH,30],["241",jt.VARIABLE_LENGTH,30],["242",jt.VARIABLE_LENGTH,6],["250",jt.VARIABLE_LENGTH,30],["251",jt.VARIABLE_LENGTH,30],["253",jt.VARIABLE_LENGTH,17],["254",jt.VARIABLE_LENGTH,20],["400",jt.VARIABLE_LENGTH,30],["401",jt.VARIABLE_LENGTH,30],["402",17],["403",jt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",jt.VARIABLE_LENGTH,20],["421",jt.VARIABLE_LENGTH,15],["422",3],["423",jt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],jt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",jt.VARIABLE_LENGTH,15],["391",jt.VARIABLE_LENGTH,18],["392",jt.VARIABLE_LENGTH,15],["393",jt.VARIABLE_LENGTH,18],["703",jt.VARIABLE_LENGTH,30]],jt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",jt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",jt.VARIABLE_LENGTH,20],["8003",jt.VARIABLE_LENGTH,30],["8004",jt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",jt.VARIABLE_LENGTH,30],["8008",jt.VARIABLE_LENGTH,12],["8018",18],["8020",jt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",jt.VARIABLE_LENGTH,70],["8200",jt.VARIABLE_LENGTH,70]];class Wt{constructor(t){this.buffer=new T,this.information=t}decodeAllCodes(t,e){let i=e,n=null;for(;;){let e=this.decodeGeneralPurposeField(i,n),r=jt.parseFieldsInGeneralPurpose(e.getNewString());if(null!=r&&t.append(r),n=e.isRemaining()?""+e.getRemainingValue():null,i===e.getNewPosition())break;i=e.getNewPosition()}return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let e=t;e<t+3;++e)if(this.information.get(e))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let e=this.extractNumericValueFromBitArray(t,4);return new Ut(this.information.getSize(),0===e?Ut.FNC1:e-1,Ut.FNC1)}let e=this.extractNumericValueFromBitArray(t,7);return new Ut(t+7,(e-8)/11,(e-8)%11)}extractNumericValueFromBitArray(t,e){return Wt.extractNumericValueFromBitArray(this.information,t,e)}static extractNumericValueFromBitArray(t,e,i){let n=0;for(let r=0;r<i;++r)t.get(e+r)&&(n|=1<<i-r-1);return n}decodeGeneralPurposeField(t,e){this.buffer.setLengthToZero(),null!=e&&this.buffer.append(e),this.current.setPosition(t);let i=this.parseBlocks();return null!=i&&i.isRemaining()?new zt(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new zt(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,e;do{let i=this.current.getPosition();if(this.current.isAlpha()?(e=this.parseAlphaBlock(),t=e.isFinished()):this.current.isIsoIec646()?(e=this.parseIsoIec646Block(),t=e.isFinished()):(e=this.parseNumericBlock(),t=e.isFinished()),i===this.current.getPosition()&&!t)break}while(!t);return e.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let e;return e=t.isSecondDigitFNC1()?new zt(this.current.getPosition(),this.buffer.toString()):new zt(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Ft(!0,e)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let t=new zt(this.current.getPosition(),this.buffer.toString());return new Ft(!0,t)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ft(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let t=new zt(this.current.getPosition(),this.buffer.toString());return new Ft(!0,t)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ft(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let t=new zt(this.current.getPosition(),this.buffer.toString());return new Ft(!0,t)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ft(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(t,8);return n>=232&&n<253}decodeIsoIec646(t){let e=this.extractNumericValueFromBitArray(t,5);if(15===e)return new Vt(t+5,Vt.FNC1);if(e>=5&&e<15)return new Vt(t+5,"0"+(e-5));let i,n=this.extractNumericValueFromBitArray(t,7);if(n>=64&&n<90)return new Vt(t+7,""+(n+1));if(n>=90&&n<116)return new Vt(t+7,""+(n+7));switch(this.extractNumericValueFromBitArray(t,8)){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new A}return new Vt(t+8,i)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let e=this.extractNumericValueFromBitArray(t,5);if(15===e)return new Vt(t+5,Vt.FNC1);if(e>=5&&e<15)return new Vt(t+5,"0"+(e-5));let i,n=this.extractNumericValueFromBitArray(t,6);if(n>=32&&n<58)return new Vt(t+6,""+(n+33));switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new it("Decoding invalid alphanumeric value: "+n)}return new Vt(t+6,i)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let e=0;e<5&&e+t<this.information.getSize();++e)if(2===e){if(!this.information.get(t+2))return!1}else if(this.information.get(t+e))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let e=t;e<t+3;++e)if(this.information.get(e))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let e=0;e<4&&e+t<this.information.getSize();++e)if(this.information.get(t+e))return!1;return!0}}class Yt{constructor(t){this.information=t,this.generalDecoder=new Wt(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Gt extends Yt{constructor(t){super(t)}encodeCompressedGtin(t,e){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,e,i)}encodeCompressedGtinWithoutAI(t,e,i){for(let i=0;i<4;++i){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(e+10*i,10);n/100==0&&t.append("0"),n/10==0&&t.append("0"),t.append(n)}Gt.appendCheckDigit(t,i)}static appendCheckDigit(t,e){let i=0;for(let n=0;n<13;n++){let r=t.charAt(n+e).charCodeAt(0)-"0".charCodeAt(0);i+=1&n?r:3*r}i=10-i%10,10===i&&(i=0),t.append(i)}}Gt.GTIN_SIZE=40;class Xt extends Gt{constructor(t){super(t)}parseInformation(){let t=new T;t.append("(01)");let e=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(Xt.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,Xt.HEADER_SIZE+4,e),this.getGeneralDecoder().decodeAllCodes(t,Xt.HEADER_SIZE+44)}}Xt.HEADER_SIZE=4;class Zt extends Yt{constructor(t){super(t)}parseInformation(){let t=new T;return this.getGeneralDecoder().decodeAllCodes(t,Zt.HEADER_SIZE)}}Zt.HEADER_SIZE=5;class qt extends Gt{constructor(t){super(t)}encodeCompressedWeight(t,e,i){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(e,i);this.addWeightCode(t,n);let r=this.checkWeight(n),o=1e5;for(let e=0;e<5;++e)r/o==0&&t.append("0"),o/=10;t.append(r)}}class Qt extends qt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Qt.HEADER_SIZE+qt.GTIN_SIZE+Qt.WEIGHT_SIZE)throw new D;let t=new T;return this.encodeCompressedGtin(t,Qt.HEADER_SIZE),this.encodeCompressedWeight(t,Qt.HEADER_SIZE+qt.GTIN_SIZE,Qt.WEIGHT_SIZE),t.toString()}}Qt.HEADER_SIZE=5,Qt.WEIGHT_SIZE=15;class Kt extends Qt{constructor(t){super(t)}addWeightCode(t,e){t.append("(3103)")}checkWeight(t){return t}}class $t extends Qt{constructor(t){super(t)}addWeightCode(t,e){e<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Jt extends Gt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Jt.HEADER_SIZE+Gt.GTIN_SIZE)throw new D;let t=new T;this.encodeCompressedGtin(t,Jt.HEADER_SIZE);let e=this.getGeneralDecoder().extractNumericValueFromBitArray(Jt.HEADER_SIZE+Gt.GTIN_SIZE,Jt.LAST_DIGIT_SIZE);t.append("(392"),t.append(e),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Jt.HEADER_SIZE+Gt.GTIN_SIZE+Jt.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}Jt.HEADER_SIZE=8,Jt.LAST_DIGIT_SIZE=2;class te extends Gt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<te.HEADER_SIZE+Gt.GTIN_SIZE)throw new D;let t=new T;this.encodeCompressedGtin(t,te.HEADER_SIZE);let e=this.getGeneralDecoder().extractNumericValueFromBitArray(te.HEADER_SIZE+Gt.GTIN_SIZE,te.LAST_DIGIT_SIZE);t.append("(393"),t.append(e),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(te.HEADER_SIZE+Gt.GTIN_SIZE+te.LAST_DIGIT_SIZE,te.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let n=this.getGeneralDecoder().decodeGeneralPurposeField(te.HEADER_SIZE+Gt.GTIN_SIZE+te.LAST_DIGIT_SIZE+te.FIRST_THREE_DIGITS_SIZE,null);return t.append(n.getNewString()),t.toString()}}te.HEADER_SIZE=8,te.LAST_DIGIT_SIZE=2,te.FIRST_THREE_DIGITS_SIZE=10;class ee extends qt{constructor(t,e,i){super(t),this.dateCode=i,this.firstAIdigits=e}parseInformation(){if(this.getInformation().getSize()!=ee.HEADER_SIZE+ee.GTIN_SIZE+ee.WEIGHT_SIZE+ee.DATE_SIZE)throw new D;let t=new T;return this.encodeCompressedGtin(t,ee.HEADER_SIZE),this.encodeCompressedWeight(t,ee.HEADER_SIZE+ee.GTIN_SIZE,ee.WEIGHT_SIZE),this.encodeCompressedDate(t,ee.HEADER_SIZE+ee.GTIN_SIZE+ee.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,e){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(e,ee.DATE_SIZE);if(38400==i)return;t.append("("),t.append(this.dateCode),t.append(")");let n=i%32;i/=32;let r=i%12+1;i/=12;let o=i;o/10==0&&t.append("0"),t.append(o),r/10==0&&t.append("0"),t.append(r),n/10==0&&t.append("0"),t.append(n)}addWeightCode(t,e){t.append("("),t.append(this.firstAIdigits),t.append(e/1e5),t.append(")")}checkWeight(t){return t%1e5}}function ie(t){try{if(t.get(1))return new Xt(t);if(!t.get(2))return new Zt(t);switch(Wt.extractNumericValueFromBitArray(t,1,4)){case 4:return new Kt(t);case 5:return new $t(t)}switch(Wt.extractNumericValueFromBitArray(t,1,5)){case 12:return new Jt(t);case 13:return new te(t)}switch(Wt.extractNumericValueFromBitArray(t,1,7)){case 56:return new ee(t,"310","11");case 57:return new ee(t,"320","11");case 58:return new ee(t,"310","13");case 59:return new ee(t,"320","13");case 60:return new ee(t,"310","15");case 61:return new ee(t,"320","15");case 62:return new ee(t,"310","17");case 63:return new ee(t,"320","17")}}catch(e){throw console.log(e),new it("unknown decoder: "+t)}}ee.HEADER_SIZE=8,ee.WEIGHT_SIZE=20,ee.DATE_SIZE=16;class ne{constructor(t,e,i,n){this.leftchar=t,this.rightchar=e,this.finderpattern=i,this.maybeLast=n}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(t,e){return t instanceof ne&&ne.equalsOrNull(t.leftchar,e.leftchar)&&ne.equalsOrNull(t.rightchar,e.rightchar)&&ne.equalsOrNull(t.finderpattern,e.finderpattern)}static equalsOrNull(t,e){return null===t?null===e:ne.equals(t,e)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class re{constructor(t,e,i){this.pairs=t,this.rowNumber=e,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,e){return t instanceof re&&this.checkEqualitity(t,e)&&t.wasReversed===e.wasReversed}checkEqualitity(t,e){if(!t||!e)return;let i;return t.forEach(((t,n)=>{e.forEach((e=>{t.getLeftChar().getValue()===e.getLeftChar().getValue()&&t.getRightChar().getValue()===e.getRightChar().getValue()&&t.getFinderPatter().getValue()===e.getFinderPatter().getValue()&&(i=!0)}))})),i}}class oe extends Nt{constructor(t){super(...arguments),this.pairs=new Array(oe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===t}decodeRow(t,e,i){this.pairs.length=0,this.startFromEven=!1;try{return oe.constructResult(this.decodeRow2pairs(t,e))}catch(t){this.verbose&&console.log(t)}return this.pairs.length=0,this.startFromEven=!0,oe.constructResult(this.decodeRow2pairs(t,e))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,e){let i,n=!1;for(;!n;)try{this.pairs.push(this.retrieveNextPair(e,this.pairs,t))}catch(t){if(t instanceof D){if(!this.pairs.length)throw new D;n=!0}}if(this.checkChecksum())return this.pairs;if(i=!!this.rows.length,this.storeRow(t,!1),i){let t=this.checkRowsBoolean(!1);if(null!=t)return t;if(t=this.checkRowsBoolean(!0),null!=t)return t}throw new D}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let e=null;try{e=this.checkRows(new Array,0)}catch(t){this.verbose&&console.log(t)}return t&&(this.rows=this.rows.reverse()),e}checkRows(t,e){for(let i=e;i<this.rows.length;i++){let e=this.rows[i];this.pairs.length=0;for(let e of t)this.pairs.push(e.getPairs());if(this.pairs.push(e.getPairs()),!oe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let n=new Array(t);n.push(e);try{return this.checkRows(n,i+1)}catch(t){this.verbose&&console.log(t)}}throw new D}static isValidSequence(t){for(let e of oe.FINDER_PATTERN_SEQUENCES){if(t.length>e.length)continue;let i=!0;for(let n=0;n<t.length;n++)if(t[n].getFinderPattern().getValue()!=e[n]){i=!1;break}if(i)return!0}return!1}storeRow(t,e){let i=0,n=!1,r=!1;for(;i<this.rows.length;){let e=this.rows[i];if(e.getRowNumber()>t){r=e.isEquivalent(this.pairs);break}n=e.isEquivalent(this.pairs),i++}r||n||oe.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new re(this.pairs,t,e)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,e){for(let i of e)if(i.getPairs().length!==t.length)for(let e of i.getPairs())for(let i of t)if(ne.equals(e,i))break}static isPartialRow(t,e){for(let i of e){let e=!0;for(let n of t){let t=!1;for(let e of i.getPairs())if(n.equals(e)){t=!0;break}if(!t){e=!1;break}}if(e)return!0}return!1}getRows(){return this.rows}static constructResult(t){let e=ie(Bt.buildBitArray(t)).parseInformation(),i=t[0].getFinderPattern().getResultPoints(),n=t[t.length-1].getFinderPattern().getResultPoints(),r=[i[0],i[1],n[0],n[1]];return new V(e,null,null,r,U.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),e=t.getLeftChar(),i=t.getRightChar();if(null==i)return!1;let n=i.getChecksumPortion(),r=2;for(let t=1;t<this.pairs.size();++t){let e=this.pairs.get(t);n+=e.getLeftChar().getChecksumPortion(),r++;let i=e.getRightChar();null!=i&&(n+=i.getChecksumPortion(),r++)}return n%=211,211*(r-4)+n==e.getValue()}static getNextSecondBar(t,e){let i;return t.get(e)?(i=t.getNextUnset(e),i=t.getNextSet(i)):(i=t.getNextSet(e),i=t.getNextUnset(i)),i}retrieveNextPair(t,e,i){let n,r=e.length%2==0;this.startFromEven&&(r=!r);let o=!0,s=-1;do{this.findNextPair(t,e,s),n=this.parseFoundFinderPattern(t,i,r),null==n?s=oe.getNextSecondBar(t,this.startEnd[0]):o=!1}while(o);let a,c=this.decodeDataCharacter(t,n,r,!0);if(!this.isEmptyPair(e)&&e[e.length-1].mustBeLast())throw new D;try{a=this.decodeDataCharacter(t,n,r,!1)}catch(t){a=null,this.verbose&&console.log(t)}return new ne(c,a,n,!0)}isEmptyPair(t){return 0===t.length}findNextPair(t,e,i){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let r,o=t.getSize();r=i>=0?i:this.isEmptyPair(e)?0:e[e.length-1].getFinderPattern().getStartEnd()[1];let s=e.length%2!=0;this.startFromEven&&(s=!s);let a=!1;for(;r<o&&(a=!t.get(r),a);)r++;let c=0,l=r;for(let e=r;e<o;e++)if(t.get(e)!=a)n[c]++;else{if(3==c){if(s&&oe.reverseCounters(n),oe.isFinderPattern(n))return this.startEnd[0]=l,void(this.startEnd[1]=e);s&&oe.reverseCounters(n),l+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,c--}else c++;n[c]=1,a=!a}throw new D}static reverseCounters(t){let e=t.length;for(let i=0;i<e/2;++i){let n=t[i];t[i]=t[e-i-1],t[e-i-1]=n}}parseFoundFinderPattern(t,e,i){let n,r,o;if(i){let e=this.startEnd[0]-1;for(;e>=0&&!t.get(e);)e--;e++,n=this.startEnd[0]-e,r=e,o=this.startEnd[1]}else r=this.startEnd[0],o=t.getNextUnset(this.startEnd[1]+1),n=o-this.startEnd[1];let s,a=this.getDecodeFinderCounters();p.arraycopy(a,0,a,1,a.length-1),a[0]=n;try{s=this.parseFinderValue(a,oe.FINDER_PATTERNS)}catch(t){return null}return new Lt(s,[r,o],r,o,e)}decodeDataCharacter(t,e,i,n){let r=this.getDataCharacterCounters();for(let t=0;t<r.length;t++)r[t]=0;if(n)oe.recordPatternInReverse(t,e.getStartEnd()[0],r);else{oe.recordPattern(t,e.getStartEnd()[1],r);for(let t=0,e=r.length-1;t<e;t++,e--){let i=r[t];r[t]=r[e],r[e]=i}}let o=17,s=ot.sum(new Int32Array(r))/o,a=(e.getStartEnd()[1]-e.getStartEnd()[0])/15;if(Math.abs(s-a)/a>.3)throw new D;let c=this.getOddCounts(),l=this.getEvenCounts(),h=this.getOddRoundingErrors(),d=this.getEvenRoundingErrors();for(let t=0;t<r.length;t++){let e=1*r[t]/s,i=e+.5;if(i<1){if(e<.3)throw new D;i=1}else if(i>8){if(e>8.7)throw new D;i=8}let n=t/2;1&t?(l[n]=i,d[n]=e-i):(c[n]=i,h[n]=e-i)}this.adjustOddEvenCounts(o);let u=4*e.getValue()+(i?0:2)+(n?0:1)-1,f=0,g=0;for(let t=c.length-1;t>=0;t--){if(oe.isNotA1left(e,i,n)){let e=oe.WEIGHTS[u][2*t];g+=c[t]*e}f+=c[t]}let p=0;for(let t=l.length-1;t>=0;t--)if(oe.isNotA1left(e,i,n)){let e=oe.WEIGHTS[u][2*t+1];p+=l[t]*e}let m=g+p;if(1&f||f>13||f<4)throw new D;let y=(13-f)/2,w=oe.SYMBOL_WIDEST[y],_=9-w,b=Pt.getRSSvalue(c,w,!0),v=Pt.getRSSvalue(l,_,!1),E=oe.EVEN_TOTAL_SUBSET[y],A=oe.GSUM[y];return new kt(b*E+v+A,m)}static isNotA1left(t,e,i){return!(0==t.getValue()&&e&&i)}adjustOddEvenCounts(t){let e=ot.sum(new Int32Array(this.getOddCounts())),i=ot.sum(new Int32Array(this.getEvenCounts())),n=!1,r=!1;e>13?r=!0:e<4&&(n=!0);let o=!1,s=!1;i>13?s=!0:i<4&&(o=!0);let a=e+i-t,c=!(1&~e),l=!(1&i);if(1==a)if(c){if(l)throw new D;r=!0}else{if(!l)throw new D;s=!0}else if(-1==a)if(c){if(l)throw new D;n=!0}else{if(!l)throw new D;o=!0}else{if(0!=a)throw new D;if(c){if(!l)throw new D;e<i?(n=!0,s=!0):(r=!0,o=!0)}else if(l)throw new D}if(n){if(r)throw new D;oe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(r&&oe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(s)throw new D;oe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&oe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}oe.SYMBOL_WIDEST=[7,5,4,3,1],oe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],oe.GSUM=[0,348,1388,2948,3988],oe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],oe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],oe.FINDER_PAT_A=0,oe.FINDER_PAT_B=1,oe.FINDER_PAT_C=2,oe.FINDER_PAT_D=3,oe.FINDER_PAT_E=4,oe.FINDER_PAT_F=5,oe.FINDER_PATTERN_SEQUENCES=[[oe.FINDER_PAT_A,oe.FINDER_PAT_A],[oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B],[oe.FINDER_PAT_A,oe.FINDER_PAT_C,oe.FINDER_PAT_B,oe.FINDER_PAT_D],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_C],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_D,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_D],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_E],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F]],oe.MAX_PAIRS=11;class se extends kt{constructor(t,e,i){super(t,e),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ae extends Nt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,e,i){const n=this.decodePair(e,!1,t,i);ae.addOrTally(this.possibleLeftPairs,n),e.reverse();let r=this.decodePair(e,!0,t,i);ae.addOrTally(this.possibleRightPairs,r),e.reverse();for(let t of this.possibleLeftPairs)if(t.getCount()>1)for(let e of this.possibleRightPairs)if(e.getCount()>1&&ae.checkChecksum(t,e))return ae.constructResult(t,e);throw new D}static addOrTally(t,e){if(null==e)return;let i=!1;for(let n of t)if(n.getValue()===e.getValue()){n.incrementCount(),i=!0;break}i||t.push(e)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,e){let i=4537077*t.getValue()+e.getValue(),n=new String(i).toString(),r=new T;for(let t=13-n.length;t>0;t--)r.append("0");r.append(n);let o=0;for(let t=0;t<13;t++){let e=r.charAt(t).charCodeAt(0)-"0".charCodeAt(0);o+=1&t?e:3*e}o=10-o%10,10===o&&(o=0),r.append(o.toString());let s=t.getFinderPattern().getResultPoints(),a=e.getFinderPattern().getResultPoints();return new V(r.toString(),null,0,[s[0],s[1],a[0],a[1]],U.RSS_14,(new Date).getTime())}static checkChecksum(t,e){let i=(t.getChecksumPortion()+16*e.getChecksumPortion())%79,n=9*t.getFinderPattern().getValue()+e.getFinderPattern().getValue();return n>72&&n--,n>8&&n--,i===n}decodePair(t,e,i,n){try{let r=this.findFinderPattern(t,e),o=this.parseFoundFinderPattern(t,i,e,r),s=null==n?null:n.get(E.NEED_RESULT_POINT_CALLBACK);if(null!=s){let n=(r[0]+r[1])/2;e&&(n=t.getSize()-1-n),s.foundPossibleResultPoint(new at(n,i))}let a=this.decodeDataCharacter(t,o,!0),c=this.decodeDataCharacter(t,o,!1);return new se(1597*a.getValue()+c.getValue(),a.getChecksumPortion()+4*c.getChecksumPortion(),o)}catch(t){return null}}decodeDataCharacter(t,e,i){let n=this.getDataCharacterCounters();for(let t=0;t<n.length;t++)n[t]=0;if(i)_t.recordPatternInReverse(t,e.getStartEnd()[0],n);else{_t.recordPattern(t,e.getStartEnd()[1]+1,n);for(let t=0,e=n.length-1;t<e;t++,e--){let i=n[t];n[t]=n[e],n[e]=i}}let r=i?16:15,o=ot.sum(new Int32Array(n))/r,s=this.getOddCounts(),a=this.getEvenCounts(),c=this.getOddRoundingErrors(),l=this.getEvenRoundingErrors();for(let t=0;t<n.length;t++){let e=n[t]/o,i=Math.floor(e+.5);i<1?i=1:i>8&&(i=8);let r=Math.floor(t/2);1&t?(a[r]=i,l[r]=e-i):(s[r]=i,c[r]=e-i)}this.adjustOddEvenCounts(i,r);let h=0,d=0;for(let t=s.length-1;t>=0;t--)d*=9,d+=s[t],h+=s[t];let u=0,f=0;for(let t=a.length-1;t>=0;t--)u*=9,u+=a[t],f+=a[t];let g=d+3*u;if(i){if(1&h||h>12||h<4)throw new D;let t=(12-h)/2,e=ae.OUTSIDE_ODD_WIDEST[t],i=9-e,n=Pt.getRSSvalue(s,e,!1),r=Pt.getRSSvalue(a,i,!0),o=ae.OUTSIDE_EVEN_TOTAL_SUBSET[t],c=ae.OUTSIDE_GSUM[t];return new kt(n*o+r+c,g)}{if(1&f||f>10||f<4)throw new D;let t=(10-f)/2,e=ae.INSIDE_ODD_WIDEST[t],i=9-e,n=Pt.getRSSvalue(s,e,!0),r=Pt.getRSSvalue(a,i,!1),o=ae.INSIDE_ODD_TOTAL_SUBSET[t],c=ae.INSIDE_GSUM[t];return new kt(r*o+n+c,g)}}findFinderPattern(t,e){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let n=t.getSize(),r=!1,o=0;for(;o<n&&(r=!t.get(o),e!==r);)o++;let s=0,a=o;for(let e=o;e<n;e++)if(t.get(e)!==r)i[s]++;else{if(3===s){if(Nt.isFinderPattern(i))return[a,e];a+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,s--}else s++;i[s]=1,r=!r}throw new D}parseFoundFinderPattern(t,e,i,n){let r=t.get(n[0]),o=n[0]-1;for(;o>=0&&r!==t.get(o);)o--;o++;const s=n[0]-o,a=this.getDecodeFinderCounters(),c=new Int32Array(a.length);p.arraycopy(a,0,c,1,a.length-1),c[0]=s;const l=this.parseFinderValue(c,ae.FINDER_PATTERNS);let h=o,d=n[1];return i&&(h=t.getSize()-1-h,d=t.getSize()-1-d),new Lt(l,[o,n[1]],h,d,e)}adjustOddEvenCounts(t,e){let i=ot.sum(new Int32Array(this.getOddCounts())),n=ot.sum(new Int32Array(this.getEvenCounts())),r=!1,o=!1,s=!1,a=!1;t?(i>12?o=!0:i<4&&(r=!0),n>12?a=!0:n<4&&(s=!0)):(i>11?o=!0:i<5&&(r=!0),n>10?a=!0:n<4&&(s=!0));let c=i+n-e,l=(1&i)==(t?1:0),h=!(1&~n);if(1===c)if(l){if(h)throw new D;o=!0}else{if(!h)throw new D;a=!0}else if(-1===c)if(l){if(h)throw new D;r=!0}else{if(!h)throw new D;s=!0}else{if(0!==c)throw new D;if(l){if(!h)throw new D;i<n?(r=!0,a=!0):(o=!0,s=!0)}else if(h)throw new D}if(r){if(o)throw new D;Nt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&Nt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(a)throw new D;Nt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}a&&Nt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ae.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ae.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ae.OUTSIDE_GSUM=[0,161,961,2015,2715],ae.INSIDE_GSUM=[0,336,1036,1516],ae.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ae.INSIDE_ODD_WIDEST=[2,4,6,8],ae.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ce extends _t{constructor(t,e){super(),this.readers=[],this.verbose=!0===e;const i=t?t.get(E.POSSIBLE_FORMATS):null,n=t&&void 0!==t.get(E.ASSUME_CODE_39_CHECK_DIGIT);i?((i.includes(U.EAN_13)||i.includes(U.UPC_A)||i.includes(U.EAN_8)||i.includes(U.UPC_E))&&this.readers.push(new Rt(t)),i.includes(U.CODE_39)&&this.readers.push(new vt(n)),i.includes(U.CODE_128)&&this.readers.push(new bt),i.includes(U.ITF)&&this.readers.push(new Et),i.includes(U.RSS_14)&&this.readers.push(new ae),i.includes(U.RSS_EXPANDED)&&this.readers.push(new oe(this.verbose))):(this.readers.push(new Rt(t)),this.readers.push(new vt),this.readers.push(new Rt(t)),this.readers.push(new bt),this.readers.push(new Et),this.readers.push(new ae),this.readers.push(new oe(this.verbose)))}decodeRow(t,e,i){for(let n=0;n<this.readers.length;n++)try{return this.readers[n].decodeRow(t,e,i)}catch(t){}throw new D}reset(){this.readers.forEach((t=>t.reset()))}}class le extends H{constructor(t=500,e){super(new ce(e),t,e)}}class he{constructor(t,e,i){this.ecCodewords=t,this.ecBlocks=[e],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class de{constructor(t,e){this.count=t,this.dataCodewords=e}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ue{constructor(t,e,i,n,r,o){this.versionNumber=t,this.symbolSizeRows=e,this.symbolSizeColumns=i,this.dataRegionSizeRows=n,this.dataRegionSizeColumns=r,this.ecBlocks=o;let s=0;const a=o.getECCodewords(),c=o.getECBlocks();for(let t of c)s+=t.getCount()*(t.getDataCodewords()+a);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,e){if(1&t||1&e)throw new A;for(let i of ue.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===e)return i;throw new A}toString(){return""+this.versionNumber}static buildVersions(){return[new ue(1,10,10,8,8,new he(5,new de(1,3))),new ue(2,12,12,10,10,new he(7,new de(1,5))),new ue(3,14,14,12,12,new he(10,new de(1,8))),new ue(4,16,16,14,14,new he(12,new de(1,12))),new ue(5,18,18,16,16,new he(14,new de(1,18))),new ue(6,20,20,18,18,new he(18,new de(1,22))),new ue(7,22,22,20,20,new he(20,new de(1,30))),new ue(8,24,24,22,22,new he(24,new de(1,36))),new ue(9,26,26,24,24,new he(28,new de(1,44))),new ue(10,32,32,14,14,new he(36,new de(1,62))),new ue(11,36,36,16,16,new he(42,new de(1,86))),new ue(12,40,40,18,18,new he(48,new de(1,114))),new ue(13,44,44,20,20,new he(56,new de(1,144))),new ue(14,48,48,22,22,new he(68,new de(1,174))),new ue(15,52,52,24,24,new he(42,new de(2,102))),new ue(16,64,64,14,14,new he(56,new de(2,140))),new ue(17,72,72,16,16,new he(36,new de(4,92))),new ue(18,80,80,18,18,new he(48,new de(4,114))),new ue(19,88,88,20,20,new he(56,new de(4,144))),new ue(20,96,96,22,22,new he(68,new de(4,174))),new ue(21,104,104,24,24,new he(56,new de(6,136))),new ue(22,120,120,18,18,new he(68,new de(6,175))),new ue(23,132,132,20,20,new he(62,new de(8,163))),new ue(24,144,144,22,22,new he(62,new de(8,156),new de(2,155))),new ue(25,8,18,6,16,new he(7,new de(1,5))),new ue(26,8,32,6,14,new he(11,new de(1,10))),new ue(27,12,26,10,24,new he(14,new de(1,16))),new ue(28,12,36,10,16,new he(18,new de(1,22))),new ue(29,16,36,14,16,new he(24,new de(1,32))),new ue(30,16,48,14,22,new he(28,new de(1,49)))]}}ue.VERSIONS=ue.buildVersions();class fe{constructor(t){const e=t.getHeight();if(e<8||e>144||1&e)throw new A;this.version=fe.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new M(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const e=t.getHeight(),i=t.getWidth();return ue.getVersionForDimensions(e,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let e=0,i=4,n=0;const r=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth();let s=!1,a=!1,c=!1,l=!1;do{if(i!==r||0!==n||s)if(i===r-2&&0===n&&3&o&&!a)t[e++]=255&this.readCorner2(r,o),i-=2,n+=2,a=!0;else if(i!==r+4||2!==n||7&o||c)if(i!==r-2||0!==n||4!=(7&o)||l){do{i<r&&n>=0&&!this.readMappingMatrix.get(n,i)&&(t[e++]=255&this.readUtah(i,n,r,o)),i-=2,n+=2}while(i>=0&&n<o);i+=1,n+=3;do{i>=0&&n<o&&!this.readMappingMatrix.get(n,i)&&(t[e++]=255&this.readUtah(i,n,r,o)),i+=2,n-=2}while(i<r&&n>=0);i+=3,n+=1}else t[e++]=255&this.readCorner4(r,o),i-=2,n+=2,l=!0;else t[e++]=255&this.readCorner3(r,o),i-=2,n+=2,c=!0;else t[e++]=255&this.readCorner1(r,o),i-=2,n+=2,s=!0}while(i<r||n<o);if(e!==this.version.getTotalCodewords())throw new A;return t}readModule(t,e,i,n){return t<0&&(t+=i,e+=4-(i+4&7)),e<0&&(e+=n,t+=4-(n+4&7)),this.readMappingMatrix.set(e,t),this.mappingBitMatrix.get(e,t)}readUtah(t,e,i,n){let r=0;return this.readModule(t-2,e-2,i,n)&&(r|=1),r<<=1,this.readModule(t-2,e-1,i,n)&&(r|=1),r<<=1,this.readModule(t-1,e-2,i,n)&&(r|=1),r<<=1,this.readModule(t-1,e-1,i,n)&&(r|=1),r<<=1,this.readModule(t-1,e,i,n)&&(r|=1),r<<=1,this.readModule(t,e-2,i,n)&&(r|=1),r<<=1,this.readModule(t,e-1,i,n)&&(r|=1),r<<=1,this.readModule(t,e,i,n)&&(r|=1),r}readCorner1(t,e){let i=0;return this.readModule(t-1,0,t,e)&&(i|=1),i<<=1,this.readModule(t-1,1,t,e)&&(i|=1),i<<=1,this.readModule(t-1,2,t,e)&&(i|=1),i<<=1,this.readModule(0,e-2,t,e)&&(i|=1),i<<=1,this.readModule(0,e-1,t,e)&&(i|=1),i<<=1,this.readModule(1,e-1,t,e)&&(i|=1),i<<=1,this.readModule(2,e-1,t,e)&&(i|=1),i<<=1,this.readModule(3,e-1,t,e)&&(i|=1),i}readCorner2(t,e){let i=0;return this.readModule(t-3,0,t,e)&&(i|=1),i<<=1,this.readModule(t-2,0,t,e)&&(i|=1),i<<=1,this.readModule(t-1,0,t,e)&&(i|=1),i<<=1,this.readModule(0,e-4,t,e)&&(i|=1),i<<=1,this.readModule(0,e-3,t,e)&&(i|=1),i<<=1,this.readModule(0,e-2,t,e)&&(i|=1),i<<=1,this.readModule(0,e-1,t,e)&&(i|=1),i<<=1,this.readModule(1,e-1,t,e)&&(i|=1),i}readCorner3(t,e){let i=0;return this.readModule(t-1,0,t,e)&&(i|=1),i<<=1,this.readModule(t-1,e-1,t,e)&&(i|=1),i<<=1,this.readModule(0,e-3,t,e)&&(i|=1),i<<=1,this.readModule(0,e-2,t,e)&&(i|=1),i<<=1,this.readModule(0,e-1,t,e)&&(i|=1),i<<=1,this.readModule(1,e-3,t,e)&&(i|=1),i<<=1,this.readModule(1,e-2,t,e)&&(i|=1),i<<=1,this.readModule(1,e-1,t,e)&&(i|=1),i}readCorner4(t,e){let i=0;return this.readModule(t-3,0,t,e)&&(i|=1),i<<=1,this.readModule(t-2,0,t,e)&&(i|=1),i<<=1,this.readModule(t-1,0,t,e)&&(i|=1),i<<=1,this.readModule(0,e-2,t,e)&&(i|=1),i<<=1,this.readModule(0,e-1,t,e)&&(i|=1),i<<=1,this.readModule(1,e-1,t,e)&&(i|=1),i<<=1,this.readModule(2,e-1,t,e)&&(i|=1),i<<=1,this.readModule(3,e-1,t,e)&&(i|=1),i}extractDataRegion(t){const e=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==e)throw new d("Dimension of bitMatrix must match the version size");const n=this.version.getDataRegionSizeRows(),r=this.version.getDataRegionSizeColumns(),o=e/n|0,s=i/r|0,a=new M(s*r,o*n);for(let e=0;e<o;++e){const i=e*n;for(let o=0;o<s;++o){const s=o*r;for(let c=0;c<n;++c){const l=e*(n+2)+1+c,h=i+c;for(let e=0;e<r;++e){const i=o*(r+2)+1+e;if(t.get(i,l)){const t=s+e;a.set(t,h)}}}}}return a}}class ge{constructor(t,e){this.numDataCodewords=t,this.codewords=e}static getDataBlocks(t,e){const i=e.getECBlocks();let n=0;const r=i.getECBlocks();for(let t of r)n+=t.getCount();const o=new Array(n);let s=0;for(let t of r)for(let e=0;e<t.getCount();e++){const e=t.getDataCodewords(),n=i.getECCodewords()+e;o[s++]=new ge(e,new Uint8Array(n))}const a=o[0].codewords.length-i.getECCodewords(),c=a-1;let l=0;for(let e=0;e<c;e++)for(let i=0;i<s;i++)o[i].codewords[e]=t[l++];const h=24===e.getVersionNumber(),u=h?8:s;for(let e=0;e<u;e++)o[e].codewords[a-1]=t[l++];const f=o[0].codewords.length;for(let e=a;e<f;e++)for(let i=0;i<s;i++){const n=h?(i+8)%s:i,r=h&&n>7?e-1:e;o[n].codewords[r]=t[l++]}if(l!==t.length)throw new d;return o}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class pe{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new d(""+t);let e=0,i=this.bitOffset,n=this.byteOffset;const r=this.bytes;if(i>0){const o=8-i,s=t<o?t:o,a=o-s,c=255>>8-s<<a;e=(r[n]&c)>>a,t-=s,i+=s,8===i&&(i=0,n++)}if(t>0){for(;t>=8;)e=e<<8|255&r[n],n++,t-=8;if(t>0){const o=8-t,s=255>>o<<o;e=e<<t|(r[n]&s)>>o,i+=t}}return this.bitOffset=i,this.byteOffset=n,e}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}!function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"}(W||(W={}));class me{static decode(t){const e=new pe(t),i=new T,n=new T,r=new Array;let o=W.ASCII_ENCODE;do{if(o===W.ASCII_ENCODE)o=this.decodeAsciiSegment(e,i,n);else{switch(o){case W.C40_ENCODE:this.decodeC40Segment(e,i);break;case W.TEXT_ENCODE:this.decodeTextSegment(e,i);break;case W.ANSIX12_ENCODE:this.decodeAnsiX12Segment(e,i);break;case W.EDIFACT_ENCODE:this.decodeEdifactSegment(e,i);break;case W.BASE256_ENCODE:this.decodeBase256Segment(e,i,r);break;default:throw new A}o=W.ASCII_ENCODE}}while(o!==W.PAD_ENCODE&&e.available()>0);return n.length()>0&&i.append(n.toString()),new Q(t,i.toString(),0===r.length?null:r,null)}static decodeAsciiSegment(t,e,i){let n=!1;do{let r=t.readBits(8);if(0===r)throw new A;if(r<=128)return n&&(r+=128),e.append(String.fromCharCode(r-1)),W.ASCII_ENCODE;if(129===r)return W.PAD_ENCODE;if(r<=229){const t=r-130;t<10&&e.append("0"),e.append(""+t)}else switch(r){case 230:return W.C40_ENCODE;case 231:return W.BASE256_ENCODE;case 232:e.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:n=!0;break;case 236:e.append("[)>05"),i.insert(0,"");break;case 237:e.append("[)>06"),i.insert(0,"");break;case 238:return W.ANSIX12_ENCODE;case 239:return W.TEXT_ENCODE;case 240:return W.EDIFACT_ENCODE;default:if(254!==r||0!==t.available())throw new A}}while(t.available()>0);return W.ASCII_ENCODE}static decodeC40Segment(t,e){let i=!1;const n=[];let r=0;do{if(8===t.available())return;const o=t.readBits(8);if(254===o)return;this.parseTwoBytes(o,t.readBits(8),n);for(let t=0;t<3;t++){const o=n[t];switch(r){case 0:if(o<3)r=o+1;else{if(!(o<this.C40_BASIC_SET_CHARS.length))throw new A;{const t=this.C40_BASIC_SET_CHARS[o];i?(e.append(String.fromCharCode(t.charCodeAt(0)+128)),i=!1):e.append(t)}}break;case 1:i?(e.append(String.fromCharCode(o+128)),i=!1):e.append(String.fromCharCode(o)),r=0;break;case 2:if(o<this.C40_SHIFT2_SET_CHARS.length){const t=this.C40_SHIFT2_SET_CHARS[o];i?(e.append(String.fromCharCode(t.charCodeAt(0)+128)),i=!1):e.append(t)}else switch(o){case 27:e.append(String.fromCharCode(29));break;case 30:i=!0;break;default:throw new A}r=0;break;case 3:i?(e.append(String.fromCharCode(o+224)),i=!1):e.append(String.fromCharCode(o+96)),r=0;break;default:throw new A}}}while(t.available()>0)}static decodeTextSegment(t,e){let i=!1,n=[],r=0;do{if(8===t.available())return;const o=t.readBits(8);if(254===o)return;this.parseTwoBytes(o,t.readBits(8),n);for(let t=0;t<3;t++){const o=n[t];switch(r){case 0:if(o<3)r=o+1;else{if(!(o<this.TEXT_BASIC_SET_CHARS.length))throw new A;{const t=this.TEXT_BASIC_SET_CHARS[o];i?(e.append(String.fromCharCode(t.charCodeAt(0)+128)),i=!1):e.append(t)}}break;case 1:i?(e.append(String.fromCharCode(o+128)),i=!1):e.append(String.fromCharCode(o)),r=0;break;case 2:if(o<this.TEXT_SHIFT2_SET_CHARS.length){const t=this.TEXT_SHIFT2_SET_CHARS[o];i?(e.append(String.fromCharCode(t.charCodeAt(0)+128)),i=!1):e.append(t)}else switch(o){case 27:e.append(String.fromCharCode(29));break;case 30:i=!0;break;default:throw new A}r=0;break;case 3:if(!(o<this.TEXT_SHIFT3_SET_CHARS.length))throw new A;{const t=this.TEXT_SHIFT3_SET_CHARS[o];i?(e.append(String.fromCharCode(t.charCodeAt(0)+128)),i=!1):e.append(t),r=0}break;default:throw new A}}}while(t.available()>0)}static decodeAnsiX12Segment(t,e){const i=[];do{if(8===t.available())return;const n=t.readBits(8);if(254===n)return;this.parseTwoBytes(n,t.readBits(8),i);for(let t=0;t<3;t++){const n=i[t];switch(n){case 0:e.append("\r");break;case 1:e.append("*");break;case 2:e.append(">");break;case 3:e.append(" ");break;default:if(n<14)e.append(String.fromCharCode(n+44));else{if(!(n<40))throw new A;e.append(String.fromCharCode(n+51))}}}}while(t.available()>0)}static parseTwoBytes(t,e,i){let n=(t<<8)+e-1,r=Math.floor(n/1600);i[0]=r,n-=1600*r,r=Math.floor(n/40),i[1]=r,i[2]=n-40*r}static decodeEdifactSegment(t,e){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let i=t.readBits(6);if(31===i){const e=8-t.getBitOffset();return void(8!==e&&t.readBits(e))}32&i||(i|=64),e.append(String.fromCharCode(i))}}while(t.available()>0)}static decodeBase256Segment(t,e,i){let n=1+t.getByteOffset();const r=this.unrandomize255State(t.readBits(8),n++);let o;if(o=0===r?t.available()/8|0:r<250?r:250*(r-249)+this.unrandomize255State(t.readBits(8),n++),o<0)throw new A;const s=new Uint8Array(o);for(let e=0;e<o;e++){if(t.available()<8)throw new A;s[e]=this.unrandomize255State(t.readBits(8),n++)}i.push(s);try{e.append(I.decode(s,x.ISO88591))}catch(t){throw new it("Platform does not support required encoding: "+t.message)}}static unrandomize255State(t,e){const i=t-(149*e%255+1);return i>=0?i:i+256}}me.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],me.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],me.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],me.TEXT_SHIFT2_SET_CHARS=me.C40_SHIFT2_SET_CHARS,me.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class ye{constructor(){this.rsDecoder=new nt(tt.DATA_MATRIX_FIELD_256)}decode(t){const e=new fe(t),i=e.getVersion(),n=e.readCodewords(),r=ge.getDataBlocks(n,i);let o=0;for(let t of r)o+=t.getNumDataCodewords();const s=new Uint8Array(o),a=r.length;for(let t=0;t<a;t++){const e=r[t],i=e.getCodewords(),n=e.getNumDataCodewords();this.correctErrors(i,n);for(let e=0;e<n;e++)s[e*a+t]=i[e]}return me.decode(s)}correctErrors(t,e){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-e)}catch(t){throw new f}for(let n=0;n<e;n++)t[n]=i[n]}}class we{constructor(t){this.image=t,this.rectangleDetector=new ht(this.image)}detect(){const t=this.rectangleDetector.detect();let e=this.detectSolid1(t);if(e=this.detectSolid2(e),e[3]=this.correctTopRight(e),!e[3])throw new D;e=this.shiftToModuleCenter(e);const i=e[0],n=e[1],r=e[2],o=e[3];let s=this.transitionsBetween(i,o)+1,a=this.transitionsBetween(r,o)+1;1&~s||(s+=1),1&~a||(a+=1),4*s<7*a&&4*a<7*s&&(s=a=Math.max(s,a));let c=we.sampleGrid(this.image,i,n,r,o,s,a);return new ct(c,[i,n,r,o])}static shiftPoint(t,e,i){let n=(e.getX()-t.getX())/(i+1),r=(e.getY()-t.getY())/(i+1);return new at(t.getX()+n,t.getY()+r)}static moveAway(t,e,i){let n=t.getX(),r=t.getY();return n<e?n-=1:n+=1,r<i?r-=1:r+=1,new at(n,r)}detectSolid1(t){let e=t[0],i=t[1],n=t[3],r=t[2],o=this.transitionsBetween(e,i),s=this.transitionsBetween(i,n),a=this.transitionsBetween(n,r),c=this.transitionsBetween(r,e),l=o,h=[r,e,i,n];return l>s&&(l=s,h[0]=e,h[1]=i,h[2]=n,h[3]=r),l>a&&(l=a,h[0]=i,h[1]=n,h[2]=r,h[3]=e),l>c&&(h[0]=n,h[1]=r,h[2]=e,h[3]=i),h}detectSolid2(t){let e=t[0],i=t[1],n=t[2],r=t[3],o=this.transitionsBetween(e,r),s=we.shiftPoint(i,n,4*(o+1)),a=we.shiftPoint(n,i,4*(o+1));return this.transitionsBetween(s,e)<this.transitionsBetween(a,r)?(t[0]=e,t[1]=i,t[2]=n,t[3]=r):(t[0]=i,t[1]=n,t[2]=r,t[3]=e),t}correctTopRight(t){let e=t[0],i=t[1],n=t[2],r=t[3],o=this.transitionsBetween(e,r),s=this.transitionsBetween(i,r),a=we.shiftPoint(e,i,4*(s+1)),c=we.shiftPoint(n,i,4*(o+1));o=this.transitionsBetween(a,r),s=this.transitionsBetween(c,r);let l=new at(r.getX()+(n.getX()-i.getX())/(o+1),r.getY()+(n.getY()-i.getY())/(o+1)),h=new at(r.getX()+(e.getX()-i.getX())/(s+1),r.getY()+(e.getY()-i.getY())/(s+1));return this.isValid(l)?this.isValid(h)?this.transitionsBetween(a,l)+this.transitionsBetween(c,l)>this.transitionsBetween(a,h)+this.transitionsBetween(c,h)?l:h:l:this.isValid(h)?h:null}shiftToModuleCenter(t){let e=t[0],i=t[1],n=t[2],r=t[3],o=this.transitionsBetween(e,r)+1,s=this.transitionsBetween(n,r)+1,a=we.shiftPoint(e,i,4*s),c=we.shiftPoint(n,i,4*o);o=this.transitionsBetween(a,r)+1,s=this.transitionsBetween(c,r)+1,1&~o||(o+=1),1&~s||(s+=1);let l,h,d=(e.getX()+i.getX()+n.getX()+r.getX())/4,u=(e.getY()+i.getY()+n.getY()+r.getY())/4;return e=we.moveAway(e,d,u),i=we.moveAway(i,d,u),n=we.moveAway(n,d,u),r=we.moveAway(r,d,u),a=we.shiftPoint(e,i,4*s),a=we.shiftPoint(a,r,4*o),l=we.shiftPoint(i,e,4*s),l=we.shiftPoint(l,n,4*o),c=we.shiftPoint(n,r,4*s),c=we.shiftPoint(c,i,4*o),h=we.shiftPoint(r,n,4*s),h=we.shiftPoint(h,e,4*o),[a,l,c,h]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,e,i,n,r,o,s){return gt.getInstance().sampleGrid(t,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,e.getX(),e.getY(),r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY())}transitionsBetween(t,e){let i=Math.trunc(t.getX()),n=Math.trunc(t.getY()),r=Math.trunc(e.getX()),o=Math.trunc(e.getY()),s=Math.abs(o-n)>Math.abs(r-i);if(s){let t=i;i=n,n=t,t=r,r=o,o=t}let a=Math.abs(r-i),c=Math.abs(o-n),l=-a/2,h=n<o?1:-1,d=i<r?1:-1,u=0,f=this.image.get(s?n:i,s?i:n);for(let t=i,e=n;t!==r;t+=d){let i=this.image.get(s?e:t,s?t:e);if(i!==f&&(u++,f=i),l+=c,l>0){if(e===o)break;e+=h,l-=a}}return u}}class _e{constructor(){this.decoder=new ye}decode(t,e=null){let i,n;if(null!=e&&e.has(E.PURE_BARCODE)){const e=_e.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(e),n=_e.NO_POINTS}else{const e=new we(t.getBlackMatrix()).detect();i=this.decoder.decode(e.getBits()),n=e.getPoints()}const r=i.getRawBytes(),o=new V(i.getText(),r,8*r.length,n,U.DATA_MATRIX,p.currentTimeMillis()),s=i.getByteSegments();null!=s&&o.putMetadata(q.BYTE_SEGMENTS,s);const a=i.getECLevel();return null!=a&&o.putMetadata(q.ERROR_CORRECTION_LEVEL,a),o}reset(){}static extractPureBits(t){const e=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(null==e||null==i)throw new D;const n=this.moduleSize(e,t);let r=e[1];const o=i[1];let s=e[0];const a=(i[0]-s+1)/n,c=(o-r+1)/n;if(a<=0||c<=0)throw new D;const l=n/2;r+=l,s+=l;const h=new M(a,c);for(let e=0;e<c;e++){const i=r+e*n;for(let r=0;r<a;r++)t.get(s+r*n,i)&&h.set(r,e)}return h}static moduleSize(t,e){const i=e.getWidth();let n=t[0];const r=t[1];for(;n<i&&e.get(n,r);)n++;if(n===i)throw new D;const o=n-t[0];if(0===o)throw new D;return o}}_e.NO_POINTS=[];class be extends H{constructor(t=500){super(new _e,t)}}!function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"}(Y||(Y={}));class ve{constructor(t,e,i){this.value=t,this.stringValue=e,this.bits=i,ve.FOR_BITS.set(i,this),ve.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return ve.L;case"M":return ve.M;case"Q":return ve.Q;case"H":return ve.H;default:throw new h(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof ve))return!1;const e=t;return this.value===e.value}static forBits(t){if(t<0||t>=ve.FOR_BITS.size)throw new d;return ve.FOR_BITS.get(t)}}ve.FOR_BITS=new Map,ve.FOR_VALUE=new Map,ve.L=new ve(Y.L,"L",1),ve.M=new ve(Y.M,"M",0),ve.Q=new ve(Y.Q,"Q",3),ve.H=new ve(Y.H,"H",2);class Ee{constructor(t){this.errorCorrectionLevel=ve.forBits(t>>3&3),this.dataMask=7&t}static numBitsDiffering(t,e){return _.bitCount(t^e)}static decodeFormatInformation(t,e){const i=Ee.doDecodeFormatInformation(t,e);return null!==i?i:Ee.doDecodeFormatInformation(t^Ee.FORMAT_INFO_MASK_QR,e^Ee.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,e){let i=Number.MAX_SAFE_INTEGER,n=0;for(const r of Ee.FORMAT_INFO_DECODE_LOOKUP){const o=r[0];if(o===t||o===e)return new Ee(r[1]);let s=Ee.numBitsDiffering(t,o);s<i&&(n=r[1],i=s),t!==e&&(s=Ee.numBitsDiffering(e,o),s<i&&(n=r[1],i=s))}return i<=3?new Ee(n):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Ee))return!1;const e=t;return this.errorCorrectionLevel===e.errorCorrectionLevel&&this.dataMask===e.dataMask}}Ee.FORMAT_INFO_MASK_QR=21522,Ee.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ae{constructor(t,...e){this.ecCodewordsPerBlock=t,this.ecBlocks=e}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const e=this.ecBlocks;for(const i of e)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Ce{constructor(t,e){this.count=t,this.dataCodewords=e}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Se{constructor(t,e,...i){this.versionNumber=t,this.alignmentPatternCenters=e,this.ecBlocks=i;let n=0;const r=i[0].getECCodewordsPerBlock(),o=i[0].getECBlocks();for(const t of o)n+=t.getCount()*(t.getDataCodewords()+r);this.totalCodewords=n}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!=1)throw new A;try{return this.getVersionForNumber((t-17)/4)}catch(t){throw new A}}static getVersionForNumber(t){if(t<1||t>40)throw new d;return Se.VERSIONS[t-1]}static decodeVersionInformation(t){let e=Number.MAX_SAFE_INTEGER,i=0;for(let n=0;n<Se.VERSION_DECODE_INFO.length;n++){const r=Se.VERSION_DECODE_INFO[n];if(r===t)return Se.getVersionForNumber(n+7);const o=Ee.numBitsDiffering(t,r);o<e&&(i=n+7,e=o)}return e<=3?Se.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),e=new M(t);e.setRegion(0,0,9,9),e.setRegion(t-8,0,8,9),e.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let t=0;t<i;t++){const n=this.alignmentPatternCenters[t]-2;for(let r=0;r<i;r++)0===t&&(0===r||r===i-1)||t===i-1&&0===r||e.setRegion(this.alignmentPatternCenters[r]-2,n,5,5)}return e.setRegion(6,9,1,t-17),e.setRegion(9,6,t-17,1),this.versionNumber>6&&(e.setRegion(t-11,0,3,6),e.setRegion(0,t-11,6,3)),e}toString(){return""+this.versionNumber}}Se.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Se.VERSIONS=[new Se(1,new Int32Array(0),new Ae(7,new Ce(1,19)),new Ae(10,new Ce(1,16)),new Ae(13,new Ce(1,13)),new Ae(17,new Ce(1,9))),new Se(2,Int32Array.from([6,18]),new Ae(10,new Ce(1,34)),new Ae(16,new Ce(1,28)),new Ae(22,new Ce(1,22)),new Ae(28,new Ce(1,16))),new Se(3,Int32Array.from([6,22]),new Ae(15,new Ce(1,55)),new Ae(26,new Ce(1,44)),new Ae(18,new Ce(2,17)),new Ae(22,new Ce(2,13))),new Se(4,Int32Array.from([6,26]),new Ae(20,new Ce(1,80)),new Ae(18,new Ce(2,32)),new Ae(26,new Ce(2,24)),new Ae(16,new Ce(4,9))),new Se(5,Int32Array.from([6,30]),new Ae(26,new Ce(1,108)),new Ae(24,new Ce(2,43)),new Ae(18,new Ce(2,15),new Ce(2,16)),new Ae(22,new Ce(2,11),new Ce(2,12))),new Se(6,Int32Array.from([6,34]),new Ae(18,new Ce(2,68)),new Ae(16,new Ce(4,27)),new Ae(24,new Ce(4,19)),new Ae(28,new Ce(4,15))),new Se(7,Int32Array.from([6,22,38]),new Ae(20,new Ce(2,78)),new Ae(18,new Ce(4,31)),new Ae(18,new Ce(2,14),new Ce(4,15)),new Ae(26,new Ce(4,13),new Ce(1,14))),new Se(8,Int32Array.from([6,24,42]),new Ae(24,new Ce(2,97)),new Ae(22,new Ce(2,38),new Ce(2,39)),new Ae(22,new Ce(4,18),new Ce(2,19)),new Ae(26,new Ce(4,14),new Ce(2,15))),new Se(9,Int32Array.from([6,26,46]),new Ae(30,new Ce(2,116)),new Ae(22,new Ce(3,36),new Ce(2,37)),new Ae(20,new Ce(4,16),new Ce(4,17)),new Ae(24,new Ce(4,12),new Ce(4,13))),new Se(10,Int32Array.from([6,28,50]),new Ae(18,new Ce(2,68),new Ce(2,69)),new Ae(26,new Ce(4,43),new Ce(1,44)),new Ae(24,new Ce(6,19),new Ce(2,20)),new Ae(28,new Ce(6,15),new Ce(2,16))),new Se(11,Int32Array.from([6,30,54]),new Ae(20,new Ce(4,81)),new Ae(30,new Ce(1,50),new Ce(4,51)),new Ae(28,new Ce(4,22),new Ce(4,23)),new Ae(24,new Ce(3,12),new Ce(8,13))),new Se(12,Int32Array.from([6,32,58]),new Ae(24,new Ce(2,92),new Ce(2,93)),new Ae(22,new Ce(6,36),new Ce(2,37)),new Ae(26,new Ce(4,20),new Ce(6,21)),new Ae(28,new Ce(7,14),new Ce(4,15))),new Se(13,Int32Array.from([6,34,62]),new Ae(26,new Ce(4,107)),new Ae(22,new Ce(8,37),new Ce(1,38)),new Ae(24,new Ce(8,20),new Ce(4,21)),new Ae(22,new Ce(12,11),new Ce(4,12))),new Se(14,Int32Array.from([6,26,46,66]),new Ae(30,new Ce(3,115),new Ce(1,116)),new Ae(24,new Ce(4,40),new Ce(5,41)),new Ae(20,new Ce(11,16),new Ce(5,17)),new Ae(24,new Ce(11,12),new Ce(5,13))),new Se(15,Int32Array.from([6,26,48,70]),new Ae(22,new Ce(5,87),new Ce(1,88)),new Ae(24,new Ce(5,41),new Ce(5,42)),new Ae(30,new Ce(5,24),new Ce(7,25)),new Ae(24,new Ce(11,12),new Ce(7,13))),new Se(16,Int32Array.from([6,26,50,74]),new Ae(24,new Ce(5,98),new Ce(1,99)),new Ae(28,new Ce(7,45),new Ce(3,46)),new Ae(24,new Ce(15,19),new Ce(2,20)),new Ae(30,new Ce(3,15),new Ce(13,16))),new Se(17,Int32Array.from([6,30,54,78]),new Ae(28,new Ce(1,107),new Ce(5,108)),new Ae(28,new Ce(10,46),new Ce(1,47)),new Ae(28,new Ce(1,22),new Ce(15,23)),new Ae(28,new Ce(2,14),new Ce(17,15))),new Se(18,Int32Array.from([6,30,56,82]),new Ae(30,new Ce(5,120),new Ce(1,121)),new Ae(26,new Ce(9,43),new Ce(4,44)),new Ae(28,new Ce(17,22),new Ce(1,23)),new Ae(28,new Ce(2,14),new Ce(19,15))),new Se(19,Int32Array.from([6,30,58,86]),new Ae(28,new Ce(3,113),new Ce(4,114)),new Ae(26,new Ce(3,44),new Ce(11,45)),new Ae(26,new Ce(17,21),new Ce(4,22)),new Ae(26,new Ce(9,13),new Ce(16,14))),new Se(20,Int32Array.from([6,34,62,90]),new Ae(28,new Ce(3,107),new Ce(5,108)),new Ae(26,new Ce(3,41),new Ce(13,42)),new Ae(30,new Ce(15,24),new Ce(5,25)),new Ae(28,new Ce(15,15),new Ce(10,16))),new Se(21,Int32Array.from([6,28,50,72,94]),new Ae(28,new Ce(4,116),new Ce(4,117)),new Ae(26,new Ce(17,42)),new Ae(28,new Ce(17,22),new Ce(6,23)),new Ae(30,new Ce(19,16),new Ce(6,17))),new Se(22,Int32Array.from([6,26,50,74,98]),new Ae(28,new Ce(2,111),new Ce(7,112)),new Ae(28,new Ce(17,46)),new Ae(30,new Ce(7,24),new Ce(16,25)),new Ae(24,new Ce(34,13))),new Se(23,Int32Array.from([6,30,54,78,102]),new Ae(30,new Ce(4,121),new Ce(5,122)),new Ae(28,new Ce(4,47),new Ce(14,48)),new Ae(30,new Ce(11,24),new Ce(14,25)),new Ae(30,new Ce(16,15),new Ce(14,16))),new Se(24,Int32Array.from([6,28,54,80,106]),new Ae(30,new Ce(6,117),new Ce(4,118)),new Ae(28,new Ce(6,45),new Ce(14,46)),new Ae(30,new Ce(11,24),new Ce(16,25)),new Ae(30,new Ce(30,16),new Ce(2,17))),new Se(25,Int32Array.from([6,32,58,84,110]),new Ae(26,new Ce(8,106),new Ce(4,107)),new Ae(28,new Ce(8,47),new Ce(13,48)),new Ae(30,new Ce(7,24),new Ce(22,25)),new Ae(30,new Ce(22,15),new Ce(13,16))),new Se(26,Int32Array.from([6,30,58,86,114]),new Ae(28,new Ce(10,114),new Ce(2,115)),new Ae(28,new Ce(19,46),new Ce(4,47)),new Ae(28,new Ce(28,22),new Ce(6,23)),new Ae(30,new Ce(33,16),new Ce(4,17))),new Se(27,Int32Array.from([6,34,62,90,118]),new Ae(30,new Ce(8,122),new Ce(4,123)),new Ae(28,new Ce(22,45),new Ce(3,46)),new Ae(30,new Ce(8,23),new Ce(26,24)),new Ae(30,new Ce(12,15),new Ce(28,16))),new Se(28,Int32Array.from([6,26,50,74,98,122]),new Ae(30,new Ce(3,117),new Ce(10,118)),new Ae(28,new Ce(3,45),new Ce(23,46)),new Ae(30,new Ce(4,24),new Ce(31,25)),new Ae(30,new Ce(11,15),new Ce(31,16))),new Se(29,Int32Array.from([6,30,54,78,102,126]),new Ae(30,new Ce(7,116),new Ce(7,117)),new Ae(28,new Ce(21,45),new Ce(7,46)),new Ae(30,new Ce(1,23),new Ce(37,24)),new Ae(30,new Ce(19,15),new Ce(26,16))),new Se(30,Int32Array.from([6,26,52,78,104,130]),new Ae(30,new Ce(5,115),new Ce(10,116)),new Ae(28,new Ce(19,47),new Ce(10,48)),new Ae(30,new Ce(15,24),new Ce(25,25)),new Ae(30,new Ce(23,15),new Ce(25,16))),new Se(31,Int32Array.from([6,30,56,82,108,134]),new Ae(30,new Ce(13,115),new Ce(3,116)),new Ae(28,new Ce(2,46),new Ce(29,47)),new Ae(30,new Ce(42,24),new Ce(1,25)),new Ae(30,new Ce(23,15),new Ce(28,16))),new Se(32,Int32Array.from([6,34,60,86,112,138]),new Ae(30,new Ce(17,115)),new Ae(28,new Ce(10,46),new Ce(23,47)),new Ae(30,new Ce(10,24),new Ce(35,25)),new Ae(30,new Ce(19,15),new Ce(35,16))),new Se(33,Int32Array.from([6,30,58,86,114,142]),new Ae(30,new Ce(17,115),new Ce(1,116)),new Ae(28,new Ce(14,46),new Ce(21,47)),new Ae(30,new Ce(29,24),new Ce(19,25)),new Ae(30,new Ce(11,15),new Ce(46,16))),new Se(34,Int32Array.from([6,34,62,90,118,146]),new Ae(30,new Ce(13,115),new Ce(6,116)),new Ae(28,new Ce(14,46),new Ce(23,47)),new Ae(30,new Ce(44,24),new Ce(7,25)),new Ae(30,new Ce(59,16),new Ce(1,17))),new Se(35,Int32Array.from([6,30,54,78,102,126,150]),new Ae(30,new Ce(12,121),new Ce(7,122)),new Ae(28,new Ce(12,47),new Ce(26,48)),new Ae(30,new Ce(39,24),new Ce(14,25)),new Ae(30,new Ce(22,15),new Ce(41,16))),new Se(36,Int32Array.from([6,24,50,76,102,128,154]),new Ae(30,new Ce(6,121),new Ce(14,122)),new Ae(28,new Ce(6,47),new Ce(34,48)),new Ae(30,new Ce(46,24),new Ce(10,25)),new Ae(30,new Ce(2,15),new Ce(64,16))),new Se(37,Int32Array.from([6,28,54,80,106,132,158]),new Ae(30,new Ce(17,122),new Ce(4,123)),new Ae(28,new Ce(29,46),new Ce(14,47)),new Ae(30,new Ce(49,24),new Ce(10,25)),new Ae(30,new Ce(24,15),new Ce(46,16))),new Se(38,Int32Array.from([6,32,58,84,110,136,162]),new Ae(30,new Ce(4,122),new Ce(18,123)),new Ae(28,new Ce(13,46),new Ce(32,47)),new Ae(30,new Ce(48,24),new Ce(14,25)),new Ae(30,new Ce(42,15),new Ce(32,16))),new Se(39,Int32Array.from([6,26,54,82,110,138,166]),new Ae(30,new Ce(20,117),new Ce(4,118)),new Ae(28,new Ce(40,47),new Ce(7,48)),new Ae(30,new Ce(43,24),new Ce(22,25)),new Ae(30,new Ce(10,15),new Ce(67,16))),new Se(40,Int32Array.from([6,30,58,86,114,142,170]),new Ae(30,new Ce(19,118),new Ce(6,119)),new Ae(28,new Ce(18,47),new Ce(31,48)),new Ae(30,new Ce(34,24),new Ce(34,25)),new Ae(30,new Ce(20,15),new Ce(61,16)))],function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"}(G||(G={}));class Ie{constructor(t,e){this.value=t,this.isMasked=e}unmaskBitMatrix(t,e){for(let i=0;i<e;i++)for(let n=0;n<e;n++)this.isMasked(i,n)&&t.flip(n,i)}}Ie.values=new Map([[G.DATA_MASK_000,new Ie(G.DATA_MASK_000,((t,e)=>!(t+e&1)))],[G.DATA_MASK_001,new Ie(G.DATA_MASK_001,((t,e)=>!(1&t)))],[G.DATA_MASK_010,new Ie(G.DATA_MASK_010,((t,e)=>e%3==0))],[G.DATA_MASK_011,new Ie(G.DATA_MASK_011,((t,e)=>(t+e)%3==0))],[G.DATA_MASK_100,new Ie(G.DATA_MASK_100,((t,e)=>!(Math.floor(t/2)+Math.floor(e/3)&1)))],[G.DATA_MASK_101,new Ie(G.DATA_MASK_101,((t,e)=>t*e%6==0))],[G.DATA_MASK_110,new Ie(G.DATA_MASK_110,((t,e)=>t*e%6<3))],[G.DATA_MASK_111,new Ie(G.DATA_MASK_111,((t,e)=>!(t+e+t*e%3&1)))]]);class xe{constructor(t){const e=t.getHeight();if(e<21||1!=(3&e))throw new A;this.bitMatrix=t}readFormatInformation(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;let t=0;for(let e=0;e<6;e++)t=this.copyBit(e,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let e=5;e>=0;e--)t=this.copyBit(8,e,t);const e=this.bitMatrix.getHeight();let i=0;const n=e-7;for(let t=e-1;t>=n;t--)i=this.copyBit(8,t,i);for(let t=e-8;t<e;t++)i=this.copyBit(t,8,i);if(this.parsedFormatInfo=Ee.decodeFormatInformation(t,i),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new A}readVersion(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;const t=this.bitMatrix.getHeight(),e=Math.floor((t-17)/4);if(e<=6)return Se.getVersionForNumber(e);let i=0;const n=t-11;for(let e=5;e>=0;e--)for(let r=t-9;r>=n;r--)i=this.copyBit(r,e,i);let r=Se.decodeVersionInformation(i);if(null!==r&&r.getDimensionForVersion()===t)return this.parsedVersion=r,r;i=0;for(let e=5;e>=0;e--)for(let r=t-9;r>=n;r--)i=this.copyBit(e,r,i);if(r=Se.decodeVersionInformation(i),null!==r&&r.getDimensionForVersion()===t)return this.parsedVersion=r,r;throw new A}copyBit(t,e,i){return(this.isMirror?this.bitMatrix.get(e,t):this.bitMatrix.get(t,e))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),e=this.readVersion(),i=Ie.values.get(t.getDataMask()),n=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,n);const r=e.buildFunctionPattern();let o=!0;const s=new Uint8Array(e.getTotalCodewords());let a=0,c=0,l=0;for(let t=n-1;t>0;t-=2){6===t&&t--;for(let e=0;e<n;e++){const i=o?n-1-e:e;for(let e=0;e<2;e++)r.get(t-e,i)||(l++,c<<=1,this.bitMatrix.get(t-e,i)&&(c|=1),8===l&&(s[a++]=c,l=0,c=0))}o=!o}if(a!==e.getTotalCodewords())throw new A;return s}remask(){if(null===this.parsedFormatInfo)return;const t=Ie.values[this.parsedFormatInfo.getDataMask()],e=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,e)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let e=0,i=t.getWidth();e<i;e++)for(let i=e+1,n=t.getHeight();i<n;i++)t.get(e,i)!==t.get(i,e)&&(t.flip(i,e),t.flip(e,i))}}class Te{constructor(t,e){this.numDataCodewords=t,this.codewords=e}static getDataBlocks(t,e,i){if(t.length!==e.getTotalCodewords())throw new d;const n=e.getECBlocksForLevel(i);let r=0;const o=n.getECBlocks();for(const t of o)r+=t.getCount();const s=new Array(r);let a=0;for(const t of o)for(let e=0;e<t.getCount();e++){const e=t.getDataCodewords(),i=n.getECCodewordsPerBlock()+e;s[a++]=new Te(e,new Uint8Array(i))}const c=s[0].codewords.length;let l=s.length-1;for(;l>=0&&s[l].codewords.length!==c;)l--;l++;const h=c-n.getECCodewordsPerBlock();let u=0;for(let e=0;e<h;e++)for(let i=0;i<a;i++)s[i].codewords[e]=t[u++];for(let e=l;e<a;e++)s[e].codewords[h]=t[u++];const f=s[0].codewords.length;for(let e=h;e<f;e++)for(let i=0;i<a;i++){const n=i<l?e:e+1;s[i].codewords[n]=t[u++]}return s}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}!function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"}(X||(X={}));class Me{constructor(t,e,i,n){this.value=t,this.stringValue=e,this.characterCountBitsForVersions=i,this.bits=n,Me.FOR_BITS.set(n,this),Me.FOR_VALUE.set(t,this)}static forBits(t){const e=Me.FOR_BITS.get(t);if(void 0===e)throw new d;return e}getCharacterCountBits(t){const e=t.getVersionNumber();let i;return i=e<=9?0:e<=26?1:2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Me))return!1;const e=t;return this.value===e.value}toString(){return this.stringValue}}Me.FOR_BITS=new Map,Me.FOR_VALUE=new Map,Me.TERMINATOR=new Me(X.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Me.NUMERIC=new Me(X.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Me.ALPHANUMERIC=new Me(X.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Me.STRUCTURED_APPEND=new Me(X.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Me.BYTE=new Me(X.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Me.ECI=new Me(X.ECI,"ECI",Int32Array.from([0,0,0]),7),Me.KANJI=new Me(X.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Me.FNC1_FIRST_POSITION=new Me(X.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Me.FNC1_SECOND_POSITION=new Me(X.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Me.HANZI=new Me(X.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class De{static decode(t,e,i,n){const r=new pe(t);let o=new T;const s=new Array;let a=-1,c=-1;try{let t,i=null,l=!1;do{if(r.available()<4)t=Me.TERMINATOR;else{const e=r.readBits(4);t=Me.forBits(e)}switch(t){case Me.TERMINATOR:break;case Me.FNC1_FIRST_POSITION:case Me.FNC1_SECOND_POSITION:l=!0;break;case Me.STRUCTURED_APPEND:if(r.available()<16)throw new A;a=r.readBits(8),c=r.readBits(8);break;case Me.ECI:const h=De.parseECIValue(r);if(i=C.getCharacterSetECIByValue(h),null===i)throw new A;break;case Me.HANZI:const d=r.readBits(4),u=r.readBits(t.getCharacterCountBits(e));d===De.GB2312_SUBSET&&De.decodeHanziSegment(r,o,u);break;default:const f=r.readBits(t.getCharacterCountBits(e));switch(t){case Me.NUMERIC:De.decodeNumericSegment(r,o,f);break;case Me.ALPHANUMERIC:De.decodeAlphanumericSegment(r,o,f,l);break;case Me.BYTE:De.decodeByteSegment(r,o,f,i,s,n);break;case Me.KANJI:De.decodeKanjiSegment(r,o,f);break;default:throw new A}}}while(t!==Me.TERMINATOR)}catch(t){throw new A}return new Q(t,o.toString(),0===s.length?null:s,null===i?null:i.toString(),a,c)}static decodeHanziSegment(t,e,i){if(13*i>t.available())throw new A;const n=new Uint8Array(2*i);let r=0;for(;i>0;){const e=t.readBits(13);let o=e/96<<8&4294967295|e%96;o+=o<959?41377:42657,n[r]=o>>8&255,n[r+1]=255&o,r+=2,i--}try{e.append(I.decode(n,x.GB2312))}catch(t){throw new A(t)}}static decodeKanjiSegment(t,e,i){if(13*i>t.available())throw new A;const n=new Uint8Array(2*i);let r=0;for(;i>0;){const e=t.readBits(13);let o=e/192<<8&4294967295|e%192;o+=o<7936?33088:49472,n[r]=o>>8,n[r+1]=o,r+=2,i--}try{e.append(I.decode(n,x.SHIFT_JIS))}catch(t){throw new A(t)}}static decodeByteSegment(t,e,i,n,r,o){if(8*i>t.available())throw new A;const s=new Uint8Array(i);for(let e=0;e<i;e++)s[e]=t.readBits(8);let a;a=null===n?x.guessEncoding(s,o):n.getName();try{e.append(I.decode(s,a))}catch(t){throw new A(t)}r.push(s)}static toAlphaNumericChar(t){if(t>=De.ALPHANUMERIC_CHARS.length)throw new A;return De.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,e,i,n){const r=e.length();for(;i>1;){if(t.available()<11)throw new A;const n=t.readBits(11);e.append(De.toAlphaNumericChar(Math.floor(n/45))),e.append(De.toAlphaNumericChar(n%45)),i-=2}if(1===i){if(t.available()<6)throw new A;e.append(De.toAlphaNumericChar(t.readBits(6)))}if(n)for(let t=r;t<e.length();t++)"%"===e.charAt(t)&&(t<e.length()-1&&"%"===e.charAt(t+1)?e.deleteCharAt(t+1):e.setCharAt(t,String.fromCharCode(29)))}static decodeNumericSegment(t,e,i){for(;i>=3;){if(t.available()<10)throw new A;const n=t.readBits(10);if(n>=1e3)throw new A;e.append(De.toAlphaNumericChar(Math.floor(n/100))),e.append(De.toAlphaNumericChar(Math.floor(n/10)%10)),e.append(De.toAlphaNumericChar(n%10)),i-=3}if(2===i){if(t.available()<7)throw new A;const i=t.readBits(7);if(i>=100)throw new A;e.append(De.toAlphaNumericChar(Math.floor(i/10))),e.append(De.toAlphaNumericChar(i%10))}else if(1===i){if(t.available()<4)throw new A;const i=t.readBits(4);if(i>=10)throw new A;e.append(De.toAlphaNumericChar(i))}}static parseECIValue(t){const e=t.readBits(8);if(!(128&e))return 127&e;if(128==(192&e))return(63&e)<<8&4294967295|t.readBits(8);if(192==(224&e))return(31&e)<<16&4294967295|t.readBits(16);throw new A}}De.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",De.GB2312_SUBSET=1;class Oe{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||null===t||t.length<3)return;const e=t[0];t[0]=t[2],t[2]=e}}class Re{constructor(){this.rsDecoder=new nt(tt.QR_CODE_FIELD_256)}decodeBooleanArray(t,e){return this.decodeBitMatrix(M.parseFromBooleanArray(t),e)}decodeBitMatrix(t,e){const i=new xe(t);let n=null;try{return this.decodeBitMatrixParser(i,e)}catch(t){n=t}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const t=this.decodeBitMatrixParser(i,e);return t.setOther(new Oe(!0)),t}catch(t){if(null!==n)throw n;throw t}}decodeBitMatrixParser(t,e){const i=t.readVersion(),n=t.readFormatInformation().getErrorCorrectionLevel(),r=t.readCodewords(),o=Te.getDataBlocks(r,i,n);let s=0;for(const t of o)s+=t.getNumDataCodewords();const a=new Uint8Array(s);let c=0;for(const t of o){const e=t.getCodewords(),i=t.getNumDataCodewords();this.correctErrors(e,i);for(let t=0;t<i;t++)a[c++]=e[t]}return De.decode(a,i,n,e)}correctErrors(t,e){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-e)}catch(t){throw new f}for(let n=0;n<e;n++)t[n]=i[n]}}class Ne extends at{constructor(t,e,i){super(t,e),this.estimatedModuleSize=i}aboutEquals(t,e,i){if(Math.abs(e-this.getY())<=t&&Math.abs(i-this.getX())<=t){const e=Math.abs(t-this.estimatedModuleSize);return e<=1||e<=this.estimatedModuleSize}return!1}combineEstimate(t,e,i){const n=(this.getX()+e)/2,r=(this.getY()+t)/2,o=(this.estimatedModuleSize+i)/2;return new Ne(n,r,o)}}class ke{constructor(t,e,i,n,r,o,s){this.image=t,this.startX=e,this.startY=i,this.width=n,this.height=r,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,e=this.height,i=t+this.width,n=this.startY+e/2,r=new Int32Array(3),o=this.image;for(let s=0;s<e;s++){const e=n+(1&s?-Math.floor((s+1)/2):Math.floor((s+1)/2));r[0]=0,r[1]=0,r[2]=0;let a=t;for(;a<i&&!o.get(a,e);)a++;let c=0;for(;a<i;){if(o.get(a,e))if(1===c)r[1]++;else if(2===c){if(this.foundPatternCross(r)){const t=this.handlePossibleCenter(r,e,a);if(null!==t)return t}r[0]=r[2],r[1]=1,r[2]=0,c=1}else r[++c]++;else 1===c&&c++,r[c]++;a++}if(this.foundPatternCross(r)){const t=this.handlePossibleCenter(r,e,i);if(null!==t)return t}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new D}static centerFromEnd(t,e){return e-t[2]-t[1]/2}foundPatternCross(t){const e=this.moduleSize,i=e/2;for(let n=0;n<3;n++)if(Math.abs(e-t[n])>=i)return!1;return!0}crossCheckVertical(t,e,i,n){const r=this.image,o=r.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;let a=t;for(;a>=0&&r.get(e,a)&&s[1]<=i;)s[1]++,a--;if(a<0||s[1]>i)return NaN;for(;a>=0&&!r.get(e,a)&&s[0]<=i;)s[0]++,a--;if(s[0]>i)return NaN;for(a=t+1;a<o&&r.get(e,a)&&s[1]<=i;)s[1]++,a++;if(a===o||s[1]>i)return NaN;for(;a<o&&!r.get(e,a)&&s[2]<=i;)s[2]++,a++;if(s[2]>i)return NaN;const c=s[0]+s[1]+s[2];return 5*Math.abs(c-n)>=2*n?NaN:this.foundPatternCross(s)?ke.centerFromEnd(s,a):NaN}handlePossibleCenter(t,e,i){const n=t[0]+t[1]+t[2],r=ke.centerFromEnd(t,i),o=this.crossCheckVertical(e,r,2*t[1],n);if(!isNaN(o)){const e=(t[0]+t[1]+t[2])/3;for(const t of this.possibleCenters)if(t.aboutEquals(e,o,r))return t.combineEstimate(o,r,e);const i=new Ne(r,o,e);this.possibleCenters.push(i),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(i)}return null}}class Le extends at{constructor(t,e,i,n){super(t,e),this.estimatedModuleSize=i,this.count=n,void 0===n&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,e,i){if(Math.abs(e-this.getY())<=t&&Math.abs(i-this.getX())<=t){const e=Math.abs(t-this.estimatedModuleSize);return e<=1||e<=this.estimatedModuleSize}return!1}combineEstimate(t,e,i){const n=this.count+1,r=(this.count*this.getX()+e)/n,o=(this.count*this.getY()+t)/n,s=(this.count*this.estimatedModuleSize+i)/n;return new Le(r,o,s,n)}}class Pe{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Be{constructor(t,e){this.image=t,this.resultPointCallback=e,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=e}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const e=null!=t&&void 0!==t.get(E.TRY_HARDER),i=null!=t&&void 0!==t.get(E.PURE_BARCODE),n=this.image,r=n.getHeight(),o=n.getWidth();let s=Math.floor(3*r/(4*Be.MAX_MODULES));(s<Be.MIN_SKIP||e)&&(s=Be.MIN_SKIP);let a=!1;const c=new Int32Array(5);for(let t=s-1;t<r&&!a;t+=s){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;let e=0;for(let r=0;r<o;r++)if(n.get(r,t))1&~e||e++,c[e]++;else if(1&e)c[e]++;else if(4===e)if(Be.foundPatternCross(c)){if(!0!==this.handlePossibleCenter(c,t,r,i)){c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,e=3;continue}if(s=2,!0===this.hasSkipped)a=this.haveMultiplyConfirmedCenters();else{const e=this.findRowSkip();e>c[2]&&(t+=e-c[2]-s,r=o-1)}e=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,e=3;else c[++e]++;Be.foundPatternCross(c)&&!0===this.handlePossibleCenter(c,t,o,i)&&(s=c[0],this.hasSkipped&&(a=this.haveMultiplyConfirmedCenters()))}const l=this.selectBestPatterns();return at.orderBestPatterns(l),new Pe(l)}static centerFromEnd(t,e){return e-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let e=0;for(let i=0;i<5;i++){const n=t[i];if(0===n)return!1;e+=n}if(e<7)return!1;const i=e/7,n=i/2;return Math.abs(i-t[0])<n&&Math.abs(i-t[1])<n&&Math.abs(3*i-t[2])<3*n&&Math.abs(i-t[3])<n&&Math.abs(i-t[4])<n}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,e,i,n){const r=this.getCrossCheckStateCount();let o=0;const s=this.image;for(;t>=o&&e>=o&&s.get(e-o,t-o);)r[2]++,o++;if(t<o||e<o)return!1;for(;t>=o&&e>=o&&!s.get(e-o,t-o)&&r[1]<=i;)r[1]++,o++;if(t<o||e<o||r[1]>i)return!1;for(;t>=o&&e>=o&&s.get(e-o,t-o)&&r[0]<=i;)r[0]++,o++;if(r[0]>i)return!1;const a=s.getHeight(),c=s.getWidth();for(o=1;t+o<a&&e+o<c&&s.get(e+o,t+o);)r[2]++,o++;if(t+o>=a||e+o>=c)return!1;for(;t+o<a&&e+o<c&&!s.get(e+o,t+o)&&r[3]<i;)r[3]++,o++;if(t+o>=a||e+o>=c||r[3]>=i)return!1;for(;t+o<a&&e+o<c&&s.get(e+o,t+o)&&r[4]<i;)r[4]++,o++;if(r[4]>=i)return!1;const l=r[0]+r[1]+r[2]+r[3]+r[4];return Math.abs(l-n)<2*n&&Be.foundPatternCross(r)}crossCheckVertical(t,e,i,n){const r=this.image,o=r.getHeight(),s=this.getCrossCheckStateCount();let a=t;for(;a>=0&&r.get(e,a);)s[2]++,a--;if(a<0)return NaN;for(;a>=0&&!r.get(e,a)&&s[1]<=i;)s[1]++,a--;if(a<0||s[1]>i)return NaN;for(;a>=0&&r.get(e,a)&&s[0]<=i;)s[0]++,a--;if(s[0]>i)return NaN;for(a=t+1;a<o&&r.get(e,a);)s[2]++,a++;if(a===o)return NaN;for(;a<o&&!r.get(e,a)&&s[3]<i;)s[3]++,a++;if(a===o||s[3]>=i)return NaN;for(;a<o&&r.get(e,a)&&s[4]<i;)s[4]++,a++;if(s[4]>=i)return NaN;const c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-n)>=2*n?NaN:Be.foundPatternCross(s)?Be.centerFromEnd(s,a):NaN}crossCheckHorizontal(t,e,i,n){const r=this.image,o=r.getWidth(),s=this.getCrossCheckStateCount();let a=t;for(;a>=0&&r.get(a,e);)s[2]++,a--;if(a<0)return NaN;for(;a>=0&&!r.get(a,e)&&s[1]<=i;)s[1]++,a--;if(a<0||s[1]>i)return NaN;for(;a>=0&&r.get(a,e)&&s[0]<=i;)s[0]++,a--;if(s[0]>i)return NaN;for(a=t+1;a<o&&r.get(a,e);)s[2]++,a++;if(a===o)return NaN;for(;a<o&&!r.get(a,e)&&s[3]<i;)s[3]++,a++;if(a===o||s[3]>=i)return NaN;for(;a<o&&r.get(a,e)&&s[4]<i;)s[4]++,a++;if(s[4]>=i)return NaN;const c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-n)>=n?NaN:Be.foundPatternCross(s)?Be.centerFromEnd(s,a):NaN}handlePossibleCenter(t,e,i,n){const r=t[0]+t[1]+t[2]+t[3]+t[4];let o=Be.centerFromEnd(t,i),s=this.crossCheckVertical(e,Math.floor(o),t[2],r);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),t[2],r),!isNaN(o)&&(!n||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),t[2],r)))){const t=r/7;let e=!1;const i=this.possibleCenters;for(let n=0,r=i.length;n<r;n++){const r=i[n];if(r.aboutEquals(t,s,o)){i[n]=r.combineEstimate(s,o,t),e=!0;break}}if(!e){const e=new Le(o,s,t);i.push(e),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(e)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let t=null;for(const e of this.possibleCenters)if(e.getCount()>=Be.CENTER_QUORUM){if(null!=t)return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-e.getX())-Math.abs(t.getY()-e.getY()))/2);t=e}return 0}haveMultiplyConfirmedCenters(){let t=0,e=0;const i=this.possibleCenters.length;for(const i of this.possibleCenters)i.getCount()>=Be.CENTER_QUORUM&&(t++,e+=i.getEstimatedModuleSize());if(t<3)return!1;const n=e/i;let r=0;for(const t of this.possibleCenters)r+=Math.abs(t.getEstimatedModuleSize()-n);return r<=.05*e}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new D;const e=this.possibleCenters;let i;if(t>3){let n=0,r=0;for(const t of this.possibleCenters){const e=t.getEstimatedModuleSize();n+=e,r+=e*e}i=n/t;let o=Math.sqrt(r/t-i*i);e.sort(((t,e)=>{const n=Math.abs(e.getEstimatedModuleSize()-i),r=Math.abs(t.getEstimatedModuleSize()-i);return n<r?-1:n>r?1:0}));const s=Math.max(.2*i,o);for(let t=0;t<e.length&&e.length>3;t++){const n=e[t];Math.abs(n.getEstimatedModuleSize()-i)>s&&(e.splice(t,1),t--)}}if(e.length>3){let t=0;for(const i of e)t+=i.getEstimatedModuleSize();i=t/e.length,e.sort(((t,e)=>{if(e.getCount()===t.getCount()){const n=Math.abs(e.getEstimatedModuleSize()-i),r=Math.abs(t.getEstimatedModuleSize()-i);return n<r?1:n>r?-1:0}return e.getCount()-t.getCount()})),e.splice(3)}return[e[0],e[1],e[2]]}}Be.CENTER_QUORUM=2,Be.MIN_SKIP=3,Be.MAX_MODULES=57;class Fe{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=null==t?null:t.get(E.NEED_RESULT_POINT_CALLBACK);const e=new Be(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(e)}processFinderPatternInfo(t){const e=t.getTopLeft(),i=t.getTopRight(),n=t.getBottomLeft(),r=this.calculateModuleSize(e,i,n);if(r<1)throw new D("No pattern found in proccess finder.");const o=Fe.computeDimension(e,i,n,r),s=Se.getProvisionalVersionForDimension(o),a=s.getDimensionForVersion()-7;let c=null;if(s.getAlignmentPatternCenters().length>0){const t=i.getX()-e.getX()+n.getX(),o=i.getY()-e.getY()+n.getY(),s=1-3/a,l=Math.floor(e.getX()+s*(t-e.getX())),h=Math.floor(e.getY()+s*(o-e.getY()));for(let t=4;t<=16;t<<=1)try{c=this.findAlignmentInRegion(r,l,h,t);break}catch(t){if(!(t instanceof D))throw t}}const l=Fe.createTransform(e,i,n,c,o),h=Fe.sampleGrid(this.image,l,o);let d;return d=null===c?[n,e,i]:[n,e,i,c],new ct(h,d)}static createTransform(t,e,i,n,r){const o=r-3.5;let s,a,c,l;return null!==n?(s=n.getX(),a=n.getY(),c=o-3,l=c):(s=e.getX()-t.getX()+i.getX(),a=e.getY()-t.getY()+i.getY(),c=o,l=o),ut.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,c,l,3.5,o,t.getX(),t.getY(),e.getX(),e.getY(),s,a,i.getX(),i.getY())}static sampleGrid(t,e,i){return gt.getInstance().sampleGridWithTransform(t,i,i,e)}static computeDimension(t,e,i,n){const r=ot.round(at.distance(t,e)/n),o=ot.round(at.distance(t,i)/n);let s=Math.floor((r+o)/2)+7;switch(3&s){case 0:s++;break;case 2:s--;break;case 3:throw new D("Dimensions could be not found.")}return s}calculateModuleSize(t,e,i){return(this.calculateModuleSizeOneWay(t,e)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,e){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY())),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?n/7:isNaN(n)?i/7:(i+n)/14}sizeOfBlackWhiteBlackRunBothWays(t,e,i,n){let r=this.sizeOfBlackWhiteBlackRun(t,e,i,n),o=1,s=t-(i-t);s<0?(o=t/(t-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-t)/(s-t),s=this.image.getWidth()-1);let a=Math.floor(e-(n-e)*o);return o=1,a<0?(o=e/(e-a),a=0):a>=this.image.getHeight()&&(o=(this.image.getHeight()-1-e)/(a-e),a=this.image.getHeight()-1),s=Math.floor(t+(s-t)*o),r+=this.sizeOfBlackWhiteBlackRun(t,e,s,a),r-1}sizeOfBlackWhiteBlackRun(t,e,i,n){const r=Math.abs(n-e)>Math.abs(i-t);if(r){let r=t;t=e,e=r,r=i,i=n,n=r}const o=Math.abs(i-t),s=Math.abs(n-e);let a=-o/2;const c=t<i?1:-1,l=e<n?1:-1;let h=0;const d=i+c;for(let i=t,u=e;i!==d;i+=c){const c=r?u:i,d=r?i:u;if(1===h===this.image.get(c,d)){if(2===h)return ot.distance(i,u,t,e);h++}if(a+=s,a>0){if(u===n)break;u+=l,a-=o}}return 2===h?ot.distance(i+c,n,t,e):NaN}findAlignmentInRegion(t,e,i,n){const r=Math.floor(n*t),o=Math.max(0,e-r),s=Math.min(this.image.getWidth()-1,e+r);if(s-o<3*t)throw new D("Alignment top exceeds estimated module size.");const a=Math.max(0,i-r),c=Math.min(this.image.getHeight()-1,i+r);if(c-a<3*t)throw new D("Alignment bottom exceeds estimated module size.");return new ke(this.image,o,a,s-o,c-a,t,this.resultPointCallback).find()}}class He{constructor(){this.decoder=new Re}getDecoder(){return this.decoder}decode(t,e){let i,n;if(null!=e&&void 0!==e.get(E.PURE_BARCODE)){const r=He.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(r,e),n=He.NO_POINTS}else{const r=new Fe(t.getBlackMatrix()).detect(e);i=this.decoder.decodeBitMatrix(r.getBits(),e),n=r.getPoints()}i.getOther()instanceof Oe&&i.getOther().applyMirroredCorrection(n);const r=new V(i.getText(),i.getRawBytes(),void 0,n,U.QR_CODE,void 0),o=i.getByteSegments();null!==o&&r.putMetadata(q.BYTE_SEGMENTS,o);const s=i.getECLevel();return null!==s&&r.putMetadata(q.ERROR_CORRECTION_LEVEL,s),i.hasStructuredAppend()&&(r.putMetadata(q.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),r.putMetadata(q.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),r}reset(){}static extractPureBits(t){const e=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(null===e||null===i)throw new D;const n=this.moduleSize(e,t);let r=e[1],o=i[1],s=e[0],a=i[0];if(s>=a||r>=o)throw new D;if(o-r!=a-s&&(a=s+(o-r),a>=t.getWidth()))throw new D;const c=Math.round((a-s+1)/n),l=Math.round((o-r+1)/n);if(c<=0||l<=0)throw new D;if(l!==c)throw new D;const h=Math.floor(n/2);r+=h,s+=h;const d=s+Math.floor((c-1)*n)-a;if(d>0){if(d>h)throw new D;s-=d}const u=r+Math.floor((l-1)*n)-o;if(u>0){if(u>h)throw new D;r-=u}const f=new M(c,l);for(let e=0;e<l;e++){const i=r+Math.floor(e*n);for(let r=0;r<c;r++)t.get(s+Math.floor(r*n),i)&&f.set(r,e)}return f}static moduleSize(t,e){const i=e.getHeight(),n=e.getWidth();let r=t[0],o=t[1],s=!0,a=0;for(;r<n&&o<i;){if(s!==e.get(r,o)){if(5==++a)break;s=!s}r++,o++}if(r===n||o===i)throw new D;return(r-t[0])/7}}He.NO_POINTS=new Array;class Ve{PDF417Common(){}static getBitCountSum(t){return ot.sum(t)}static toIntArray(t){if(null==t||!t.length)return Ve.EMPTY_INT_ARRAY;const e=new Int32Array(t.length);let i=0;for(const n of t)e[i++]=n;return e}static getCodeword(t){const e=w.binarySearch(Ve.SYMBOL_TABLE,262143&t);return e<0?-1:(Ve.CODEWORD_TABLE[e]-1)%Ve.NUMBER_OF_CODEWORDS}}Ve.NUMBER_OF_CODEWORDS=929,Ve.MAX_CODEWORDS_IN_BARCODE=Ve.NUMBER_OF_CODEWORDS-1,Ve.MIN_ROWS_IN_BARCODE=3,Ve.MAX_ROWS_IN_BARCODE=90,Ve.MODULES_IN_CODEWORD=17,Ve.MODULES_IN_STOP_PATTERN=18,Ve.BARS_IN_MODULE=8,Ve.EMPTY_INT_ARRAY=new Int32Array([]),Ve.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ve.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ze{constructor(t,e){this.bits=t,this.points=e}getBits(){return this.bits}getPoints(){return this.points}}class Ue{static detectMultiple(t,e,i){let n=t.getBlackMatrix(),r=Ue.detect(i,n);return r.length||(n=n.clone(),n.rotate180(),r=Ue.detect(i,n)),new ze(n,r)}static detect(t,e){const i=new Array;let n=0,r=0,o=!1;for(;n<e.getHeight();){const s=Ue.findVertices(e,n,r);if(null!=s[0]||null!=s[3]){if(o=!0,i.push(s),!t)break;null!=s[2]?(r=Math.trunc(s[2].getX()),n=Math.trunc(s[2].getY())):(r=Math.trunc(s[4].getX()),n=Math.trunc(s[4].getY()))}else{if(!o)break;o=!1,r=0;for(const t of i)null!=t[1]&&(n=Math.trunc(Math.max(n,t[1].getY()))),null!=t[3]&&(n=Math.max(n,Math.trunc(t[3].getY())));n+=Ue.ROW_STEP}}return i}static findVertices(t,e,i){const n=t.getHeight(),r=t.getWidth(),o=new Array(8);return Ue.copyToResult(o,Ue.findRowsWithPattern(t,n,r,e,i,Ue.START_PATTERN),Ue.INDEXES_START_PATTERN),null!=o[4]&&(i=Math.trunc(o[4].getX()),e=Math.trunc(o[4].getY())),Ue.copyToResult(o,Ue.findRowsWithPattern(t,n,r,e,i,Ue.STOP_PATTERN),Ue.INDEXES_STOP_PATTERN),o}static copyToResult(t,e,i){for(let n=0;n<i.length;n++)t[i[n]]=e[n]}static findRowsWithPattern(t,e,i,n,r,o){const s=new Array(4);let a=!1;const c=new Int32Array(o.length);for(;n<e;n+=Ue.ROW_STEP){let e=Ue.findGuardPattern(t,r,n,i,!1,o,c);if(null!=e){for(;n>0;){const s=Ue.findGuardPattern(t,r,--n,i,!1,o,c);if(null==s){n++;break}e=s}s[0]=new at(e[0],n),s[1]=new at(e[1],n),a=!0;break}}let l=n+1;if(a){let n=0,r=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);for(;l<e;l++){const e=Ue.findGuardPattern(t,r[0],l,i,!1,o,c);if(null!=e&&Math.abs(r[0]-e[0])<Ue.MAX_PATTERN_DRIFT&&Math.abs(r[1]-e[1])<Ue.MAX_PATTERN_DRIFT)r=e,n=0;else{if(n>Ue.SKIPPED_ROW_COUNT_MAX)break;n++}}l-=n+1,s[2]=new at(r[0],l),s[3]=new at(r[1],l)}return l-n<Ue.BARCODE_MIN_HEIGHT&&w.fill(s,null),s}static findGuardPattern(t,e,i,n,r,o,s){w.fillWithin(s,0,s.length,0);let a=e,c=0;for(;t.get(a,i)&&a>0&&c++<Ue.MAX_PIXEL_DRIFT;)a--;let l=a,h=0,d=o.length;for(let e=r;l<n;l++)if(t.get(l,i)!==e)s[h]++;else{if(h===d-1){if(Ue.patternMatchVariance(s,o,Ue.MAX_INDIVIDUAL_VARIANCE)<Ue.MAX_AVG_VARIANCE)return new Int32Array([a,l]);a+=s[0]+s[1],p.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,e=!e}return h===d-1&&Ue.patternMatchVariance(s,o,Ue.MAX_INDIVIDUAL_VARIANCE)<Ue.MAX_AVG_VARIANCE?new Int32Array([a,l-1]):null}static patternMatchVariance(t,e,i){let n=t.length,r=0,o=0;for(let i=0;i<n;i++)r+=t[i],o+=e[i];if(r<o)return 1/0;let s=r/o;i*=s;let a=0;for(let r=0;r<n;r++){let n=t[r],o=e[r]*s,c=n>o?n-o:o-n;if(c>i)return 1/0;a+=c}return a/r}}Ue.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ue.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ue.MAX_AVG_VARIANCE=.42,Ue.MAX_INDIVIDUAL_VARIANCE=.8,Ue.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ue.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ue.MAX_PIXEL_DRIFT=3,Ue.MAX_PATTERN_DRIFT=5,Ue.SKIPPED_ROW_COUNT_MAX=25,Ue.ROW_STEP=5,Ue.BARCODE_MIN_HEIGHT=10;class je{constructor(t,e){if(0===e.length)throw new d;this.field=t;let i=e.length;if(i>1&&0===e[0]){let t=1;for(;t<i&&0===e[t];)t++;t===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-t),p.arraycopy(e,t,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(0===t)return this.getCoefficient(0);if(1===t){let t=0;for(let e of this.coefficients)t=this.field.add(t,e);return t}let e=this.coefficients[0],i=this.coefficients.length;for(let n=1;n<i;n++)e=this.field.add(this.field.multiply(t,e),this.coefficients[n]);return e}add(t){if(!this.field.equals(t.field))throw new d("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let e=this.coefficients,i=t.coefficients;if(e.length>i.length){let t=e;e=i,i=t}let n=new Int32Array(i.length),r=i.length-e.length;p.arraycopy(i,0,n,0,r);for(let t=r;t<i.length;t++)n[t]=this.field.add(e[t-r],i[t]);return new je(this.field,n)}subtract(t){if(!this.field.equals(t.field))throw new d("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof je?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new d("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new je(this.field,new Int32Array([0]));let e=this.coefficients,i=e.length,n=t.coefficients,r=n.length,o=new Int32Array(i+r-1);for(let t=0;t<i;t++){let i=e[t];for(let e=0;e<r;e++)o[t+e]=this.field.add(o[t+e],this.field.multiply(i,n[e]))}return new je(this.field,o)}negative(){let t=this.coefficients.length,e=new Int32Array(t);for(let i=0;i<t;i++)e[i]=this.field.subtract(0,this.coefficients[i]);return new je(this.field,e)}multiplyScalar(t){if(0===t)return new je(this.field,new Int32Array([0]));if(1===t)return this;let e=this.coefficients.length,i=new Int32Array(e);for(let n=0;n<e;n++)i[n]=this.field.multiply(this.coefficients[n],t);return new je(this.field,i)}multiplyByMonomial(t,e){if(t<0)throw new d;if(0===e)return new je(this.field,new Int32Array([0]));let i=this.coefficients.length,n=new Int32Array(i+t);for(let t=0;t<i;t++)n[t]=this.field.multiply(this.coefficients[t],e);return new je(this.field,n)}toString(){let t=new T;for(let e=this.getDegree();e>=0;e--){let i=this.getCoefficient(e);0!==i&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),0!==e&&1===i||t.append(i),0!==e&&(1===e?t.append("x"):(t.append("x^"),t.append(e))))}return t.toString()}}class We{add(t,e){return(t+e)%this.modulus}subtract(t,e){return(this.modulus+t-e)%this.modulus}exp(t){return this.expTable[t]}log(t){if(0===t)throw new d;return this.logTable[t]}inverse(t){if(0===t)throw new J;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Ye extends We{constructor(t,e){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let n=0;n<t;n++)this.expTable[n]=i,i=i*e%t;for(let e=0;e<t-1;e++)this.logTable[this.expTable[e]]=e;this.zero=new je(this,new Int32Array([0])),this.one=new je(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,e){if(t<0)throw new d;if(0===e)return this.zero;let i=new Int32Array(t+1);return i[0]=e,new je(this,i)}}Ye.PDF417_GF=new Ye(Ve.NUMBER_OF_CODEWORDS,3);class Ge{constructor(){this.field=Ye.PDF417_GF}decode(t,e,i){let n=new je(this.field,t),r=new Int32Array(e),o=!1;for(let t=e;t>0;t--){let i=n.evaluateAt(this.field.exp(t));r[e-t]=i,0!==i&&(o=!0)}if(!o)return 0;let s=this.field.getOne();if(null!=i)for(const e of i){let i=this.field.exp(t.length-1-e),n=new je(this.field,new Int32Array([this.field.subtract(0,i),1]));s=s.multiply(n)}let a=new je(this.field,r),c=this.runEuclideanAlgorithm(this.field.buildMonomial(e,1),a,e),l=c[0],h=c[1],d=this.findErrorLocations(l),u=this.findErrorMagnitudes(h,l,d);for(let e=0;e<d.length;e++){let i=t.length-1-this.field.log(d[e]);if(i<0)throw f.getChecksumInstance();t[i]=this.field.subtract(t[i],u[e])}return d.length}runEuclideanAlgorithm(t,e,i){if(t.getDegree()<e.getDegree()){let i=t;t=e,e=i}let n=t,r=e,o=this.field.getZero(),s=this.field.getOne();for(;r.getDegree()>=Math.round(i/2);){let t=n,e=o;if(n=r,o=s,n.isZero())throw f.getChecksumInstance();r=t;let i=this.field.getZero(),a=n.getCoefficient(n.getDegree()),c=this.field.inverse(a);for(;r.getDegree()>=n.getDegree()&&!r.isZero();){let t=r.getDegree()-n.getDegree(),e=this.field.multiply(r.getCoefficient(r.getDegree()),c);i=i.add(this.field.buildMonomial(t,e)),r=r.subtract(n.multiplyByMonomial(t,e))}s=i.multiply(o).subtract(e).negative()}let a=s.getCoefficient(0);if(0===a)throw f.getChecksumInstance();let c=this.field.inverse(a);return[s.multiply(c),r.multiply(c)]}findErrorLocations(t){let e=t.getDegree(),i=new Int32Array(e),n=0;for(let r=1;r<this.field.getSize()&&n<e;r++)0===t.evaluateAt(r)&&(i[n]=this.field.inverse(r),n++);if(n!==e)throw f.getChecksumInstance();return i}findErrorMagnitudes(t,e,i){let n=e.getDegree(),r=new Int32Array(n);for(let t=1;t<=n;t++)r[n-t]=this.field.multiply(t,e.getCoefficient(t));let o=new je(this.field,r),s=i.length,a=new Int32Array(s);for(let e=0;e<s;e++){let n=this.field.inverse(i[e]),r=this.field.subtract(0,t.evaluateAt(n)),s=this.field.inverse(o.evaluateAt(n));a[e]=this.field.multiply(r,s)}return a}}class Xe{constructor(t,e,i,n,r){t instanceof Xe?this.constructor_2(t):this.constructor_1(t,e,i,n,r)}constructor_1(t,e,i,n,r){const o=null==e||null==i,s=null==n||null==r;if(o&&s)throw new D;o?(e=new at(0,n.getY()),i=new at(0,r.getY())):s&&(n=new at(t.getWidth()-1,e.getY()),r=new at(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=e,this.bottomLeft=i,this.topRight=n,this.bottomRight=r,this.minX=Math.trunc(Math.min(e.getX(),i.getX())),this.maxX=Math.trunc(Math.max(n.getX(),r.getX())),this.minY=Math.trunc(Math.min(e.getY(),n.getY())),this.maxY=Math.trunc(Math.max(i.getY(),r.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,e){return null==t?e:null==e?t:new Xe(t.image,t.topLeft,t.bottomLeft,e.topRight,e.bottomRight)}addMissingRows(t,e,i){let n=this.topLeft,r=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(t>0){let e=i?this.topLeft:this.topRight,r=Math.trunc(e.getY()-t);r<0&&(r=0);let s=new at(e.getX(),r);i?n=s:o=s}if(e>0){let t=i?this.bottomLeft:this.bottomRight,n=Math.trunc(t.getY()+e);n>=this.image.getHeight()&&(n=this.image.getHeight()-1);let o=new at(t.getX(),n);i?r=o:s=o}return new Xe(this.image,n,r,o,s)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ze{constructor(t,e,i,n){this.columnCount=t,this.errorCorrectionLevel=n,this.rowCountUpperPart=e,this.rowCountLowerPart=i,this.rowCount=e+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class qe{constructor(){this.buffer=""}static form(t,e){let i=-1;function n(t,n,r,o,s,a){if("%%"===t)return"%";if(void 0===e[++i])return;t=o?parseInt(o.substr(1)):void 0;let c,l=s?parseInt(s.substr(1)):void 0;switch(a){case"s":c=e[i];break;case"c":c=e[i][0];break;case"f":c=parseFloat(e[i]).toFixed(t);break;case"p":c=parseFloat(e[i]).toPrecision(t);break;case"e":c=parseFloat(e[i]).toExponential(t);break;case"x":c=parseInt(e[i]).toString(l||16);break;case"d":c=parseFloat(parseInt(e[i],l||10).toPrecision(t)).toFixed(0)}c="object"==typeof c?JSON.stringify(c):(+c).toString(l);let h=parseInt(r),d=r&&r[0]+""=="0"?"0":" ";for(;c.length<h;)c=void 0!==n?c+d:d+c;return c}let r=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(r,n)}format(t,...e){this.buffer+=qe.form(t,e)}toString(){return this.buffer}}class Qe{constructor(t){this.boundingBox=new Xe(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let e=this.getCodeword(t);if(null!=e)return e;for(let i=1;i<Qe.MAX_NEARBY_DISTANCE;i++){let n=this.imageRowToCodewordIndex(t)-i;if(n>=0&&(e=this.codewords[n],null!=e))return e;if(n=this.imageRowToCodewordIndex(t)+i,n<this.codewords.length&&(e=this.codewords[n],null!=e))return e}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,e){this.codewords[this.imageRowToCodewordIndex(t)]=e}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new qe;let e=0;for(const i of this.codewords)null!=i?t.format("%3d: %3d|%3d%n",e++,i.getRowNumber(),i.getValue()):t.format("%3d:    |   %n",e++);return t.toString()}}Qe.MAX_NEARBY_DISTANCE=5;class Ke{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let e=this.values.get(t);null==e&&(e=0),e++,this.values.set(t,e)}getValue(){let t=-1,e=new Array;for(const[i,n]of this.values.entries()){const r={getKey:()=>i,getValue:()=>n};r.getValue()>t?(t=r.getValue(),e=[],e.push(r.getKey())):r.getValue()===t&&e.push(r.getKey())}return Ve.toIntArray(e)}getConfidence(t){return this.values.get(t)}}class $e extends Qe{constructor(t,e){super(t),this._isLeft=e}setRowNumbers(){for(let t of this.getCodewords())null!=t&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let e=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(e,t);let i=this.getBoundingBox(),n=this._isLeft?i.getTopLeft():i.getTopRight(),r=this._isLeft?i.getBottomLeft():i.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),s=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=-1,c=1,l=0;for(let i=o;i<s;i++){if(null==e[i])continue;let n=e[i],r=n.getRowNumber()-a;if(0===r)l++;else if(1===r)c=Math.max(c,l),l=1,a=n.getRowNumber();else if(r<0||n.getRowNumber()>=t.getRowCount()||r>i)e[i]=null;else{let t;t=c>2?(c-2)*r:r;let o=t>=i;for(let n=1;n<=t&&!o;n++)o=null!=e[i-n];o?e[i]=null:(a=n.getRowNumber(),l=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(null==t)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let e=new Int32Array(t.getRowCount());for(let t of this.getCodewords())if(null!=t){let i=t.getRowNumber();if(i>=e.length)continue;e[i]++}return e}adjustIncompleteIndicatorColumnRowNumbers(t){let e=this.getBoundingBox(),i=this._isLeft?e.getTopLeft():e.getTopRight(),n=this._isLeft?e.getBottomLeft():e.getBottomRight(),r=this.imageRowToCodewordIndex(Math.trunc(i.getY())),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),s=this.getCodewords(),a=-1;for(let e=r;e<o;e++){if(null==s[e])continue;let i=s[e];i.setRowNumberAsRowIndicatorColumn();let n=i.getRowNumber()-a;0===n||(1===n?a=i.getRowNumber():i.getRowNumber()>=t.getRowCount()?s[e]=null:a=i.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),e=new Ke,i=new Ke,n=new Ke,r=new Ke;for(let o of t){if(null==o)continue;o.setRowNumberAsRowIndicatorColumn();let t=o.getValue()%30,s=o.getRowNumber();switch(this._isLeft||(s+=2),s%3){case 0:i.setValue(3*t+1);break;case 1:r.setValue(t/3),n.setValue(t%3);break;case 2:e.setValue(t+1)}}if(0===e.getValue().length||0===i.getValue().length||0===n.getValue().length||0===r.getValue().length||e.getValue()[0]<1||i.getValue()[0]+n.getValue()[0]<Ve.MIN_ROWS_IN_BARCODE||i.getValue()[0]+n.getValue()[0]>Ve.MAX_ROWS_IN_BARCODE)return null;let o=new Ze(e.getValue()[0],i.getValue()[0],n.getValue()[0],r.getValue()[0]);return this.removeIncorrectCodewords(t,o),o}removeIncorrectCodewords(t,e){for(let i=0;i<t.length;i++){let n=t[i];if(null==t[i])continue;let r=n.getValue()%30,o=n.getRowNumber();if(o>e.getRowCount())t[i]=null;else switch(this._isLeft||(o+=2),o%3){case 0:3*r+1!==e.getRowCountUpperPart()&&(t[i]=null);break;case 1:Math.trunc(r/3)===e.getErrorCorrectionLevel()&&r%3===e.getRowCountLowerPart()||(t[i]=null);break;case 2:r+1!==e.getColumnCount()&&(t[i]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Je{constructor(t,e){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=e,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t,e=Ve.MAX_CODEWORDS_IN_BARCODE;do{t=e,e=this.adjustRowNumbersAndGetCount()}while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){null!=t&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(0===t)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let e=this.detectionResultColumns[t].getCodewords();for(let i=0;i<e.length;i++)null!=e[i]&&(e[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,e))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let t=this.detectionResultColumns[0].getCodewords(),e=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(null!=t[i]&&null!=e[i]&&t[i].getRowNumber()===e[i].getRowNumber())for(let e=1;e<=this.barcodeColumnCount;e++){let n=this.detectionResultColumns[e].getCodewords()[i];null!=n&&(n.setRowNumber(t[i].getRowNumber()),n.hasValidRowNumber()||(this.detectionResultColumns[e].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let t=0,e=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<e.length;i++){if(null==e[i])continue;let n=e[i].getRowNumber(),r=0;for(let e=this.barcodeColumnCount+1;e>0&&r<this.ADJUST_ROW_NUMBER_SKIP;e--){let o=this.detectionResultColumns[e].getCodewords()[i];null!=o&&(r=Je.adjustRowNumberIfValid(n,r,o),o.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let t=0,e=this.detectionResultColumns[0].getCodewords();for(let i=0;i<e.length;i++){if(null==e[i])continue;let n=e[i].getRowNumber(),r=0;for(let e=1;e<this.barcodeColumnCount+1&&r<this.ADJUST_ROW_NUMBER_SKIP;e++){let o=this.detectionResultColumns[e].getCodewords()[i];null!=o&&(r=Je.adjustRowNumberIfValid(n,r,o),o.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,e,i){return null==i||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),e=0):++e),e}adjustRowNumbers(t,e,i){if(!this.detectionResultColumns[t-1])return;let n=i[e],r=this.detectionResultColumns[t-1].getCodewords(),o=r;null!=this.detectionResultColumns[t+1]&&(o=this.detectionResultColumns[t+1].getCodewords());let s=new Array(14);s[2]=r[e],s[3]=o[e],e>0&&(s[0]=i[e-1],s[4]=r[e-1],s[5]=o[e-1]),e>1&&(s[8]=i[e-2],s[10]=r[e-2],s[11]=o[e-2]),e<i.length-1&&(s[1]=i[e+1],s[6]=r[e+1],s[7]=o[e+1]),e<i.length-2&&(s[9]=i[e+2],s[12]=r[e+2],s[13]=o[e+2]);for(let t of s)if(Je.adjustRowNumber(n,t))return}static adjustRowNumber(t,e){return!(null==e||!e.hasValidRowNumber()||e.getBucket()!==t.getBucket()||(t.setRowNumber(e.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,e){this.detectionResultColumns[t]=e}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];null==t&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let e=new qe;for(let i=0;i<t.getCodewords().length;i++){e.format("CW %3d:",i);for(let t=0;t<this.barcodeColumnCount+2;t++){if(null==this.detectionResultColumns[t]){e.format("    |   ");continue}let n=this.detectionResultColumns[t].getCodewords()[i];null!=n?e.format(" %3d|%3d",n.getRowNumber(),n.getValue()):e.format("    |   ")}e.format("%n")}return e.toString()}}class ti{constructor(t,e,i,n){this.rowNumber=ti.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(e),this.bucket=Math.trunc(i),this.value=Math.trunc(n)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==ti.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}ti.BARCODE_ROW_UNKNOWN=-1;class ei{static initialize(){for(let t=0;t<Ve.SYMBOL_TABLE.length;t++){let e=Ve.SYMBOL_TABLE[t],i=1&e;for(let n=0;n<Ve.BARS_IN_MODULE;n++){let r=0;for(;(1&e)===i;)r+=1,e>>=1;i=1&e,ei.RATIOS_TABLE[t]||(ei.RATIOS_TABLE[t]=new Array(Ve.BARS_IN_MODULE)),ei.RATIOS_TABLE[t][Ve.BARS_IN_MODULE-n-1]=Math.fround(r/Ve.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let e=ei.getDecodedCodewordValue(ei.sampleBitCounts(t));return-1!==e?e:ei.getClosestDecodedValue(t)}static sampleBitCounts(t){let e=ot.sum(t),i=new Int32Array(Ve.BARS_IN_MODULE),n=0,r=0;for(let o=0;o<Ve.MODULES_IN_CODEWORD;o++){let s=e/(2*Ve.MODULES_IN_CODEWORD)+o*e/Ve.MODULES_IN_CODEWORD;r+t[n]<=s&&(r+=t[n],n++),i[n]++}return i}static getDecodedCodewordValue(t){let e=ei.getBitValue(t);return-1===Ve.getCodeword(e)?-1:e}static getBitValue(t){let e=0;for(let i=0;i<t.length;i++)for(let n=0;n<t[i];n++)e=e<<1|(i%2==0?1:0);return Math.trunc(e)}static getClosestDecodedValue(t){let e=ot.sum(t),i=new Array(Ve.BARS_IN_MODULE);if(e>1)for(let n=0;n<i.length;n++)i[n]=Math.fround(t[n]/e);let n=st.MAX_VALUE,r=-1;this.bSymbolTableReady||ei.initialize();for(let t=0;t<ei.RATIOS_TABLE.length;t++){let e=0,o=ei.RATIOS_TABLE[t];for(let t=0;t<Ve.BARS_IN_MODULE;t++){let r=Math.fround(o[t]-i[t]);if(e+=Math.fround(r*r),e>=n)break}e<n&&(n=e,r=Ve.SYMBOL_TABLE[t])}return r}}ei.bSymbolTableReady=!1,ei.RATIOS_TABLE=new Array(Ve.SYMBOL_TABLE.length).map((t=>new Array(Ve.BARS_IN_MODULE)));class ii{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class ni{static parseLong(t,e=void 0){return parseInt(t,e)}}class ri extends l{}ri.kind="NullPointerException";class oi{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,e,i){if(null==t)throw new ri;if(e<0||e>t.length||i<0||e+i>t.length||e+i<0)throw new m;if(0!==i)for(let n=0;n<i;n++)this.write(t[e+n])}flush(){}close(){}}class si extends l{}class ai extends oi{constructor(t=32){if(super(),this.count=0,t<0)throw new d("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let e=this.buf.length<<1;if(e-t<0&&(e=t),e<0){if(t<0)throw new si;e=_.MAX_VALUE}this.buf=w.copyOfUint8Array(this.buf,e)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,e,i){if(e<0||e>t.length||i<0||e+i-t.length>0)throw new m;this.ensureCapacity(this.count+i),p.arraycopy(t,e,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return w.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?"string"==typeof t?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}function ci(){if("undefined"!=typeof window)return window.BigInt||null;if(void 0!==i.g)return i.g.BigInt||null;if("undefined"!=typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let li;function hi(t){if(void 0===li&&(li=ci()),null===li)throw new Error("BigInt is not supported!");return li(t)}function di(){let t=[];t[0]=hi(1);let e=hi(900);t[1]=e;for(let i=2;i<16;i++)t[i]=t[i-1]*e;return t}!function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(Z||(Z={}));class ui{static decode(t,e){let i=new T(""),n=C.ISO8859_1;i.enableDecoding(n);let r=1,o=t[r++],s=new ii;for(;r<t[0];){switch(o){case ui.TEXT_COMPACTION_MODE_LATCH:r=ui.textCompaction(t,r,i);break;case ui.BYTE_COMPACTION_MODE_LATCH:case ui.BYTE_COMPACTION_MODE_LATCH_6:r=ui.byteCompaction(o,t,n,r,i);break;case ui.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[r++]);break;case ui.NUMERIC_COMPACTION_MODE_LATCH:r=ui.numericCompaction(t,r,i);break;case ui.ECI_CHARSET:C.getCharacterSetECIByValue(t[r++]);break;case ui.ECI_GENERAL_PURPOSE:r+=2;break;case ui.ECI_USER_DEFINED:r++;break;case ui.BEGIN_MACRO_PDF417_CONTROL_BLOCK:r=ui.decodeMacroBlock(t,r,s);break;case ui.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ui.MACRO_PDF417_TERMINATOR:throw new A;default:r--,r=ui.textCompaction(t,r,i)}if(!(r<t.length))throw A.getFormatInstance();o=t[r++]}if(0===i.length())throw A.getFormatInstance();let a=new Q(null,i.toString(),null,e);return a.setOther(s),a}static decodeMacroBlock(t,e,i){if(e+ui.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw A.getFormatInstance();let n=new Int32Array(ui.NUMBER_OF_SEQUENCE_CODEWORDS);for(let i=0;i<ui.NUMBER_OF_SEQUENCE_CODEWORDS;i++,e++)n[i]=t[e];i.setSegmentIndex(_.parseInt(ui.decodeBase900toBase10(n,ui.NUMBER_OF_SEQUENCE_CODEWORDS)));let r=new T;e=ui.textCompaction(t,e,r),i.setFileId(r.toString());let o=-1;for(t[e]===ui.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=e+1);e<t[0];)switch(t[e]){case ui.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t[++e]){case ui.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let n=new T;e=ui.textCompaction(t,e+1,n),i.setFileName(n.toString());break;case ui.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let r=new T;e=ui.textCompaction(t,e+1,r),i.setSender(r.toString());break;case ui.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let o=new T;e=ui.textCompaction(t,e+1,o),i.setAddressee(o.toString());break;case ui.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let s=new T;e=ui.numericCompaction(t,e+1,s),i.setSegmentCount(_.parseInt(s.toString()));break;case ui.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let a=new T;e=ui.numericCompaction(t,e+1,a),i.setTimestamp(ni.parseLong(a.toString()));break;case ui.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let c=new T;e=ui.numericCompaction(t,e+1,c),i.setChecksum(_.parseInt(c.toString()));break;case ui.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let l=new T;e=ui.numericCompaction(t,e+1,l),i.setFileSize(ni.parseLong(l.toString()));break;default:throw A.getFormatInstance()}break;case ui.MACRO_PDF417_TERMINATOR:e++,i.setLastSegment(!0);break;default:throw A.getFormatInstance()}if(-1!==o){let n=e-o;i.isLastSegment()&&n--,i.setOptionalData(w.copyOfRange(t,o,o+n))}return e}static textCompaction(t,e,i){let n=new Int32Array(2*(t[0]-e)),r=new Int32Array(2*(t[0]-e)),o=0,s=!1;for(;e<t[0]&&!s;){let i=t[e++];if(i<ui.TEXT_COMPACTION_MODE_LATCH)n[o]=i/30,n[o+1]=i%30,o+=2;else switch(i){case ui.TEXT_COMPACTION_MODE_LATCH:n[o++]=ui.TEXT_COMPACTION_MODE_LATCH;break;case ui.BYTE_COMPACTION_MODE_LATCH:case ui.BYTE_COMPACTION_MODE_LATCH_6:case ui.NUMERIC_COMPACTION_MODE_LATCH:case ui.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ui.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ui.MACRO_PDF417_TERMINATOR:e--,s=!0;break;case ui.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n[o]=ui.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,i=t[e++],r[o]=i,o++}}return ui.decodeTextCompaction(n,r,o,i),e}static decodeTextCompaction(t,e,i,n){let r=Z.ALPHA,o=Z.ALPHA,s=0;for(;s<i;){let i=t[s],a="";switch(r){case Z.ALPHA:if(i<26)a=String.fromCharCode(65+i);else switch(i){case 26:a=" ";break;case ui.LL:r=Z.LOWER;break;case ui.ML:r=Z.MIXED;break;case ui.PS:o=r,r=Z.PUNCT_SHIFT;break;case ui.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[s]);break;case ui.TEXT_COMPACTION_MODE_LATCH:r=Z.ALPHA}break;case Z.LOWER:if(i<26)a=String.fromCharCode(97+i);else switch(i){case 26:a=" ";break;case ui.AS:o=r,r=Z.ALPHA_SHIFT;break;case ui.ML:r=Z.MIXED;break;case ui.PS:o=r,r=Z.PUNCT_SHIFT;break;case ui.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[s]);break;case ui.TEXT_COMPACTION_MODE_LATCH:r=Z.ALPHA}break;case Z.MIXED:if(i<ui.PL)a=ui.MIXED_CHARS[i];else switch(i){case ui.PL:r=Z.PUNCT;break;case 26:a=" ";break;case ui.LL:r=Z.LOWER;break;case ui.AL:r=Z.ALPHA;break;case ui.PS:o=r,r=Z.PUNCT_SHIFT;break;case ui.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[s]);break;case ui.TEXT_COMPACTION_MODE_LATCH:r=Z.ALPHA}break;case Z.PUNCT:if(i<ui.PAL)a=ui.PUNCT_CHARS[i];else switch(i){case ui.PAL:r=Z.ALPHA;break;case ui.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[s]);break;case ui.TEXT_COMPACTION_MODE_LATCH:r=Z.ALPHA}break;case Z.ALPHA_SHIFT:if(r=o,i<26)a=String.fromCharCode(65+i);else switch(i){case 26:a=" ";break;case ui.TEXT_COMPACTION_MODE_LATCH:r=Z.ALPHA}break;case Z.PUNCT_SHIFT:if(r=o,i<ui.PAL)a=ui.PUNCT_CHARS[i];else switch(i){case ui.PAL:r=Z.ALPHA;break;case ui.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[s]);break;case ui.TEXT_COMPACTION_MODE_LATCH:r=Z.ALPHA}}""!==a&&n.append(a),s++}}static byteCompaction(t,e,i,n,r){let o=new ai,s=0,a=0,c=!1;switch(t){case ui.BYTE_COMPACTION_MODE_LATCH:let t=new Int32Array(6),i=e[n++];for(;n<e[0]&&!c;)switch(t[s++]=i,a=900*a+i,i=e[n++],i){case ui.TEXT_COMPACTION_MODE_LATCH:case ui.BYTE_COMPACTION_MODE_LATCH:case ui.NUMERIC_COMPACTION_MODE_LATCH:case ui.BYTE_COMPACTION_MODE_LATCH_6:case ui.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ui.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ui.MACRO_PDF417_TERMINATOR:n--,c=!0;break;default:if(s%5==0&&s>0){for(let t=0;t<6;++t)o.write(Number(hi(a)>>hi(8*(5-t))));a=0,s=0}}n===e[0]&&i<ui.TEXT_COMPACTION_MODE_LATCH&&(t[s++]=i);for(let e=0;e<s;e++)o.write(t[e]);break;case ui.BYTE_COMPACTION_MODE_LATCH_6:for(;n<e[0]&&!c;){let t=e[n++];if(t<ui.TEXT_COMPACTION_MODE_LATCH)s++,a=900*a+t;else switch(t){case ui.TEXT_COMPACTION_MODE_LATCH:case ui.BYTE_COMPACTION_MODE_LATCH:case ui.NUMERIC_COMPACTION_MODE_LATCH:case ui.BYTE_COMPACTION_MODE_LATCH_6:case ui.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ui.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ui.MACRO_PDF417_TERMINATOR:n--,c=!0}if(s%5==0&&s>0){for(let t=0;t<6;++t)o.write(Number(hi(a)>>hi(8*(5-t))));a=0,s=0}}}return r.append(I.decode(o.toByteArray(),i)),n}static numericCompaction(t,e,i){let n=0,r=!1,o=new Int32Array(ui.MAX_NUMERIC_CODEWORDS);for(;e<t[0]&&!r;){let s=t[e++];if(e===t[0]&&(r=!0),s<ui.TEXT_COMPACTION_MODE_LATCH)o[n]=s,n++;else switch(s){case ui.TEXT_COMPACTION_MODE_LATCH:case ui.BYTE_COMPACTION_MODE_LATCH:case ui.BYTE_COMPACTION_MODE_LATCH_6:case ui.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ui.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ui.MACRO_PDF417_TERMINATOR:e--,r=!0}(n%ui.MAX_NUMERIC_CODEWORDS==0||s===ui.NUMERIC_COMPACTION_MODE_LATCH||r)&&n>0&&(i.append(ui.decodeBase900toBase10(o,n)),n=0)}return e}static decodeBase900toBase10(t,e){let i=hi(0);for(let n=0;n<e;n++)i+=ui.EXP900[e-n-1]*hi(t[n]);let n=i.toString();if("1"!==n.charAt(0))throw new A;return n.substring(1)}}ui.TEXT_COMPACTION_MODE_LATCH=900,ui.BYTE_COMPACTION_MODE_LATCH=901,ui.NUMERIC_COMPACTION_MODE_LATCH=902,ui.BYTE_COMPACTION_MODE_LATCH_6=924,ui.ECI_USER_DEFINED=925,ui.ECI_GENERAL_PURPOSE=926,ui.ECI_CHARSET=927,ui.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ui.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ui.MACRO_PDF417_TERMINATOR=922,ui.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ui.MAX_NUMERIC_CODEWORDS=15,ui.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ui.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ui.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ui.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ui.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ui.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ui.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ui.PL=25,ui.LL=27,ui.AS=27,ui.ML=28,ui.AL=28,ui.PS=29,ui.PAL=29,ui.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",ui.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",ui.EXP900=ci()?di():[],ui.NUMBER_OF_SEQUENCE_CODEWORDS=2;class fi{constructor(){}static decode(t,e,i,n,r,o,s){let a,c=new Xe(t,e,i,n,r),l=null,h=null;for(let i=!0;;i=!1){if(null!=e&&(l=fi.getRowIndicatorColumn(t,c,e,!0,o,s)),null!=n&&(h=fi.getRowIndicatorColumn(t,c,n,!1,o,s)),a=fi.merge(l,h),null==a)throw D.getNotFoundInstance();let r=a.getBoundingBox();if(!i||null==r||!(r.getMinY()<c.getMinY()||r.getMaxY()>c.getMaxY()))break;c=r}a.setBoundingBox(c);let d=a.getBarcodeColumnCount()+1;a.setDetectionResultColumn(0,l),a.setDetectionResultColumn(d,h);let u=null!=l;for(let e=1;e<=d;e++){let i,n=u?e:d-e;if(void 0!==a.getDetectionResultColumn(n))continue;i=0===n||n===d?new $e(c,0===n):new Qe(c),a.setDetectionResultColumn(n,i);let r=-1,l=r;for(let e=c.getMinY();e<=c.getMaxY();e++){if(r=fi.getStartColumn(a,n,e,u),r<0||r>c.getMaxX()){if(-1===l)continue;r=l}let h=fi.detectCodeword(t,c.getMinX(),c.getMaxX(),u,r,e,o,s);null!=h&&(i.setCodeword(e,h),l=r,o=Math.min(o,h.getWidth()),s=Math.max(s,h.getWidth()))}}return fi.createDecoderResult(a)}static merge(t,e){if(null==t&&null==e)return null;let i=fi.getBarcodeMetadata(t,e);if(null==i)return null;let n=Xe.merge(fi.adjustBoundingBox(t),fi.adjustBoundingBox(e));return new Je(i,n)}static adjustBoundingBox(t){if(null==t)return null;let e=t.getRowHeights();if(null==e)return null;let i=fi.getMax(e),n=0;for(let t of e)if(n+=i-t,t>0)break;let r=t.getCodewords();for(let t=0;n>0&&null==r[t];t++)n--;let o=0;for(let t=e.length-1;t>=0&&(o+=i-e[t],!(e[t]>0));t--);for(let t=r.length-1;o>0&&null==r[t];t--)o--;return t.getBoundingBox().addMissingRows(n,o,t.isLeft())}static getMax(t){let e=-1;for(let i of t)e=Math.max(e,i);return e}static getBarcodeMetadata(t,e){let i,n;return null==t||null==(i=t.getBarcodeMetadata())?null==e?null:e.getBarcodeMetadata():null==e||null==(n=e.getBarcodeMetadata())?i:i.getColumnCount()!==n.getColumnCount()&&i.getErrorCorrectionLevel()!==n.getErrorCorrectionLevel()&&i.getRowCount()!==n.getRowCount()?null:i}static getRowIndicatorColumn(t,e,i,n,r,o){let s=new $e(e,n);for(let a=0;a<2;a++){let c=0===a?1:-1,l=Math.trunc(Math.trunc(i.getX()));for(let a=Math.trunc(Math.trunc(i.getY()));a<=e.getMaxY()&&a>=e.getMinY();a+=c){let e=fi.detectCodeword(t,0,t.getWidth(),n,l,a,r,o);null!=e&&(s.setCodeword(a,e),l=n?e.getStartX():e.getEndX())}}return s}static adjustCodewordCount(t,e){let i=e[0][1],n=i.getValue(),r=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-fi.getNumberOfECCodeWords(t.getBarcodeECLevel());if(0===n.length){if(r<1||r>Ve.MAX_CODEWORDS_IN_BARCODE)throw D.getNotFoundInstance();i.setValue(r)}else n[0]!==r&&i.setValue(r)}static createDecoderResult(t){let e=fi.createBarcodeMatrix(t);fi.adjustCodewordCount(t,e);let i=new Array,n=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),r=[],o=new Array;for(let s=0;s<t.getBarcodeRowCount();s++)for(let a=0;a<t.getBarcodeColumnCount();a++){let c=e[s][a+1].getValue(),l=s*t.getBarcodeColumnCount()+a;0===c.length?i.push(l):1===c.length?n[l]=c[0]:(o.push(l),r.push(c))}let s=new Array(r.length);for(let t=0;t<s.length;t++)s[t]=r[t];return fi.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),n,Ve.toIntArray(i),Ve.toIntArray(o),s)}static createDecoderResultFromAmbiguousValues(t,e,i,n,r){let o=new Int32Array(n.length),s=100;for(;s-- >0;){for(let t=0;t<o.length;t++)e[n[t]]=r[t][o[t]];try{return fi.decodeCodewords(e,t,i)}catch(t){if(!(t instanceof f))throw t}if(0===o.length)throw f.getChecksumInstance();for(let t=0;t<o.length;t++){if(o[t]<r[t].length-1){o[t]++;break}if(o[t]=0,t===o.length-1)throw f.getChecksumInstance()}}throw f.getChecksumInstance()}static createBarcodeMatrix(t){let e=Array.from({length:t.getBarcodeRowCount()},(()=>new Array(t.getBarcodeColumnCount()+2)));for(let t=0;t<e.length;t++)for(let i=0;i<e[t].length;i++)e[t][i]=new Ke;let i=0;for(let n of t.getDetectionResultColumns()){if(null!=n)for(let t of n.getCodewords())if(null!=t){let n=t.getRowNumber();if(n>=0){if(n>=e.length)continue;e[n][i].setValue(t.getValue())}}i++}return e}static isValidBarcodeColumn(t,e){return e>=0&&e<=t.getBarcodeColumnCount()+1}static getStartColumn(t,e,i,n){let r=n?1:-1,o=null;if(fi.isValidBarcodeColumn(t,e-r)&&(o=t.getDetectionResultColumn(e-r).getCodeword(i)),null!=o)return n?o.getEndX():o.getStartX();if(o=t.getDetectionResultColumn(e).getCodewordNearby(i),null!=o)return n?o.getStartX():o.getEndX();if(fi.isValidBarcodeColumn(t,e-r)&&(o=t.getDetectionResultColumn(e-r).getCodewordNearby(i)),null!=o)return n?o.getEndX():o.getStartX();let s=0;for(;fi.isValidBarcodeColumn(t,e-r);){e-=r;for(let i of t.getDetectionResultColumn(e).getCodewords())if(null!=i)return(n?i.getEndX():i.getStartX())+r*s*(i.getEndX()-i.getStartX());s++}return n?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,e,i,n,r,o,s,a){r=fi.adjustCodewordStartColumn(t,e,i,n,r,o);let c,l=fi.getModuleBitCount(t,e,i,n,r,o);if(null==l)return null;let h=ot.sum(l);if(n)c=r+h;else{for(let t=0;t<l.length/2;t++){let e=l[t];l[t]=l[l.length-1-t],l[l.length-1-t]=e}c=r,r=c-h}if(!fi.checkCodewordSkew(h,s,a))return null;let d=ei.getDecodedValue(l),u=Ve.getCodeword(d);return-1===u?null:new ti(r,c,fi.getCodewordBucketNumber(d),u)}static getModuleBitCount(t,e,i,n,r,o){let s=r,a=new Int32Array(8),c=0,l=n?1:-1,h=n;for(;(n?s<i:s>=e)&&c<a.length;)t.get(s,o)===h?(a[c]++,s+=l):(c++,h=!h);return c===a.length||s===(n?i:e)&&c===a.length-1?a:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,e,i,n,r,o){let s=r,a=n?-1:1;for(let c=0;c<2;c++){for(;(n?s>=e:s<i)&&n===t.get(s,o);){if(Math.abs(r-s)>fi.CODEWORD_SKEW_SIZE)return r;s+=a}a=-a,n=!n}return s}static checkCodewordSkew(t,e,i){return e-fi.CODEWORD_SKEW_SIZE<=t&&t<=i+fi.CODEWORD_SKEW_SIZE}static decodeCodewords(t,e,i){if(0===t.length)throw A.getFormatInstance();let n=1<<e+1,r=fi.correctErrors(t,i,n);fi.verifyCodewordCount(t,n);let o=ui.decode(t,""+e);return o.setErrorsCorrected(r),o.setErasures(i.length),o}static correctErrors(t,e,i){if(null!=e&&e.length>i/2+fi.MAX_ERRORS||i<0||i>fi.MAX_EC_CODEWORDS)throw f.getChecksumInstance();return fi.errorCorrection.decode(t,i,e)}static verifyCodewordCount(t,e){if(t.length<4)throw A.getFormatInstance();let i=t[0];if(i>t.length)throw A.getFormatInstance();if(0===i){if(!(e<t.length))throw A.getFormatInstance();t[0]=t.length-e}}static getBitCountForCodeword(t){let e=new Int32Array(8),i=0,n=e.length-1;for(;!((1&t)!==i&&(i=1&t,n--,n<0));)e[n]++,t>>=1;return e}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return fi.getCodewordBucketNumber(fi.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let e=new qe;for(let i=0;i<t.length;i++){e.format("Row %2d: ",i);for(let n=0;n<t[i].length;n++){let r=t[i][n];0===r.getValue().length?e.format("        ",null):e.format("%4d(%2d)",r.getValue()[0],r.getConfidence(r.getValue()[0]))}e.format("%n")}return e.toString()}}fi.CODEWORD_SKEW_SIZE=2,fi.MAX_ERRORS=3,fi.MAX_EC_CODEWORDS=512,fi.errorCorrection=new Ge;class gi{decode(t,e=null){let i=gi.decode(t,e,!1);if(null==i||0===i.length||null==i[0])throw D.getNotFoundInstance();return i[0]}decodeMultiple(t,e=null){try{return gi.decode(t,e,!0)}catch(t){if(t instanceof A||t instanceof f)throw D.getNotFoundInstance();throw t}}static decode(t,e,i){const n=new Array,r=Ue.detectMultiple(t,e,i);for(const t of r.getPoints()){const e=fi.decode(r.getBits(),t[4],t[5],t[6],t[7],gi.getMinCodewordWidth(t),gi.getMaxCodewordWidth(t)),i=new V(e.getText(),e.getRawBytes(),void 0,t,U.PDF_417);i.putMetadata(q.ERROR_CORRECTION_LEVEL,e.getECLevel());const o=e.getOther();null!=o&&i.putMetadata(q.PDF417_EXTRA_METADATA,o),n.push(i)}return n.map((t=>t))}static getMaxWidth(t,e){return null==t||null==e?0:Math.trunc(Math.abs(t.getX()-e.getX()))}static getMinWidth(t,e){return null==t||null==e?_.MAX_VALUE:Math.trunc(Math.abs(t.getX()-e.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(gi.getMaxWidth(t[0],t[4]),gi.getMaxWidth(t[6],t[2])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN),Math.max(gi.getMaxWidth(t[1],t[5]),gi.getMaxWidth(t[7],t[3])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(gi.getMinWidth(t[0],t[4]),gi.getMinWidth(t[6],t[2])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN),Math.min(gi.getMinWidth(t[1],t[5]),gi.getMinWidth(t[7],t[3])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN)))}reset(){}}class pi extends l{}pi.kind="ReaderException";class mi{constructor(t,e){this.verbose=!0===t,e&&this.setHints(e)}decode(t,e){return e&&this.setHints(e),this.decodeInternal(t)}decodeWithState(t){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!e(t)&&!0===t.get(E.TRY_HARDER),n=e(t)?null:t.get(E.POSSIBLE_FORMATS),r=new Array;if(!e(n)){const e=n.some((t=>t===U.UPC_A||t===U.UPC_E||t===U.EAN_13||t===U.EAN_8||t===U.CODABAR||t===U.CODE_39||t===U.CODE_93||t===U.CODE_128||t===U.ITF||t===U.RSS_14||t===U.RSS_EXPANDED));e&&!i&&r.push(new ce(t,this.verbose)),n.includes(U.QR_CODE)&&r.push(new He),n.includes(U.DATA_MATRIX)&&r.push(new _e),n.includes(U.AZTEC)&&r.push(new yt),n.includes(U.PDF_417)&&r.push(new gi),e&&i&&r.push(new ce(t,this.verbose))}0===r.length&&(i||r.push(new ce(t,this.verbose)),r.push(new He),r.push(new _e),r.push(new yt),r.push(new gi),i&&r.push(new ce(t,this.verbose))),this.readers=r}reset(){if(null!==this.readers)for(const t of this.readers)t.reset()}decodeInternal(t){if(null===this.readers)throw new pi("No readers where selected, nothing can be read.");for(const e of this.readers)try{return e.decode(t,this.hints)}catch(t){if(t instanceof pi)continue}throw new D("No MultiFormat Readers were able to detect the code.")}}class yi extends H{constructor(t=null,e=500){const i=new mi;i.setHints(t),super(i,e)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class wi extends H{constructor(t=500){super(new gi,t)}}class _i extends H{constructor(t=500){super(new He,t)}}var bi;!function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.MIN_SIZE=3]="MIN_SIZE",t[t.MAX_SIZE=4]="MAX_SIZE",t[t.MARGIN=5]="MARGIN",t[t.PDF417_COMPACT=6]="PDF417_COMPACT",t[t.PDF417_COMPACTION=7]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=9]="AZTEC_LAYERS",t[t.QR_VERSION=10]="QR_VERSION"}(bi||(bi={}));var vi=bi;class Ei{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new $(t,Int32Array.from([1])))}buildGenerator(t){const e=this.cachedGenerators;if(t>=e.length){let i=e[e.length-1];const n=this.field;for(let r=e.length;r<=t;r++){const t=i.multiply(new $(n,Int32Array.from([1,n.exp(r-1+n.getGeneratorBase())])));e.push(t),i=t}}return e[t]}encode(t,e){if(0===e)throw new d("No error correction bytes");const i=t.length-e;if(i<=0)throw new d("No data bytes provided");const n=this.buildGenerator(e),r=new Int32Array(i);p.arraycopy(t,0,r,0,i);let o=new $(this.field,r);o=o.multiplyByMonomial(e,1);const s=o.divide(n)[1].getCoefficients(),a=e-s.length;for(let e=0;e<a;e++)t[i+e]=0;p.arraycopy(s,0,t,i+a,s.length)}}class Ai{constructor(){}static applyMaskPenaltyRule1(t){return Ai.applyMaskPenaltyRule1Internal(t,!0)+Ai.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let e=0;const i=t.getArray(),n=t.getWidth(),r=t.getHeight();for(let t=0;t<r-1;t++){const r=i[t];for(let o=0;o<n-1;o++){const n=r[o];n===r[o+1]&&n===i[t+1][o]&&n===i[t+1][o+1]&&e++}}return Ai.N2*e}static applyMaskPenaltyRule3(t){let e=0;const i=t.getArray(),n=t.getWidth(),r=t.getHeight();for(let t=0;t<r;t++)for(let o=0;o<n;o++){const s=i[t];o+6<n&&1===s[o]&&0===s[o+1]&&1===s[o+2]&&1===s[o+3]&&1===s[o+4]&&0===s[o+5]&&1===s[o+6]&&(Ai.isWhiteHorizontal(s,o-4,o)||Ai.isWhiteHorizontal(s,o+7,o+11))&&e++,t+6<r&&1===i[t][o]&&0===i[t+1][o]&&1===i[t+2][o]&&1===i[t+3][o]&&1===i[t+4][o]&&0===i[t+5][o]&&1===i[t+6][o]&&(Ai.isWhiteVertical(i,o,t-4,t)||Ai.isWhiteVertical(i,o,t+7,t+11))&&e++}return e*Ai.N3}static isWhiteHorizontal(t,e,i){e=Math.max(e,0),i=Math.min(i,t.length);for(let n=e;n<i;n++)if(1===t[n])return!1;return!0}static isWhiteVertical(t,e,i,n){i=Math.max(i,0),n=Math.min(n,t.length);for(let r=i;r<n;r++)if(1===t[r][e])return!1;return!0}static applyMaskPenaltyRule4(t){let e=0;const i=t.getArray(),n=t.getWidth(),r=t.getHeight();for(let t=0;t<r;t++){const r=i[t];for(let t=0;t<n;t++)1===r[t]&&e++}const o=t.getHeight()*t.getWidth();return Math.floor(10*Math.abs(2*e-o)/o)*Ai.N4}static getDataMaskBit(t,e,i){let n,r;switch(t){case 0:n=i+e&1;break;case 1:n=1&i;break;case 2:n=e%3;break;case 3:n=(i+e)%3;break;case 4:n=Math.floor(i/2)+Math.floor(e/3)&1;break;case 5:r=i*e,n=(1&r)+r%3;break;case 6:r=i*e,n=(1&r)+r%3&1;break;case 7:r=i*e,n=r%3+(i+e&1)&1;break;default:throw new d("Invalid mask pattern: "+t)}return 0===n}static applyMaskPenaltyRule1Internal(t,e){let i=0;const n=e?t.getHeight():t.getWidth(),r=e?t.getWidth():t.getHeight(),o=t.getArray();for(let t=0;t<n;t++){let n=0,s=-1;for(let a=0;a<r;a++){const r=e?o[t][a]:o[a][t];r===s?n++:(n>=5&&(i+=Ai.N1+(n-5)),n=1,s=r)}n>=5&&(i+=Ai.N1+(n-5))}return i}}Ai.N1=3,Ai.N2=3,Ai.N3=40,Ai.N4=10;class Ci{constructor(t,e){this.width=t,this.height=e;const i=new Array(e);for(let n=0;n!==e;n++)i[n]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,e){return this.bytes[e][t]}getArray(){return this.bytes}setNumber(t,e,i){this.bytes[e][t]=i}setBoolean(t,e,i){this.bytes[e][t]=i?1:0}clear(t){for(const e of this.bytes)w.fill(e,t)}equals(t){if(!(t instanceof Ci))return!1;const e=t;if(this.width!==e.width)return!1;if(this.height!==e.height)return!1;for(let t=0,i=this.height;t<i;++t){const i=this.bytes[t],n=e.bytes[t];for(let t=0,e=this.width;t<e;++t)if(i[t]!==n[t])return!1}return!0}toString(){const t=new T;for(let e=0,i=this.height;e<i;++e){const i=this.bytes[e];for(let e=0,n=this.width;e<n;++e)switch(i[e]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ")}t.append("\n")}return t.toString()}}class Si{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new T;return t.append("<<\n"),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append("\n ecLevel: "),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append("\n version: "),t.append(this.version?this.version.toString():"null"),t.append("\n maskPattern: "),t.append(this.maskPattern.toString()),this.matrix?(t.append("\n matrix:\n"),t.append(this.matrix.toString())):t.append("\n matrix: null\n"),t.append(">>\n"),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Si.NUM_MASK_PATTERNS}}Si.NUM_MASK_PATTERNS=8;class Ii extends l{}Ii.kind="WriterException";class xi{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,e,i,n,r){xi.clearMatrix(r),xi.embedBasicPatterns(i,r),xi.embedTypeInfo(e,n,r),xi.maybeEmbedVersionInfo(i,r),xi.embedDataBits(t,n,r)}static embedBasicPatterns(t,e){xi.embedPositionDetectionPatternsAndSeparators(e),xi.embedDarkDotAtLeftBottomCorner(e),xi.maybeEmbedPositionAdjustmentPatterns(t,e),xi.embedTimingPatterns(e)}static embedTypeInfo(t,e,i){const n=new b;xi.makeTypeInfoBits(t,e,n);for(let t=0,e=n.getSize();t<e;++t){const e=n.get(n.getSize()-1-t),r=xi.TYPE_INFO_COORDINATES[t],o=r[0],s=r[1];if(i.setBoolean(o,s,e),t<8){const n=i.getWidth()-t-1,r=8;i.setBoolean(n,r,e)}else{const n=8,r=i.getHeight()-7+(t-8);i.setBoolean(n,r,e)}}}static maybeEmbedVersionInfo(t,e){if(t.getVersionNumber()<7)return;const i=new b;xi.makeVersionInfoBits(t,i);let n=17;for(let t=0;t<6;++t)for(let r=0;r<3;++r){const o=i.get(n);n--,e.setBoolean(t,e.getHeight()-11+r,o),e.setBoolean(e.getHeight()-11+r,t,o)}}static embedDataBits(t,e,i){let n=0,r=-1,o=i.getWidth()-1,s=i.getHeight()-1;for(;o>0;){for(6===o&&(o-=1);s>=0&&s<i.getHeight();){for(let r=0;r<2;++r){const a=o-r;if(!xi.isEmpty(i.get(a,s)))continue;let c;n<t.getSize()?(c=t.get(n),++n):c=!1,255!==e&&Ai.getDataMaskBit(e,a,s)&&(c=!c),i.setBoolean(a,s,c)}s+=r}r=-r,s+=r,o-=2}if(n!==t.getSize())throw new Ii("Not all bits consumed: "+n+"/"+t.getSize())}static findMSBSet(t){return 32-_.numberOfLeadingZeros(t)}static calculateBCHCode(t,e){if(0===e)throw new d("0 polynomial");const i=xi.findMSBSet(e);for(t<<=i-1;xi.findMSBSet(t)>=i;)t^=e<<xi.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,e,i){if(!Si.isValidMaskPattern(e))throw new Ii("Invalid mask pattern");const n=t.getBits()<<3|e;i.appendBits(n,5);const r=xi.calculateBCHCode(n,xi.TYPE_INFO_POLY);i.appendBits(r,10);const o=new b;if(o.appendBits(xi.TYPE_INFO_MASK_PATTERN,15),i.xor(o),15!==i.getSize())throw new Ii("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,e){e.appendBits(t.getVersionNumber(),6);const i=xi.calculateBCHCode(t.getVersionNumber(),xi.VERSION_INFO_POLY);if(e.appendBits(i,12),18!==e.getSize())throw new Ii("should not happen but we got: "+e.getSize())}static isEmpty(t){return 255===t}static embedTimingPatterns(t){for(let e=8;e<t.getWidth()-8;++e){const i=(e+1)%2;xi.isEmpty(t.get(e,6))&&t.setNumber(e,6,i),xi.isEmpty(t.get(6,e))&&t.setNumber(6,e,i)}}static embedDarkDotAtLeftBottomCorner(t){if(0===t.get(8,t.getHeight()-8))throw new Ii;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,e,i){for(let n=0;n<8;++n){if(!xi.isEmpty(i.get(t+n,e)))throw new Ii;i.setNumber(t+n,e,0)}}static embedVerticalSeparationPattern(t,e,i){for(let n=0;n<7;++n){if(!xi.isEmpty(i.get(t,e+n)))throw new Ii;i.setNumber(t,e+n,0)}}static embedPositionAdjustmentPattern(t,e,i){for(let n=0;n<5;++n){const r=xi.POSITION_ADJUSTMENT_PATTERN[n];for(let o=0;o<5;++o)i.setNumber(t+o,e+n,r[o])}}static embedPositionDetectionPattern(t,e,i){for(let n=0;n<7;++n){const r=xi.POSITION_DETECTION_PATTERN[n];for(let o=0;o<7;++o)i.setNumber(t+o,e+n,r[o])}}static embedPositionDetectionPatternsAndSeparators(t){const e=xi.POSITION_DETECTION_PATTERN[0].length;xi.embedPositionDetectionPattern(0,0,t),xi.embedPositionDetectionPattern(t.getWidth()-e,0,t),xi.embedPositionDetectionPattern(0,t.getWidth()-e,t);const i=8;xi.embedHorizontalSeparationPattern(0,i-1,t),xi.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),xi.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const n=7;xi.embedVerticalSeparationPattern(n,0,t),xi.embedVerticalSeparationPattern(t.getHeight()-n-1,0,t),xi.embedVerticalSeparationPattern(n,t.getHeight()-n,t)}static maybeEmbedPositionAdjustmentPatterns(t,e){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,n=xi.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let t=0,i=n.length;t!==i;t++){const r=n[t];if(r>=0)for(let t=0;t!==i;t++){const i=n[t];i>=0&&xi.isEmpty(e.get(i,r))&&xi.embedPositionAdjustmentPattern(i-2,r-2,e)}}}}xi.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),xi.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),xi.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),xi.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),xi.VERSION_INFO_POLY=7973,xi.TYPE_INFO_POLY=1335,xi.TYPE_INFO_MASK_PATTERN=21522;class Ti{constructor(t,e){this.dataBytes=t,this.errorCorrectionBytes=e}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Mi{constructor(){}static calculateMaskPenalty(t){return Ai.applyMaskPenaltyRule1(t)+Ai.applyMaskPenaltyRule2(t)+Ai.applyMaskPenaltyRule3(t)+Ai.applyMaskPenaltyRule4(t)}static encode(t,e,i=null){let n=Mi.DEFAULT_BYTE_MODE_ENCODING;const r=null!==i&&void 0!==i.get(vi.CHARACTER_SET);r&&(n=i.get(vi.CHARACTER_SET).toString());const o=this.chooseMode(t,n),s=new b;if(o===Me.BYTE&&(r||Mi.DEFAULT_BYTE_MODE_ENCODING!==n)){const t=C.getCharacterSetECIByName(n);void 0!==t&&this.appendECI(t,s)}this.appendModeInfo(o,s);const a=new b;let c;if(this.appendBytes(t,o,a,n),null!==i&&void 0!==i.get(vi.QR_VERSION)){const t=Number.parseInt(i.get(vi.QR_VERSION).toString(),10);c=Se.getVersionForNumber(t);const n=this.calculateBitsNeeded(o,s,a,c);if(!this.willFit(n,c,e))throw new Ii("Data too big for requested version")}else c=this.recommendVersion(e,o,s,a);const l=new b;l.appendBitArray(s);const h=o===Me.BYTE?a.getSizeInBytes():t.length;this.appendLengthInfo(h,c,o,l),l.appendBitArray(a);const d=c.getECBlocksForLevel(e),u=c.getTotalCodewords()-d.getTotalECCodewords();this.terminateBits(u,l);const f=this.interleaveWithECBytes(l,c.getTotalCodewords(),u,d.getNumBlocks()),g=new Si;g.setECLevel(e),g.setMode(o),g.setVersion(c);const p=c.getDimensionForVersion(),m=new Ci(p,p),y=this.chooseMaskPattern(f,e,c,m);return g.setMaskPattern(y),xi.buildMatrix(f,e,c,y,m),g.setMatrix(m),g}static recommendVersion(t,e,i,n){const r=this.calculateBitsNeeded(e,i,n,Se.getVersionForNumber(1)),o=this.chooseVersion(r,t),s=this.calculateBitsNeeded(e,i,n,o);return this.chooseVersion(s,t)}static calculateBitsNeeded(t,e,i,n){return e.getSize()+t.getCharacterCountBits(n)+i.getSize()}static getAlphanumericCode(t){return t<Mi.ALPHANUMERIC_TABLE.length?Mi.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,e=null){if(C.SJIS.getName()===e&&this.isOnlyDoubleByteKanji(t))return Me.KANJI;let i=!1,n=!1;for(let e=0,r=t.length;e<r;++e){const r=t.charAt(e);if(Mi.isDigit(r))i=!0;else{if(-1===this.getAlphanumericCode(r.charCodeAt(0)))return Me.BYTE;n=!0}}return n?Me.ALPHANUMERIC:i?Me.NUMERIC:Me.BYTE}static isOnlyDoubleByteKanji(t){let e;try{e=I.encode(t,C.SJIS)}catch(t){return!1}const i=e.length;if(i%2!=0)return!1;for(let t=0;t<i;t+=2){const i=255&e[t];if((i<129||i>159)&&(i<224||i>235))return!1}return!0}static chooseMaskPattern(t,e,i,n){let r=Number.MAX_SAFE_INTEGER,o=-1;for(let s=0;s<Si.NUM_MASK_PATTERNS;s++){xi.buildMatrix(t,e,i,s,n);let a=this.calculateMaskPenalty(n);a<r&&(r=a,o=s)}return o}static chooseVersion(t,e){for(let i=1;i<=40;i++){const n=Se.getVersionForNumber(i);if(Mi.willFit(t,n,e))return n}throw new Ii("Data too big")}static willFit(t,e,i){return e.getTotalCodewords()-e.getECBlocksForLevel(i).getTotalECCodewords()>=(t+7)/8}static terminateBits(t,e){const i=8*t;if(e.getSize()>i)throw new Ii("data bits cannot fit in the QR Code"+e.getSize()+" > "+i);for(let t=0;t<4&&e.getSize()<i;++t)e.appendBit(!1);const n=7&e.getSize();if(n>0)for(let t=n;t<8;t++)e.appendBit(!1);const r=t-e.getSizeInBytes();for(let t=0;t<r;++t)e.appendBits(1&t?17:236,8);if(e.getSize()!==i)throw new Ii("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,e,i,n,r,o){if(n>=i)throw new Ii("Block ID too large");const s=t%i,a=i-s,c=Math.floor(t/i),l=c+1,h=Math.floor(e/i),d=h+1,u=c-h,f=l-d;if(u!==f)throw new Ii("EC bytes mismatch");if(i!==a+s)throw new Ii("RS blocks mismatch");if(t!==(h+u)*a+(d+f)*s)throw new Ii("Total bytes mismatch");n<a?(r[0]=h,o[0]=u):(r[0]=d,o[0]=f)}static interleaveWithECBytes(t,e,i,n){if(t.getSizeInBytes()!==i)throw new Ii("Number of bits and data bytes does not match");let r=0,o=0,s=0;const a=new Array;for(let c=0;c<n;++c){const l=new Int32Array(1),h=new Int32Array(1);Mi.getNumDataBytesAndNumECBytesForBlockID(e,i,n,c,l,h);const d=l[0],u=new Uint8Array(d);t.toBytes(8*r,u,0,d);const f=Mi.generateECBytes(u,h[0]);a.push(new Ti(u,f)),o=Math.max(o,d),s=Math.max(s,f.length),r+=l[0]}if(i!==r)throw new Ii("Data bytes does not match offset");const c=new b;for(let t=0;t<o;++t)for(const e of a){const i=e.getDataBytes();t<i.length&&c.appendBits(i[t],8)}for(let t=0;t<s;++t)for(const e of a){const i=e.getErrorCorrectionBytes();t<i.length&&c.appendBits(i[t],8)}if(e!==c.getSizeInBytes())throw new Ii("Interleaving error: "+e+" and "+c.getSizeInBytes()+" differ.");return c}static generateECBytes(t,e){const i=t.length,n=new Int32Array(i+e);for(let e=0;e<i;e++)n[e]=255&t[e];new Ei(tt.QR_CODE_FIELD_256).encode(n,e);const r=new Uint8Array(e);for(let t=0;t<e;t++)r[t]=n[i+t];return r}static appendModeInfo(t,e){e.appendBits(t.getBits(),4)}static appendLengthInfo(t,e,i,n){const r=i.getCharacterCountBits(e);if(t>=1<<r)throw new Ii(t+" is bigger than "+((1<<r)-1));n.appendBits(t,r)}static appendBytes(t,e,i,n){switch(e){case Me.NUMERIC:Mi.appendNumericBytes(t,i);break;case Me.ALPHANUMERIC:Mi.appendAlphanumericBytes(t,i);break;case Me.BYTE:Mi.append8BitBytes(t,i,n);break;case Me.KANJI:Mi.appendKanjiBytes(t,i);break;default:throw new Ii("Invalid mode: "+e)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const e=Mi.getDigit(t);return e>=0&&e<=9}static appendNumericBytes(t,e){const i=t.length;let n=0;for(;n<i;){const r=Mi.getDigit(t.charAt(n));if(n+2<i){const i=Mi.getDigit(t.charAt(n+1)),o=Mi.getDigit(t.charAt(n+2));e.appendBits(100*r+10*i+o,10),n+=3}else if(n+1<i){const i=Mi.getDigit(t.charAt(n+1));e.appendBits(10*r+i,7),n+=2}else e.appendBits(r,4),n++}}static appendAlphanumericBytes(t,e){const i=t.length;let n=0;for(;n<i;){const r=Mi.getAlphanumericCode(t.charCodeAt(n));if(-1===r)throw new Ii;if(n+1<i){const i=Mi.getAlphanumericCode(t.charCodeAt(n+1));if(-1===i)throw new Ii;e.appendBits(45*r+i,11),n+=2}else e.appendBits(r,6),n++}}static append8BitBytes(t,e,i){let n;try{n=I.encode(t,i)}catch(t){throw new Ii(t)}for(let t=0,i=n.length;t!==i;t++){const i=n[t];e.appendBits(i,8)}}static appendKanjiBytes(t,e){let i;try{i=I.encode(t,C.SJIS)}catch(t){throw new Ii(t)}const n=i.length;for(let t=0;t<n;t+=2){const n=(255&i[t])<<8&4294967295|255&i[t+1];let r=-1;if(n>=33088&&n<=40956?r=n-33088:n>=57408&&n<=60351&&(r=n-49472),-1===r)throw new Ii("Invalid byte sequence");const o=192*(r>>8)+(255&r);e.appendBits(o,13)}}static appendECI(t,e){e.appendBits(Me.ECI.getBits(),4),e.appendBits(t.getValue(),8)}}Mi.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Mi.DEFAULT_BYTE_MODE_ENCODING=C.UTF8.getName();class Di{write(t,e,i,n=null){if(0===t.length)throw new d("Found empty contents");if(e<0||i<0)throw new d("Requested dimensions are too small: "+e+"x"+i);let r=ve.L,o=Di.QUIET_ZONE_SIZE;null!==n&&(void 0!==n.get(vi.ERROR_CORRECTION)&&(r=ve.fromString(n.get(vi.ERROR_CORRECTION).toString())),void 0!==n.get(vi.MARGIN)&&(o=Number.parseInt(n.get(vi.MARGIN).toString(),10)));const s=Mi.encode(t,r,n);return this.renderResult(s,e,i,o)}writeToDom(t,e,i,n,r=null){"string"==typeof t&&(t=document.querySelector(t));const o=this.write(e,i,n,r);t&&t.appendChild(o)}renderResult(t,e,i,n){const r=t.getMatrix();if(null===r)throw new it;const o=r.getWidth(),s=r.getHeight(),a=o+2*n,c=s+2*n,l=Math.max(e,a),h=Math.max(i,c),d=Math.min(Math.floor(l/a),Math.floor(h/c)),u=Math.floor((l-o*d)/2),f=Math.floor((h-s*d)/2),g=this.createSVGElement(l,h);for(let t=0,e=f;t<s;t++,e+=d)for(let i=0,n=u;i<o;i++,n+=d)if(1===r.get(i,t)){const t=this.createSvgRectElement(n,e,d,d);g.appendChild(t)}return g}createSVGElement(t,e){const i=document.createElementNS(Di.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",e.toString()),i}createSvgRectElement(t,e,i,n){const r=document.createElementNS(Di.SVG_NS,"rect");return r.setAttributeNS(null,"x",t.toString()),r.setAttributeNS(null,"y",e.toString()),r.setAttributeNS(null,"height",i.toString()),r.setAttributeNS(null,"width",n.toString()),r.setAttributeNS(null,"fill","#000000"),r}}Di.QUIET_ZONE_SIZE=4,Di.SVG_NS="http://www.w3.org/2000/svg";class Oi{encode(t,e,i,n,r){if(0===t.length)throw new d("Found empty contents");if(e!==U.QR_CODE)throw new d("Can only encode QR_CODE, but got "+e);if(i<0||n<0)throw new d(`Requested dimensions are too small: ${i}x${n}`);let o=ve.L,s=Oi.QUIET_ZONE_SIZE;null!==r&&(void 0!==r.get(vi.ERROR_CORRECTION)&&(o=ve.fromString(r.get(vi.ERROR_CORRECTION).toString())),void 0!==r.get(vi.MARGIN)&&(s=Number.parseInt(r.get(vi.MARGIN).toString(),10)));const a=Mi.encode(t,o,r);return Oi.renderResult(a,i,n,s)}static renderResult(t,e,i,n){const r=t.getMatrix();if(null===r)throw new it;const o=r.getWidth(),s=r.getHeight(),a=o+2*n,c=s+2*n,l=Math.max(e,a),h=Math.max(i,c),d=Math.min(Math.floor(l/a),Math.floor(h/c)),u=Math.floor((l-o*d)/2),f=Math.floor((h-s*d)/2),g=new M(l,h);for(let t=0,e=f;t<s;t++,e+=d)for(let i=0,n=u;i<o;i++,n+=d)1===r.get(i,t)&&g.setRegion(n,e,d,d);return g}}Oi.QUIET_ZONE_SIZE=4;class Ri{encode(t,e,i,n,r){let o;if(e!==U.QR_CODE)throw new d("No encoder available for format "+e);return o=new Oi,o.encode(t,e,i,n,r)}}class Ni extends N{constructor(t,e,i,n,r,o,s,a){if(super(o,s),this.yuvData=t,this.dataWidth=e,this.dataHeight=i,this.left=n,this.top=r,n+o>e||r+s>i)throw new d("Crop rectangle does not fit within image data.");a&&this.reverseHorizontal(o,s)}getRow(t,e){if(t<0||t>=this.getHeight())throw new d("Requested row is outside the image: "+t);const i=this.getWidth();(null==e||e.length<i)&&(e=new Uint8ClampedArray(i));const n=(t+this.top)*this.dataWidth+this.left;return p.arraycopy(this.yuvData,n,e,0,i),e}getMatrix(){const t=this.getWidth(),e=this.getHeight();if(t===this.dataWidth&&e===this.dataHeight)return this.yuvData;const i=t*e,n=new Uint8ClampedArray(i);let r=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return p.arraycopy(this.yuvData,r,n,0,i),n;for(let i=0;i<e;i++){const e=i*t;p.arraycopy(this.yuvData,r,n,e,t),r+=this.dataWidth}return n}isCropSupported(){return!0}crop(t,e,i,n){return new Ni(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+e,i,n,!1)}renderThumbnail(){const t=this.getWidth()/Ni.THUMBNAIL_SCALE_FACTOR,e=this.getHeight()/Ni.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*e),n=this.yuvData;let r=this.top*this.dataWidth+this.left;for(let o=0;o<e;o++){const e=o*t;for(let o=0;o<t;o++){const t=255&n[r+o*Ni.THUMBNAIL_SCALE_FACTOR];i[e+o]=4278190080|65793*t}r+=this.dataWidth*Ni.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/Ni.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ni.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,e){const i=this.yuvData;for(let n=0,r=this.top*this.dataWidth+this.left;n<e;n++,r+=this.dataWidth){const e=r+t/2;for(let n=r,o=r+t-1;n<e;n++,o--){const t=i[n];i[n]=i[o],i[o]=t}}}invert(){return new k(this)}}Ni.THUMBNAIL_SCALE_FACTOR=2;class ki extends N{constructor(t,e,i,n,r,o,s){if(super(e,i),this.dataWidth=n,this.dataHeight=r,this.left=o,this.top=s,4===t.BYTES_PER_ELEMENT){const n=e*i,r=new Uint8ClampedArray(n);for(let e=0;e<n;e++){const i=t[e],n=i>>16&255,o=i>>7&510,s=255&i;r[e]=(n+o+s)/4&255}this.luminances=r}else this.luminances=t;if(void 0===n&&(this.dataWidth=e),void 0===r&&(this.dataHeight=i),void 0===o&&(this.left=0),void 0===s&&(this.top=0),this.left+e>this.dataWidth||this.top+i>this.dataHeight)throw new d("Crop rectangle does not fit within image data.")}getRow(t,e){if(t<0||t>=this.getHeight())throw new d("Requested row is outside the image: "+t);const i=this.getWidth();(null==e||e.length<i)&&(e=new Uint8ClampedArray(i));const n=(t+this.top)*this.dataWidth+this.left;return p.arraycopy(this.luminances,n,e,0,i),e}getMatrix(){const t=this.getWidth(),e=this.getHeight();if(t===this.dataWidth&&e===this.dataHeight)return this.luminances;const i=t*e,n=new Uint8ClampedArray(i);let r=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return p.arraycopy(this.luminances,r,n,0,i),n;for(let i=0;i<e;i++){const e=i*t;p.arraycopy(this.luminances,r,n,e,t),r+=this.dataWidth}return n}isCropSupported(){return!0}crop(t,e,i,n){return new ki(this.luminances,i,n,this.dataWidth,this.dataHeight,this.left+t,this.top+e)}invert(){return new k(this)}}class Li extends C{static forName(t){return this.getCharacterSetECIByName(t)}}class Pi{}Pi.ISO_8859_1=C.ISO8859_1;class Bi{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Fi{static singletonList(t){return[t]}static min(t,e){return t.sort(e)[0]}}class Hi{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Vi extends Hi{constructor(t,e,i){super(t),this.value=e,this.bitCount=i}appendTo(t,e){t.appendBits(this.value,this.bitCount)}add(t,e){return new Vi(this,t,e)}addBinaryShift(t,e){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Vi(this,t,e)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+_.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class zi extends Vi{constructor(t,e,i){super(t,0,0),this.binaryShiftStart=e,this.binaryShiftByteCount=i}appendTo(t,e){for(let i=0;i<this.binaryShiftByteCount;i++)(0===i||31===i&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):0===i?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(e[this.binaryShiftStart+i],8)}addBinaryShift(t,e){return new zi(this,t,e)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ui(t,e,i){return new zi(t,e,i)}function ji(t,e,i){return new Vi(t,e,i)}const Wi=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Yi=0,Gi=1,Xi=2,Zi=3,qi=4,Qi=new Vi(null,0,0),Ki=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];function $i(t){for(let e of t)w.fill(e,-1);return t[Yi][qi]=0,t[Gi][qi]=0,t[Gi][Yi]=28,t[Zi][qi]=0,t[Xi][qi]=0,t[Xi][Yi]=15,t}const Ji=$i(w.createInt32Array(6,6));class tn{constructor(t,e,i,n){this.token=t,this.mode=e,this.binaryShiftByteCount=i,this.bitCount=n}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,e){let i=this.bitCount,n=this.token;if(t!==this.mode){let e=Ki[this.mode][t];n=ji(n,65535&e,e>>16),i+=e>>16}let r=t===Xi?4:5;return n=ji(n,e,r),new tn(n,t,0,i+r)}shiftAndAppend(t,e){let i=this.token,n=this.mode===Xi?4:5;return i=ji(i,Ji[this.mode][t],n),i=ji(i,e,5),new tn(i,this.mode,0,this.bitCount+n+5)}addBinaryShiftChar(t){let e=this.token,i=this.mode,n=this.bitCount;if(this.mode===qi||this.mode===Xi){let t=Ki[i][Yi];e=ji(e,65535&t,t>>16),n+=t>>16,i=Yi}let r=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,o=new tn(e,i,this.binaryShiftByteCount+1,n+r);return 2078===o.binaryShiftByteCount&&(o=o.endBinaryShift(t+1)),o}endBinaryShift(t){if(0===this.binaryShiftByteCount)return this;let e=this.token;return e=Ui(e,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new tn(e,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let e=this.bitCount+(Ki[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?e+=tn.calculateBinaryShiftCost(t)-tn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(e+=10),e<=t.bitCount}toBitArray(t){let e=[];for(let i=this.endBinaryShift(t.length).token;null!==i;i=i.getPrevious())e.unshift(i);let i=new b;for(const n of e)n.appendTo(i,t);return i}toString(){return x.format("%s bits=%d bytes=%d",Wi[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}function en(t){const e=x.getCharCode(" "),i=x.getCharCode("."),n=x.getCharCode(",");t[Yi][e]=1;const r=x.getCharCode("Z"),o=x.getCharCode("A");for(let e=o;e<=r;e++)t[Yi][e]=e-o+2;t[Gi][e]=1;const s=x.getCharCode("z"),a=x.getCharCode("a");for(let e=a;e<=s;e++)t[Gi][e]=e-a+2;t[Xi][e]=1;const c=x.getCharCode("9"),l=x.getCharCode("0");for(let e=l;e<=c;e++)t[Xi][e]=e-l+2;t[Xi][n]=12,t[Xi][i]=13;const h=["\0"," ","","","","","","","","\b","\t","\n","\v","\f","\r","","","","","","@","\\","^","_","`","|","~",""];for(let e=0;e<h.length;e++)t[Zi][x.getCharCode(h[e])]=e;const d=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let e=0;e<d.length;e++)x.getCharCode(d[e])>0&&(t[qi][x.getCharCode(d[e])]=e);return t}tn.INITIAL_STATE=new tn(Qi,Yi,0,0);const nn=en(w.createInt32Array(5,256));class rn{constructor(t){this.text=t}encode(){const t=x.getCharCode(" "),e=x.getCharCode("\n");let i=Fi.singletonList(tn.INITIAL_STATE);for(let n=0;n<this.text.length;n++){let r,o=n+1<this.text.length?this.text[n+1]:0;switch(this.text[n]){case x.getCharCode("\r"):r=o===e?2:0;break;case x.getCharCode("."):r=o===t?3:0;break;case x.getCharCode(","):r=o===t?4:0;break;case x.getCharCode(":"):r=o===t?5:0;break;default:r=0}r>0?(i=rn.updateStateListForPair(i,n,r),n++):i=this.updateStateListForChar(i,n)}return Fi.min(i,((t,e)=>t.getBitCount()-e.getBitCount())).toBitArray(this.text)}updateStateListForChar(t,e){const i=[];for(let n of t)this.updateStateForChar(n,e,i);return rn.simplifyStates(i)}updateStateForChar(t,e,i){let n=255&this.text[e],r=nn[t.getMode()][n]>0,o=null;for(let s=0;s<=qi;s++){let a=nn[s][n];if(a>0){if(null==o&&(o=t.endBinaryShift(e)),!r||s===t.getMode()||s===Xi){const t=o.latchAndAppend(s,a);i.push(t)}if(!r&&Ji[t.getMode()][s]>=0){const t=o.shiftAndAppend(s,a);i.push(t)}}}if(t.getBinaryShiftByteCount()>0||0===nn[t.getMode()][n]){let n=t.addBinaryShiftChar(e);i.push(n)}}static updateStateListForPair(t,e,i){const n=[];for(let r of t)this.updateStateForPair(r,e,i,n);return this.simplifyStates(n)}static updateStateForPair(t,e,i,n){let r=t.endBinaryShift(e);if(n.push(r.latchAndAppend(qi,i)),t.getMode()!==qi&&n.push(r.shiftAndAppend(qi,i)),3===i||4===i){let t=r.latchAndAppend(Xi,16-i).latchAndAppend(Xi,1);n.push(t)}if(t.getBinaryShiftByteCount()>0){let i=t.addBinaryShiftChar(e).addBinaryShiftChar(e+1);n.push(i)}}static simplifyStates(t){let e=[];for(const i of t){let t=!0;for(const n of e){if(n.isBetterThanOrEqualTo(i)){t=!1;break}i.isBetterThanOrEqualTo(n)&&(e=e.filter((t=>t!==n)))}t&&e.push(i)}return e}}class on{constructor(){}static encodeBytes(t){return on.encode(t,on.DEFAULT_EC_PERCENT,on.DEFAULT_AZTEC_LAYERS)}static encode(t,e,i){let n,r,o,s,a,c=new rn(t).encode(),l=_.truncDivision(c.getSize()*e,100)+11,h=c.getSize()+l;if(i!==on.DEFAULT_AZTEC_LAYERS){if(n=i<0,r=Math.abs(i),r>(n?on.MAX_NB_BITS_COMPACT:on.MAX_NB_BITS))throw new d(x.format("Illegal value %s for layers",i));o=on.totalBitsInLayer(r,n),s=on.WORD_SIZE[r];let t=o-o%s;if(a=on.stuffBits(c,s),a.getSize()+l>t)throw new d("Data to large for user specified layer");if(n&&a.getSize()>64*s)throw new d("Data to large for user specified layer")}else{s=0,a=null;for(let t=0;;t++){if(t>on.MAX_NB_BITS)throw new d("Data too large for an Aztec code");if(n=t<=3,r=n?t+1:t,o=on.totalBitsInLayer(r,n),h>o)continue;null!=a&&s===on.WORD_SIZE[r]||(s=on.WORD_SIZE[r],a=on.stuffBits(c,s));let e=o-o%s;if(!(n&&a.getSize()>64*s)&&a.getSize()+l<=e)break}}let u,f=on.generateCheckWords(a,o,s),g=a.getSize()/s,p=on.generateModeMessage(n,r,g),m=(n?11:14)+4*r,y=new Int32Array(m);if(n){u=m;for(let t=0;t<y.length;t++)y[t]=t}else{u=m+1+2*_.truncDivision(_.truncDivision(m,2)-1,15);let t=_.truncDivision(m,2),e=_.truncDivision(u,2);for(let i=0;i<t;i++){let n=i+_.truncDivision(i,15);y[t-i-1]=e-n-1,y[t+i]=e+n+1}}let w=new M(u);for(let t=0,e=0;t<r;t++){let i=4*(r-t)+(n?9:12);for(let n=0;n<i;n++){let r=2*n;for(let o=0;o<2;o++)f.get(e+r+o)&&w.set(y[2*t+o],y[2*t+n]),f.get(e+2*i+r+o)&&w.set(y[2*t+n],y[m-1-2*t-o]),f.get(e+4*i+r+o)&&w.set(y[m-1-2*t-o],y[m-1-2*t-n]),f.get(e+6*i+r+o)&&w.set(y[m-1-2*t-n],y[2*t+o])}e+=8*i}if(on.drawModeMessage(w,n,u,p),n)on.drawBullsEye(w,_.truncDivision(u,2),5);else{on.drawBullsEye(w,_.truncDivision(u,2),7);for(let t=0,e=0;t<_.truncDivision(m,2)-1;t+=15,e+=16)for(let t=1&_.truncDivision(u,2);t<u;t+=2)w.set(_.truncDivision(u,2)-e,t),w.set(_.truncDivision(u,2)+e,t),w.set(t,_.truncDivision(u,2)-e),w.set(t,_.truncDivision(u,2)+e)}let b=new Bi;return b.setCompact(n),b.setSize(u),b.setLayers(r),b.setCodeWords(g),b.setMatrix(w),b}static drawBullsEye(t,e,i){for(let n=0;n<i;n+=2)for(let i=e-n;i<=e+n;i++)t.set(i,e-n),t.set(i,e+n),t.set(e-n,i),t.set(e+n,i);t.set(e-i,e-i),t.set(e-i+1,e-i),t.set(e-i,e-i+1),t.set(e+i,e-i),t.set(e+i,e-i+1),t.set(e+i,e+i-1)}static generateModeMessage(t,e,i){let n=new b;return t?(n.appendBits(e-1,2),n.appendBits(i-1,6),n=on.generateCheckWords(n,28,4)):(n.appendBits(e-1,5),n.appendBits(i-1,11),n=on.generateCheckWords(n,40,4)),n}static drawModeMessage(t,e,i,n){let r=_.truncDivision(i,2);if(e)for(let e=0;e<7;e++){let i=r-3+e;n.get(e)&&t.set(i,r-5),n.get(e+7)&&t.set(r+5,i),n.get(20-e)&&t.set(i,r+5),n.get(27-e)&&t.set(r-5,i)}else for(let e=0;e<10;e++){let i=r-5+e+_.truncDivision(e,5);n.get(e)&&t.set(i,r-7),n.get(e+10)&&t.set(r+7,i),n.get(29-e)&&t.set(i,r+7),n.get(39-e)&&t.set(r-7,i)}}static generateCheckWords(t,e,i){let n=t.getSize()/i,r=new Ei(on.getGF(i)),o=_.truncDivision(e,i),s=on.bitsToWords(t,i,o);r.encode(s,o-n);let a=e%i,c=new b;c.appendBits(0,a);for(const t of Array.from(s))c.appendBits(t,i);return c}static bitsToWords(t,e,i){let n,r,o=new Int32Array(i);for(n=0,r=t.getSize()/e;n<r;n++){let i=0;for(let r=0;r<e;r++)i|=t.get(n*e+r)?1<<e-r-1:0;o[n]=i}return o}static getGF(t){switch(t){case 4:return tt.AZTEC_PARAM;case 6:return tt.AZTEC_DATA_6;case 8:return tt.AZTEC_DATA_8;case 10:return tt.AZTEC_DATA_10;case 12:return tt.AZTEC_DATA_12;default:throw new d("Unsupported word size "+t)}}static stuffBits(t,e){let i=new b,n=t.getSize(),r=(1<<e)-2;for(let o=0;o<n;o+=e){let s=0;for(let i=0;i<e;i++)(o+i>=n||t.get(o+i))&&(s|=1<<e-1-i);(s&r)===r?(i.appendBits(s&r,e),o--):s&r?i.appendBits(s,e):(i.appendBits(1|s,e),o--)}return i}static totalBitsInLayer(t,e){return((e?88:112)+16*t)*t}}on.DEFAULT_EC_PERCENT=33,on.DEFAULT_AZTEC_LAYERS=0,on.MAX_NB_BITS=32,on.MAX_NB_BITS_COMPACT=4,on.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class sn{encode(t,e,i,n){return this.encodeWithHints(t,e,i,n,null)}encodeWithHints(t,e,i,n,r){let o=Pi.ISO_8859_1,s=on.DEFAULT_EC_PERCENT,a=on.DEFAULT_AZTEC_LAYERS;return null!=r&&(r.has(vi.CHARACTER_SET)&&(o=Li.forName(r.get(vi.CHARACTER_SET).toString())),r.has(vi.ERROR_CORRECTION)&&(s=_.parseInt(r.get(vi.ERROR_CORRECTION).toString())),r.has(vi.AZTEC_LAYERS)&&(a=_.parseInt(r.get(vi.AZTEC_LAYERS).toString()))),sn.encodeLayers(t,e,i,n,o,s,a)}static encodeLayers(t,e,i,n,r,o,s){if(e!==U.AZTEC)throw new d("Can only encode AZTEC, but got "+e);let a=on.encode(x.getBytes(t,r),o,s);return sn.renderResult(a,i,n)}static renderResult(t,e,i){let n=t.getMatrix();if(null==n)throw new it;let r=n.getWidth(),o=n.getHeight(),s=Math.max(e,r),a=Math.max(i,o),c=Math.min(s/r,a/o),l=(s-r*c)/2,h=(a-o*c)/2,d=new M(s,a);for(let t=0,e=h;t<o;t++,e+=c)for(let i=0,o=l;i<r;i++,o+=c)n.get(i,t)&&d.setRegion(o,e,c,c);return d}}t.AbstractExpandedDecoder=Yt,t.ArgumentException=h,t.ArithmeticException=J,t.AztecCode=Bi,t.AztecCodeReader=yt,t.AztecCodeWriter=sn,t.AztecDecoder=rt,t.AztecDetector=mt,t.AztecDetectorResult=lt,t.AztecEncoder=on,t.AztecHighLevelEncoder=rn,t.AztecPoint=pt,t.BarcodeFormat=U,t.Binarizer=g,t.BinaryBitmap=u,t.BitArray=b,t.BitMatrix=M,t.BitSource=pe,t.BrowserAztecCodeReader=wt,t.BrowserBarcodeReader=le,t.BrowserCodeReader=H,t.BrowserDatamatrixCodeReader=be,t.BrowserMultiFormatReader=yi,t.BrowserPDF417Reader=wi,t.BrowserQRCodeReader=_i,t.BrowserQRCodeSvgWriter=Di,t.CharacterSetECI=C,t.ChecksumException=f,t.Code128Reader=bt,t.Code39Reader=vt,t.DataMatrixDecodedBitStreamParser=me,t.DataMatrixReader=_e,t.DecodeHintType=E,t.DecoderResult=Q,t.DefaultGridSampler=ft,t.DetectorResult=ct,t.EAN13Reader=Tt,t.EncodeHintType=vi,t.Exception=l,t.FormatException=A,t.GenericGF=tt,t.GenericGFPoly=$,t.GlobalHistogramBinarizer=O,t.GridSampler=dt,t.GridSamplerInstance=gt,t.HTMLCanvasElementLuminanceSource=L,t.HybridBinarizer=R,t.ITFReader=Et,t.IllegalArgumentException=d,t.IllegalStateException=it,t.InvertedLuminanceSource=k,t.LuminanceSource=N,t.MathUtils=ot,t.MultiFormatOneDReader=ce,t.MultiFormatReader=mi,t.MultiFormatWriter=Ri,t.NotFoundException=D,t.OneDReader=_t,t.PDF417DecodedBitStreamParser=ui,t.PDF417DecoderErrorCorrection=Ge,t.PDF417Reader=gi,t.PDF417ResultMetadata=ii,t.PerspectiveTransform=ut,t.PlanarYUVLuminanceSource=Ni,t.QRCodeByteMatrix=Ci,t.QRCodeDataMask=Ie,t.QRCodeDecodedBitStreamParser=De,t.QRCodeDecoderErrorCorrectionLevel=ve,t.QRCodeDecoderFormatInformation=Ee,t.QRCodeEncoder=Mi,t.QRCodeEncoderQRCode=Si,t.QRCodeMaskUtil=Ai,t.QRCodeMatrixUtil=xi,t.QRCodeMode=Me,t.QRCodeReader=He,t.QRCodeVersion=Se,t.QRCodeWriter=Oi,t.RGBLuminanceSource=ki,t.RSS14Reader=ae,t.RSSExpandedReader=oe,t.ReaderException=pi,t.ReedSolomonDecoder=nt,t.ReedSolomonEncoder=Ei,t.ReedSolomonException=et,t.Result=V,t.ResultMetadataType=q,t.ResultPoint=at,t.StringUtils=x,t.UnsupportedOperationException=S,t.VideoInputDevice=P,t.WhiteRectangleDetector=ht,t.WriterException=Ii,t.ZXingArrays=w,t.ZXingCharset=Li,t.ZXingInteger=_,t.ZXingStandardCharsets=Pi,t.ZXingStringBuilder=T,t.ZXingStringEncoding=I,t.ZXingSystem=p,t.createAbstractExpandedDecoder=ie,Object.defineProperty(t,"__esModule",{value:!0})}(e)},9296:(t,e,i)=>{"use strict";var n=i(4055)("span").classList,r=n&&n.constructor&&n.constructor.prototype;t.exports=r===Object.prototype?void 0:r},9297:(t,e,i)=>{"use strict";var n=i(9504),r=i(8981),o=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(r(t),e)}},9306:(t,e,i)=>{"use strict";var n=i(4901),r=i(6823),o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(r(t)+" is not a function")}},9433:(t,e,i)=>{"use strict";var n=i(4576),r=Object.defineProperty;t.exports=function(t,e){try{r(n,t,{value:e,configurable:!0,writable:!0})}catch(i){n[t]=e}return e}},9472:(t,e,i)=>{"use strict";var n,r=i(4576),o=i(8745),s=i(4901),a=i(4215),c=i(2839),l=i(7680),h=i(2812),d=r.Function,u=/MSIE .\./.test(c)||"BUN"===a&&((n=r.Bun.version.split(".")).length<3||"0"===n[0]&&(n[1]<3||"3"===n[1]&&"0"===n[2]));t.exports=function(t,e){var i=e?2:1;return u?function(n,r){var a=h(arguments.length,1)>i,c=s(n)?n:d(n),u=a?l(arguments,i):[],f=a?function(){o(c,this,u)}:c;return e?t(f,r):t(f)}:t}},9504:(t,e,i)=>{"use strict";var n=i(616),r=Function.prototype,o=r.call,s=n&&r.bind.bind(o,o);t.exports=n?s:function(t){return function(){return o.apply(t,arguments)}}},9519:(t,e,i)=>{"use strict";var n,r,o=i(4576),s=i(2839),a=o.process,c=o.Deno,l=a&&a.versions||c&&c.version,h=l&&l.v8;h&&(r=(n=h.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!r&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(r=+n[1]),t.exports=r},9539:(t,e,i)=>{"use strict";var n=i(9565),r=i(8551),o=i(5966);t.exports=function(t,e,i){var s,a;r(t);try{if(!(s=o(t,"return"))){if("throw"===e)throw i;return i}s=n(s,t)}catch(t){a=!0,s=t}if("throw"===e)throw i;if(a)throw s;return r(s),i}},9544:(t,e,i)=>{"use strict";var n=i(2839);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},9565:(t,e,i)=>{"use strict";var n=i(616),r=Function.prototype.call;t.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},9617:(t,e,i)=>{"use strict";var n=i(5397),r=i(5610),o=i(6198),s=function(t){return function(e,i,s){var a=n(e),c=o(a);if(0===c)return!t&&-1;var l,h=r(s,c);if(t&&i!=i){for(;c>h;)if((l=a[h++])!=l)return!0}else for(;c>h;h++)if((t||h in a)&&a[h]===i)return t||h||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}}}]);