"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[524],{4028:(e,t,n)=>{n(1629),n(4423),n(6099),n(8459),n(3362),n(7495),n(1699),n(5440),n(8992),n(3949),n(3500),n(6031),n(2315);var a=n(6349),r=n(8289),o=n(6314),c=n.n(o);document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("product-list");if(e){new(c())(e);c().extend("text",(function(e){return!e.includes("â‚¬")&&!e.includes("%")}),(function(e,t){return e.localeCompare(t,"sl")})),c().extend("number",(function(e){return e.includes("â‚¬")||e.includes("%")}),(function(e,t){var n=parseFloat(e.replace(/[^\d.-]/g,""))||0;return(parseFloat(t.replace(/[^\d.-]/g,""))||0)-n})),e.addEventListener("afterSort",(function(){e.querySelectorAll("th").forEach((function(e){e.classList.remove("sorted-asc","sorted-desc")}));var t=e.querySelector("th.sortable.sorted");t&&(t.classList.contains("asc")?t.classList.add("sorted-asc"):t.classList.contains("desc")&&t.classList.add("sorted-desc"))}))}document.querySelectorAll(".fetch-button").forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("data-id");t&&fetch("pin/".concat(t)).then((function(t){var n=e.querySelector("svg");n.classList.contains("fill-red-700")?(n.classList.remove("fill-red-700"),n.setAttribute("stroke-width","1")):(n.classList.add("fill-red-700"),n.setAttribute("stroke-width","0"))})).catch((function(e){console.error("Error fetching pin:",e)}))}))}));var t=null;document.querySelectorAll(".open-chart").forEach((function(e){e.addEventListener("click",(function(){var n=e.getAttribute("data-id");fetch("/chart/".concat(n)).then((function(e){return e.json()})).then((function(e){var n=document.getElementById("myChart"),r=e.title+" - "+e.trgovina;t&&t.destroy(),t=new a.Ay(n,{type:"line",data:e,options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:r,font:{size:16,weight:"bold"},padding:{bottom:20}},legend:{position:"top"},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(e){var t=e.datasetIndex,n=e.dataIndex,a=e.chart.data.datasets[t];return a.formattedData&&a.formattedData[n]?a.label+": "+a.formattedData[n]:a.label+": "+e.parsed.y+" â‚¬"}}}},hover:{mode:"nearest",intersect:!0},scales:{y:{beginAtZero:!1}}}})}))}))}));var n=null;function o(e,t){console.log("Code matched = ".concat(e),t),document.getElementById("qrScannerModal")&&window.Flowbite&&window.Flowbite.Modal.getOrCreateInstance(document.getElementById("qrScannerModal")).hide(),n&&n.clear();var a=document.querySelector('input[name="q"]');if(a){a.value=e;var r=document.getElementById("search-form");r&&r.submit()}}function d(e){console.warn("Code scan error = ".concat(e))}var i=document.getElementById("qr-scan-button");i&&i.addEventListener("click",(function(){setTimeout((function(){if(!n){var e=document.getElementById("reader"),t=e?e.clientWidth:300,a=Math.min(t-50,250);(n=new r.TF("reader",{fps:10,qrbox:{width:a,height:a},rememberLastUsedCamera:!0,aspectRatio:1})).render(o,d)}}),300)}));var s=document.getElementById("qrScannerCloseBtn");function l(){n&&(n.clear(),n=null)}s&&s.addEventListener("click",l),document.addEventListener("hidden.bs.modal",(function(e){"qrScannerModal"===e.target.id&&l()}))}))}},e=>{e.O(0,[690],(()=>{return t=4028,e(e.s=t);var t}));e.O()}]);